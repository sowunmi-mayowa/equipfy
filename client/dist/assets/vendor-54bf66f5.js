import{g as iu,s as pa,a as Xg,r as D,R as Ri}from"./vendor_react-2f0010a0.js";var En=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Mf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Yg(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var Nf={exports:{}},Ff={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(S,x){var V=S.length;S.push(x);e:for(;0<V;){var Q=V-1>>>1,J=S[Q];if(0<i(J,x))S[Q]=x,S[V]=J,V=Q;else break e}}function n(S){return S.length===0?null:S[0]}function r(S){if(S.length===0)return null;var x=S[0],V=S.pop();if(V!==x){S[0]=V;e:for(var Q=0,J=S.length,be=J>>>1;Q<be;){var te=2*(Q+1)-1,ve=S[te],Se=te+1,Ve=S[Se];if(0>i(ve,V))Se<J&&0>i(Ve,ve)?(S[Q]=Ve,S[Se]=V,Q=Se):(S[Q]=ve,S[te]=V,Q=te);else if(Se<J&&0>i(Ve,V))S[Q]=Ve,S[Se]=V,Q=Se;else break e}}return x}function i(S,x){var V=S.sortIndex-x.sortIndex;return V!==0?V:S.id-x.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],l=[],c=1,h=null,f=3,m=!1,d=!1,g=!1,p=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(S){for(var x=n(l);x!==null;){if(x.callback===null)r(l);else if(x.startTime<=S)r(l),x.sortIndex=x.expirationTime,e(u,x);else break;x=n(l)}}function y(S){if(g=!1,I(S),!d)if(n(u)!==null)d=!0,ee(R);else{var x=n(l);x!==null&&Z(y,x.startTime-S)}}function R(S,x){d=!1,g&&(g=!1,v(L),L=-1),m=!0;var V=f;try{for(I(x),h=n(u);h!==null&&(!(h.expirationTime>x)||S&&!U());){var Q=h.callback;if(typeof Q=="function"){h.callback=null,f=h.priorityLevel;var J=Q(h.expirationTime<=x);x=t.unstable_now(),typeof J=="function"?h.callback=J:h===n(u)&&r(u),I(x)}else r(u);h=n(u)}if(h!==null)var be=!0;else{var te=n(l);te!==null&&Z(y,te.startTime-x),be=!1}return be}finally{h=null,f=V,m=!1}}var T=!1,A=null,L=-1,F=5,W=-1;function U(){return!(t.unstable_now()-W<F)}function z(){if(A!==null){var S=t.unstable_now();W=S;var x=!0;try{x=A(!0,S)}finally{x?ie():(T=!1,A=null)}}else T=!1}var ie;if(typeof _=="function")ie=function(){_(z)};else if(typeof MessageChannel<"u"){var he=new MessageChannel,pe=he.port2;he.port1.onmessage=z,ie=function(){pe.postMessage(null)}}else ie=function(){p(z,0)};function ee(S){A=S,T||(T=!0,ie())}function Z(S,x){L=p(function(){S(t.unstable_now())},x)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(S){S.callback=null},t.unstable_continueExecution=function(){d||m||(d=!0,ee(R))},t.unstable_forceFrameRate=function(S){0>S||125<S?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<S?Math.floor(1e3/S):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(S){switch(f){case 1:case 2:case 3:var x=3;break;default:x=f}var V=f;f=x;try{return S()}finally{f=V}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(S,x){switch(S){case 1:case 2:case 3:case 4:case 5:break;default:S=3}var V=f;f=S;try{return x()}finally{f=V}},t.unstable_scheduleCallback=function(S,x,V){var Q=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?Q+V:Q):V=Q,S){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=V+J,S={id:c++,callback:x,priorityLevel:S,startTime:V,expirationTime:J,sortIndex:-1},V>Q?(S.sortIndex=V,e(l,S),n(u)===null&&S===n(l)&&(g?(v(L),L=-1):g=!0,Z(y,V-Q))):(S.sortIndex=J,e(u,S),d||m||(d=!0,ee(R))),S},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(S){var x=f;return function(){var V=f;f=x;try{return S.apply(this,arguments)}finally{f=V}}}})(Ff);Nf.exports=Ff;var Q1=Nf.exports;/**
 * @remix-run/router v1.9.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xe(){return xe=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xe.apply(this,arguments)}var ze;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ze||(ze={}));const pc="popstate";function X1(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Ci("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Wi(i)}return Zg(e,n,null,t)}function we(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Nr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Jg(){return Math.random().toString(36).substr(2,8)}function mc(t,e){return{usr:t.state,key:t.key,idx:e}}function Ci(t,e,n,r){return n===void 0&&(n=null),xe({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?hr(e):e,{state:n,key:e&&e.key||r||Jg()})}function Wi(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function hr(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Zg(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=ze.Pop,u=null,l=c();l==null&&(l=0,o.replaceState(xe({},o.state,{idx:l}),""));function c(){return(o.state||{idx:null}).idx}function h(){a=ze.Pop;let p=c(),v=p==null?null:p-l;l=p,u&&u({action:a,location:g.location,delta:v})}function f(p,v){a=ze.Push;let _=Ci(g.location,p,v);n&&n(_,p),l=c()+1;let I=mc(_,l),y=g.createHref(_);try{o.pushState(I,"",y)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;i.location.assign(y)}s&&u&&u({action:a,location:g.location,delta:1})}function m(p,v){a=ze.Replace;let _=Ci(g.location,p,v);n&&n(_,p),l=c();let I=mc(_,l),y=g.createHref(_);o.replaceState(I,"",y),s&&u&&u({action:a,location:g.location,delta:0})}function d(p){let v=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof p=="string"?p:Wi(p);return we(v,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,v)}let g={get action(){return a},get location(){return t(i,o)},listen(p){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(pc,h),u=p,()=>{i.removeEventListener(pc,h),u=null}},createHref(p){return e(i,p)},createURL:d,encodeLocation(p){let v=d(p);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:f,replace:m,go(p){return o.go(p)}};return g}var Fe;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Fe||(Fe={}));const ey=new Set(["lazy","caseSensitive","path","id","index","children"]);function ty(t){return t.index===!0}function su(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let o=[...n,s],a=typeof i.id=="string"?i.id:o.join("-");if(we(i.index!==!0||!i.children,"Cannot specify children on an index route"),we(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),ty(i)){let u=xe({},i,e(i),{id:a});return r[a]=u,u}else{let u=xe({},i,e(i),{id:a,children:void 0});return r[a]=u,i.children&&(u.children=su(i.children,e,o,r)),u}})}function pi(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?hr(e):e,i=Ao(r.pathname||"/",n);if(i==null)return null;let s=Vf(t);ry(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=fy(s[a],my(i));return o}function ny(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function Vf(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let u={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(we(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let l=vi([r,u.relativePath]),c=n.concat(u);s.children&&s.children.length>0&&(we(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+l+'".')),Vf(s.children,e,c,l)),!(s.path==null&&!s.index)&&e.push({path:l,score:cy(l,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let u of Lf(s.path))i(s,o,u)}),e}function Lf(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=Lf(r.join("/")),a=[];return a.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&a.push(...o),a.map(u=>t.startsWith("/")&&u===""?"/":u)}function ry(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:hy(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const iy=/^:\w+$/,sy=3,oy=2,ay=1,uy=10,ly=-2,gc=t=>t==="*";function cy(t,e){let n=t.split("/"),r=n.length;return n.some(gc)&&(r+=ly),e&&(r+=oy),n.filter(i=>!gc(i)).reduce((i,s)=>i+(iy.test(s)?sy:s===""?ay:uy),r)}function hy(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function fy(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],u=o===n.length-1,l=i==="/"?e:e.slice(i.length)||"/",c=dy({path:a.relativePath,caseSensitive:a.caseSensitive,end:u},l);if(!c)return null;Object.assign(r,c.params);let h=a.route;s.push({params:r,pathname:vi([i,c.pathname]),pathnameBase:Ey(vi([i,c.pathnameBase])),route:h}),c.pathnameBase!=="/"&&(i=vi([i,c.pathnameBase]))}return s}function dy(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=py(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((l,c,h)=>{if(c==="*"){let f=a[h]||"";o=s.slice(0,s.length-f.length).replace(/(.)\/+$/,"$1")}return l[c]=gy(a[h]||"",c),l},{}),pathname:s,pathnameBase:o,pattern:t}}function py(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Nr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function my(t){try{return decodeURI(t)}catch(e){return Nr(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function gy(t,e){try{return decodeURIComponent(t)}catch(n){return Nr(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function Ao(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function yy(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?hr(t):t;return{pathname:n?n.startsWith("/")?n:vy(n,e):e,search:wy(r),hash:by(i)}}function vy(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function ma(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function $f(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function _y(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=hr(t):(i=xe({},t),we(!i.pathname||!i.pathname.includes("?"),ma("?","pathname","search",i)),we(!i.pathname||!i.pathname.includes("#"),ma("#","pathname","hash",i)),we(!i.search||!i.search.includes("#"),ma("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=n;else{let h=e.length-1;if(o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}a=h>=0?e[h]:"/"}let u=yy(i,a),l=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(l||c)&&(u.pathname+="/"),u}const vi=t=>t.join("/").replace(/\/\/+/g,"/"),Ey=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),wy=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,by=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class Uf{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Ty(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const jf=["post","put","patch","delete"],Ay=new Set(jf),Iy=["get",...jf],Sy=new Set(Iy),Ry=new Set([301,302,303,307,308]),Cy=new Set([307,308]),ga={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Py={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},si={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Bf=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xy=t=>({hasErrorBoundary:!!t.hasErrorBoundary});function Y1(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;we(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let E=t.detectErrorBoundary;i=b=>({hasErrorBoundary:E(b)})}else i=xy;let s={},o=su(t.routes,i,void 0,s),a,u=t.basename||"/",l=xe({v7_normalizeFormMethod:!1,v7_prependBasename:!1},t.future),c=null,h=new Set,f=null,m=null,d=null,g=t.hydrationData!=null,p=pi(o,t.history.location,u),v=null;if(p==null){let E=Rt(404,{pathname:t.history.location.pathname}),{matches:b,route:C}=Ac(o);p=b,v={[C.id]:E}}let _=!p.some(E=>E.route.lazy)&&(!p.some(E=>E.route.loader)||t.hydrationData!=null),I,y={historyAction:t.history.action,location:t.history.location,matches:p,initialized:_,navigation:ga,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||v,fetchers:new Map,blockers:new Map},R=ze.Pop,T=!1,A,L=!1,F=!1,W=[],U=[],z=new Map,ie=0,he=-1,pe=new Map,ee=new Set,Z=new Map,S=new Map,x=new Map,V=!1;function Q(){return c=t.history.listen(E=>{let{action:b,location:C,delta:M}=E;if(V){V=!1;return}Nr(x.size===0||M!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let K=Ln({currentLocation:y.location,nextLocation:C,historyAction:b});if(K&&M!=null){V=!0,t.history.go(M*-1),Vn(K,{state:"blocked",location:C,proceed(){Vn(K,{state:"proceeding",proceed:void 0,reset:void 0,location:C}),t.history.go(M)},reset(){let q=new Map(y.blockers);q.set(K,si),te({blockers:q})}});return}return Pe(b,C)}),y.initialized||Pe(ze.Pop,y.location),I}function J(){c&&c(),h.clear(),A&&A.abort(),y.fetchers.forEach((E,b)=>gn(b)),y.blockers.forEach((E,b)=>ms(b))}function be(E){return h.add(E),()=>h.delete(E)}function te(E){y=xe({},y,E),h.forEach(b=>b(y))}function ve(E,b){var C,M;let K=y.actionData!=null&&y.navigation.formMethod!=null&&Nt(y.navigation.formMethod)&&y.navigation.state==="loading"&&((C=E.state)==null?void 0:C._isRedirect)!==!0,q;b.actionData?Object.keys(b.actionData).length>0?q=b.actionData:q=null:K?q=y.actionData:q=null;let X=b.loaderData?Tc(y.loaderData,b.loaderData,b.matches||[],b.errors):y.loaderData,H=y.blockers;H.size>0&&(H=new Map(H),H.forEach((_e,je)=>H.set(je,si)));let j=T===!0||y.navigation.formMethod!=null&&Nt(y.navigation.formMethod)&&((M=E.state)==null?void 0:M._isRedirect)!==!0;a&&(o=a,a=void 0),L||R===ze.Pop||(R===ze.Push?t.history.push(E,E.state):R===ze.Replace&&t.history.replace(E,E.state)),te(xe({},b,{actionData:q,loaderData:X,historyAction:R,location:E,initialized:!0,navigation:ga,revalidation:"idle",restoreScrollPosition:gs(E,b.matches||y.matches),preventScrollReset:j,blockers:H})),R=ze.Pop,T=!1,L=!1,F=!1,W=[],U=[]}async function Se(E,b){if(typeof E=="number"){t.history.go(E);return}let C=ou(y.location,y.matches,u,l.v7_prependBasename,E,b==null?void 0:b.fromRouteId,b==null?void 0:b.relative),{path:M,submission:K,error:q}=yc(l.v7_normalizeFormMethod,!1,C,b),X=y.location,H=Ci(y.location,M,b&&b.state);H=xe({},H,t.history.encodeLocation(H));let j=b&&b.replace!=null?b.replace:void 0,_e=ze.Push;j===!0?_e=ze.Replace:j===!1||K!=null&&Nt(K.formMethod)&&K.formAction===y.location.pathname+y.location.search&&(_e=ze.Replace);let je=b&&"preventScrollReset"in b?b.preventScrollReset===!0:void 0,ae=Ln({currentLocation:X,nextLocation:H,historyAction:_e});if(ae){Vn(ae,{state:"blocked",location:H,proceed(){Vn(ae,{state:"proceeding",proceed:void 0,reset:void 0,location:H}),Se(E,b)},reset(){let me=new Map(y.blockers);me.set(ae,si),te({blockers:me})}});return}return await Pe(_e,H,{submission:K,pendingError:q,preventScrollReset:je,replace:b&&b.replace})}function Ve(){if(ct(),te({revalidation:"loading"}),y.navigation.state!=="submitting"){if(y.navigation.state==="idle"){Pe(y.historyAction,y.location,{startUninterruptedRevalidation:!0});return}Pe(R||y.historyAction,y.navigation.location,{overrideNavigation:y.navigation})}}async function Pe(E,b,C){A&&A.abort(),A=null,R=E,L=(C&&C.startUninterruptedRevalidation)===!0,qt(y.location,y.matches),T=(C&&C.preventScrollReset)===!0;let M=a||o,K=C&&C.overrideNavigation,q=pi(M,b,u);if(!q){let me=Rt(404,{pathname:b.pathname}),{matches:Re,route:Dt}=Ac(M);vr(),ve(b,{matches:Re,loaderData:{},errors:{[Dt.id]:me}});return}if(y.initialized&&!F&&Ny(y.location,b)&&!(C&&C.submission&&Nt(C.submission.formMethod))){ve(b,{matches:q});return}A=new AbortController;let X=ai(t.history,b,A.signal,C&&C.submission),H,j;if(C&&C.pendingError)j={[Rr(q).route.id]:C.pendingError};else if(C&&C.submission&&Nt(C.submission.formMethod)){let me=await Be(X,b,C.submission,q,{replace:C.replace});if(me.shortCircuited)return;H=me.pendingActionData,j=me.pendingActionError,K=ya(b,C.submission),X=new Request(X.url,{signal:X.signal})}let{shortCircuited:_e,loaderData:je,errors:ae}=await nn(X,b,q,K,C&&C.submission,C&&C.fetcherSubmission,C&&C.replace,H,j);_e||(A=null,ve(b,xe({matches:q},H?{actionData:H}:{},{loaderData:je,errors:ae})))}async function Be(E,b,C,M,K){K===void 0&&(K={}),ct();let q=$y(b,C);te({navigation:q});let X,H=uu(M,b);if(!H.route.action&&!H.route.lazy)X={type:Fe.error,error:Rt(405,{method:E.method,pathname:b.pathname,routeId:H.route.id})};else if(X=await oi("action",E,H,M,s,i,u),E.signal.aborted)return{shortCircuited:!0};if(Dr(X)){let j;return K&&K.replace!=null?j=K.replace:j=X.location===y.location.pathname+y.location.search,await Ot(y,X,{submission:C,replace:j}),{shortCircuited:!0}}if(_i(X)){let j=Rr(M,H.route.id);return(K&&K.replace)!==!0&&(R=ze.Push),{pendingActionData:{},pendingActionError:{[j.route.id]:X.error}}}if(zn(X))throw Rt(400,{type:"defer-action"});return{pendingActionData:{[H.route.id]:X.data}}}async function nn(E,b,C,M,K,q,X,H,j){let _e=M||ya(b,K),je=K||q||Rc(_e),ae=a||o,[me,Re]=vc(t.history,y,C,je,b,F,W,U,Z,ee,ae,u,H,j);if(vr(fe=>!(C&&C.some(_t=>_t.route.id===fe))||me&&me.some(_t=>_t.route.id===fe)),he=++ie,me.length===0&&Re.length===0){let fe=Ht();return ve(b,xe({matches:C,loaderData:{},errors:j||null},H?{actionData:H}:{},fe?{fetchers:new Map(y.fetchers)}:{})),{shortCircuited:!0}}if(!L){Re.forEach(_t=>{let ge=y.fetchers.get(_t.key),ue=ui(void 0,ge?ge.data:void 0);y.fetchers.set(_t.key,ue)});let fe=H||y.actionData;te(xe({navigation:_e},fe?Object.keys(fe).length===0?{actionData:null}:{actionData:fe}:{},Re.length>0?{fetchers:new Map(y.fetchers)}:{}))}Re.forEach(fe=>{z.has(fe.key)&&Ne(fe.key),fe.controller&&z.set(fe.key,fe.controller)});let Dt=()=>Re.forEach(fe=>Ne(fe.key));A&&A.signal.addEventListener("abort",Dt);let{results:Wt,loaderResults:$n,fetcherResults:ni}=await mn(y.matches,C,me,Re,E);if(E.signal.aborted)return{shortCircuited:!0};A&&A.signal.removeEventListener("abort",Dt),Re.forEach(fe=>z.delete(fe.key));let At=Ic(Wt);if(At){if(At.idx>=me.length){let fe=Re[At.idx-me.length].key;ee.add(fe)}return await Ot(y,At.result,{replace:X}),{shortCircuited:!0}}let{loaderData:It,errors:kt}=bc(y,C,me,$n,j,Re,ni,S);S.forEach((fe,_t)=>{fe.subscribe(ge=>{(ge||fe.done)&&S.delete(_t)})});let ri=Ht(),_r=ps(he),Er=ri||_r||Re.length>0;return xe({loaderData:It,errors:kt},Er?{fetchers:new Map(y.fetchers)}:{})}function xt(E){return y.fetchers.get(E)||Py}function nt(E,b,C,M){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");z.has(E)&&Ne(E);let K=a||o,q=ou(y.location,y.matches,u,l.v7_prependBasename,C,b,M==null?void 0:M.relative),X=pi(K,q,u);if(!X){rn(E,b,Rt(404,{pathname:q}));return}let{path:H,submission:j,error:_e}=yc(l.v7_normalizeFormMethod,!0,q,M);if(_e){rn(E,b,_e);return}let je=uu(X,H);if(T=(M&&M.preventScrollReset)===!0,j&&Nt(j.formMethod)){Nn(E,b,H,je,X,j);return}Z.set(E,{routeId:b,path:H}),Fn(E,b,H,je,X,j)}async function Nn(E,b,C,M,K,q){if(ct(),Z.delete(E),!M.route.action&&!M.route.lazy){let $=Rt(405,{method:q.formMethod,pathname:C,routeId:b});rn(E,b,$);return}let X=y.fetchers.get(E),H=Uy(q,X);y.fetchers.set(E,H),te({fetchers:new Map(y.fetchers)});let j=new AbortController,_e=ai(t.history,C,j.signal,q);z.set(E,j);let je=ie,ae=await oi("action",_e,M,K,s,i,u);if(_e.signal.aborted){z.get(E)===j&&z.delete(E);return}if(Dr(ae))if(z.delete(E),he>je){let $=Ir(void 0);y.fetchers.set(E,$),te({fetchers:new Map(y.fetchers)});return}else{ee.add(E);let $=ui(q);return y.fetchers.set(E,$),te({fetchers:new Map(y.fetchers)}),Ot(y,ae,{fetcherSubmission:q})}if(_i(ae)){rn(E,b,ae.error);return}if(zn(ae))throw Rt(400,{type:"defer-action"});let me=y.navigation.location||y.location,Re=ai(t.history,me,j.signal),Dt=a||o,Wt=y.navigation.state!=="idle"?pi(Dt,y.navigation.location,u):y.matches;we(Wt,"Didn't find any matches after fetcher action");let $n=++ie;pe.set(E,$n);let ni=ui(q,ae.data);y.fetchers.set(E,ni);let[At,It]=vc(t.history,y,Wt,q,me,F,W,U,Z,ee,Dt,u,{[M.route.id]:ae.data},void 0);It.filter($=>$.key!==E).forEach($=>{let Ce=$.key,De=y.fetchers.get(Ce),St=ui(void 0,De?De.data:void 0);y.fetchers.set(Ce,St),z.has(Ce)&&Ne(Ce),$.controller&&z.set(Ce,$.controller)}),te({fetchers:new Map(y.fetchers)});let kt=()=>It.forEach($=>Ne($.key));j.signal.addEventListener("abort",kt);let{results:ri,loaderResults:_r,fetcherResults:Er}=await mn(y.matches,Wt,At,It,Re);if(j.signal.aborted)return;j.signal.removeEventListener("abort",kt),pe.delete(E),z.delete(E),It.forEach($=>z.delete($.key));let fe=Ic(ri);if(fe){if(fe.idx>=At.length){let $=It[fe.idx-At.length].key;ee.add($)}return Ot(y,fe.result)}let{loaderData:_t,errors:ge}=bc(y,y.matches,At,_r,void 0,It,Er,S);if(y.fetchers.has(E)){let $=Ir(ae.data);y.fetchers.set(E,$)}let ue=ps($n);y.navigation.state==="loading"&&$n>he?(we(R,"Expected pending action"),A&&A.abort(),ve(y.navigation.location,{matches:Wt,loaderData:_t,errors:ge,fetchers:new Map(y.fetchers)})):(te(xe({errors:ge,loaderData:Tc(y.loaderData,_t,Wt,ge)},ue||It.length>0?{fetchers:new Map(y.fetchers)}:{})),F=!1)}async function Fn(E,b,C,M,K,q){let X=y.fetchers.get(E),H=ui(q,X?X.data:void 0);y.fetchers.set(E,H),te({fetchers:new Map(y.fetchers)});let j=new AbortController,_e=ai(t.history,C,j.signal);z.set(E,j);let je=ie,ae=await oi("loader",_e,M,K,s,i,u);if(zn(ae)&&(ae=await qf(ae,_e.signal,!0)||ae),z.get(E)===j&&z.delete(E),_e.signal.aborted)return;if(Dr(ae))if(he>je){let Re=Ir(void 0);y.fetchers.set(E,Re),te({fetchers:new Map(y.fetchers)});return}else{ee.add(E),await Ot(y,ae);return}if(_i(ae)){let Re=Rr(y.matches,b);y.fetchers.delete(E),te({fetchers:new Map(y.fetchers),errors:{[Re.route.id]:ae.error}});return}we(!zn(ae),"Unhandled fetcher deferred data");let me=Ir(ae.data);y.fetchers.set(E,me),te({fetchers:new Map(y.fetchers)})}async function Ot(E,b,C){let{submission:M,fetcherSubmission:K,replace:q}=C===void 0?{}:C;b.revalidate&&(F=!0);let X=Ci(E.location,b.location,{_isRedirect:!0});if(we(X,"Expected a location on the redirect navigation"),n){let me=!1;if(b.reloadDocument)me=!0;else if(Bf.test(b.location)){const Re=t.history.createURL(b.location);me=Re.origin!==e.location.origin||Ao(Re.pathname,u)==null}if(me){q?e.location.replace(b.location):e.location.assign(b.location);return}}A=null;let H=q===!0?ze.Replace:ze.Push,{formMethod:j,formAction:_e,formEncType:je}=E.navigation;!M&&!K&&j&&_e&&je&&(M=Rc(E.navigation));let ae=M||K;if(Cy.has(b.status)&&ae&&Nt(ae.formMethod))await Pe(H,X,{submission:xe({},ae,{formAction:b.location}),preventScrollReset:T});else{let me=ya(X,M);await Pe(H,X,{overrideNavigation:me,fetcherSubmission:K,preventScrollReset:T})}}async function mn(E,b,C,M,K){let q=await Promise.all([...C.map(j=>oi("loader",K,j,b,s,i,u)),...M.map(j=>j.matches&&j.match&&j.controller?oi("loader",ai(t.history,j.path,j.controller.signal),j.match,j.matches,s,i,u):{type:Fe.error,error:Rt(404,{pathname:j.path})})]),X=q.slice(0,C.length),H=q.slice(C.length);return await Promise.all([Sc(E,C,X,X.map(()=>K.signal),!1,y.loaderData),Sc(E,M.map(j=>j.match),H,M.map(j=>j.controller?j.controller.signal:null),!0)]),{results:q,loaderResults:X,fetcherResults:H}}function ct(){F=!0,W.push(...vr()),Z.forEach((E,b)=>{z.has(b)&&(U.push(b),Ne(b))})}function rn(E,b,C){let M=Rr(y.matches,b);gn(E),te({errors:{[M.route.id]:C},fetchers:new Map(y.fetchers)})}function gn(E){let b=y.fetchers.get(E);z.has(E)&&!(b&&b.state==="loading"&&pe.has(E))&&Ne(E),Z.delete(E),pe.delete(E),ee.delete(E),y.fetchers.delete(E)}function Ne(E){let b=z.get(E);we(b,"Expected fetch controller: "+E),b.abort(),z.delete(E)}function sn(E){for(let b of E){let C=xt(b),M=Ir(C.data);y.fetchers.set(b,M)}}function Ht(){let E=[],b=!1;for(let C of ee){let M=y.fetchers.get(C);we(M,"Expected fetcher: "+C),M.state==="loading"&&(ee.delete(C),E.push(C),b=!0)}return sn(E),b}function ps(E){let b=[];for(let[C,M]of pe)if(M<E){let K=y.fetchers.get(C);we(K,"Expected fetcher: "+C),K.state==="loading"&&(Ne(C),pe.delete(C),b.push(C))}return sn(b),b.length>0}function yr(E,b){let C=y.blockers.get(E)||si;return x.get(E)!==b&&x.set(E,b),C}function ms(E){y.blockers.delete(E),x.delete(E)}function Vn(E,b){let C=y.blockers.get(E)||si;we(C.state==="unblocked"&&b.state==="blocked"||C.state==="blocked"&&b.state==="blocked"||C.state==="blocked"&&b.state==="proceeding"||C.state==="blocked"&&b.state==="unblocked"||C.state==="proceeding"&&b.state==="unblocked","Invalid blocker state transition: "+C.state+" -> "+b.state);let M=new Map(y.blockers);M.set(E,b),te({blockers:M})}function Ln(E){let{currentLocation:b,nextLocation:C,historyAction:M}=E;if(x.size===0)return;x.size>1&&Nr(!1,"A router only supports one blocker at a time");let K=Array.from(x.entries()),[q,X]=K[K.length-1],H=y.blockers.get(q);if(!(H&&H.state==="proceeding")&&X({currentLocation:b,nextLocation:C,historyAction:M}))return q}function vr(E){let b=[];return S.forEach((C,M)=>{(!E||E(M))&&(C.cancel(),b.push(M),S.delete(M))}),b}function da(E,b,C){if(f=E,d=b,m=C||null,!g&&y.navigation===ga){g=!0;let M=gs(y.location,y.matches);M!=null&&te({restoreScrollPosition:M})}return()=>{f=null,d=null,m=null}}function ti(E,b){return m&&m(E,b.map(M=>ny(M,y.loaderData)))||E.key}function qt(E,b){if(f&&d){let C=ti(E,b);f[C]=d()}}function gs(E,b){if(f){let C=ti(E,b),M=f[C];if(typeof M=="number")return M}return null}function Tt(E){s={},a=su(E,i,void 0,s)}return I={get basename(){return u},get state(){return y},get routes(){return o},initialize:Q,subscribe:be,enableScrollRestoration:da,navigate:Se,fetch:nt,revalidate:Ve,createHref:E=>t.history.createHref(E),encodeLocation:E=>t.history.encodeLocation(E),getFetcher:xt,deleteFetcher:gn,dispose:J,getBlocker:yr,deleteBlocker:ms,_internalFetchControllers:z,_internalActiveDeferreds:S,_internalSetRoutes:Tt},I}function Oy(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function ou(t,e,n,r,i,s,o){let a,u;if(s!=null&&o!=="path"){a=[];for(let c of e)if(a.push(c),c.route.id===s){u=c;break}}else a=e,u=e[e.length-1];let l=_y(i||".",$f(a).map(c=>c.pathnameBase),Ao(t.pathname,n)||t.pathname,o==="path");return i==null&&(l.search=t.search,l.hash=t.hash),(i==null||i===""||i===".")&&u&&u.route.index&&!tl(l.search)&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(l.pathname=l.pathname==="/"?n:vi([n,l.pathname])),Wi(l)}function yc(t,e,n,r){if(!r||!Oy(r))return{path:n};if(r.formMethod&&!Ly(r.formMethod))return{path:n,error:Rt(405,{method:r.formMethod})};let i=()=>({path:n,error:Rt(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=t?s.toUpperCase():s.toLowerCase(),a=Hf(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Nt(o))return i();let f=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((m,d)=>{let[g,p]=d;return""+m+g+"="+p+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:f}}}else if(r.formEncType==="application/json"){if(!Nt(o))return i();try{let f=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:f,text:void 0}}}catch{return i()}}}we(typeof FormData=="function","FormData is not available in this environment");let u,l;if(r.formData)u=au(r.formData),l=r.formData;else if(r.body instanceof FormData)u=au(r.body),l=r.body;else if(r.body instanceof URLSearchParams)u=r.body,l=wc(u);else if(r.body==null)u=new URLSearchParams,l=new FormData;else try{u=new URLSearchParams(r.body),l=wc(u)}catch{return i()}let c={formMethod:o,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:l,json:void 0,text:void 0};if(Nt(c.formMethod))return{path:n,submission:c};let h=hr(n);return e&&h.search&&tl(h.search)&&u.append("index",""),h.search="?"+u,{path:Wi(h),submission:c}}function Dy(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function vc(t,e,n,r,i,s,o,a,u,l,c,h,f,m){let d=m?Object.values(m)[0]:f?Object.values(f)[0]:void 0,g=t.createURL(e.location),p=t.createURL(i),v=m?Object.keys(m)[0]:void 0,I=Dy(n,v).filter((R,T)=>{if(R.route.lazy)return!0;if(R.route.loader==null)return!1;if(ky(e.loaderData,e.matches[T],R)||o.some(F=>F===R.route.id))return!0;let A=e.matches[T],L=R;return _c(R,xe({currentUrl:g,currentParams:A.params,nextUrl:p,nextParams:L.params},r,{actionResult:d,defaultShouldRevalidate:s||g.pathname+g.search===p.pathname+p.search||g.search!==p.search||zf(A,L)}))}),y=[];return u.forEach((R,T)=>{if(!n.some(U=>U.route.id===R.routeId))return;let A=pi(c,R.path,h);if(!A){y.push({key:T,routeId:R.routeId,path:R.path,matches:null,match:null,controller:null});return}let L=e.fetchers.get(T),F=uu(A,R.path),W=!1;l.has(T)?W=!1:a.includes(T)?W=!0:L&&L.state!=="idle"&&L.data===void 0?W=s:W=_c(F,xe({currentUrl:g,currentParams:e.matches[e.matches.length-1].params,nextUrl:p,nextParams:n[n.length-1].params},r,{actionResult:d,defaultShouldRevalidate:s})),W&&y.push({key:T,routeId:R.routeId,path:R.path,matches:A,match:F,controller:new AbortController})}),[I,y]}function ky(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function zf(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function _c(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function Ec(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];we(i,"No route found in manifest");let s={};for(let o in r){let u=i[o]!==void 0&&o!=="hasErrorBoundary";Nr(!u,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!u&&!ey.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,xe({},e(i),{lazy:void 0}))}async function oi(t,e,n,r,i,s,o,a){a===void 0&&(a={});let u,l,c,h=d=>{let g,p=new Promise((v,_)=>g=_);return c=()=>g(),e.signal.addEventListener("abort",c),Promise.race([d({request:e,params:n.params,context:a.requestContext}),p])};try{let d=n.route[t];if(n.route.lazy)if(d){let g,p=await Promise.all([h(d).catch(v=>{g=v}),Ec(n.route,s,i)]);if(g)throw g;l=p[0]}else if(await Ec(n.route,s,i),d=n.route[t],d)l=await h(d);else if(t==="action"){let g=new URL(e.url),p=g.pathname+g.search;throw Rt(405,{method:e.method,pathname:p,routeId:n.route.id})}else return{type:Fe.data,data:void 0};else if(d)l=await h(d);else{let g=new URL(e.url),p=g.pathname+g.search;throw Rt(404,{pathname:p})}we(l!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(d){u=Fe.error,l=d}finally{c&&e.signal.removeEventListener("abort",c)}if(Vy(l)){let d=l.status;if(Ry.has(d)){let v=l.headers.get("Location");if(we(v,"Redirects returned/thrown from loaders/actions must have a Location header"),!Bf.test(v))v=ou(new URL(e.url),r.slice(0,r.indexOf(n)+1),o,!0,v);else if(!a.isStaticRequest){let _=new URL(e.url),I=v.startsWith("//")?new URL(_.protocol+v):new URL(v),y=Ao(I.pathname,o)!=null;I.origin===_.origin&&y&&(v=I.pathname+I.search+I.hash)}if(a.isStaticRequest)throw l.headers.set("Location",v),l;return{type:Fe.redirect,status:d,location:v,revalidate:l.headers.get("X-Remix-Revalidate")!==null,reloadDocument:l.headers.get("X-Remix-Reload-Document")!==null}}if(a.isRouteRequest)throw{type:u===Fe.error?Fe.error:Fe.data,response:l};let g,p=l.headers.get("Content-Type");return p&&/\bapplication\/json\b/.test(p)?g=await l.json():g=await l.text(),u===Fe.error?{type:u,error:new Uf(d,l.statusText,g),headers:l.headers}:{type:Fe.data,data:g,statusCode:l.status,headers:l.headers}}if(u===Fe.error)return{type:u,error:l};if(Fy(l)){var f,m;return{type:Fe.deferred,deferredData:l,statusCode:(f=l.init)==null?void 0:f.status,headers:((m=l.init)==null?void 0:m.headers)&&new Headers(l.init.headers)}}return{type:Fe.data,data:l}}function ai(t,e,n,r){let i=t.createURL(Hf(e)).toString(),s={signal:n};if(r&&Nt(r.formMethod)){let{formMethod:o,formEncType:a}=r;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(r.json)):a==="text/plain"?s.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?s.body=au(r.formData):s.body=r.formData}return new Request(i,s)}function au(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function wc(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function My(t,e,n,r,i){let s={},o=null,a,u=!1,l={};return n.forEach((c,h)=>{let f=e[h].route.id;if(we(!Dr(c),"Cannot handle redirect results in processLoaderData"),_i(c)){let m=Rr(t,f),d=c.error;r&&(d=Object.values(r)[0],r=void 0),o=o||{},o[m.route.id]==null&&(o[m.route.id]=d),s[f]=void 0,u||(u=!0,a=Ty(c.error)?c.error.status:500),c.headers&&(l[f]=c.headers)}else zn(c)?(i.set(f,c.deferredData),s[f]=c.deferredData.data):s[f]=c.data,c.statusCode!=null&&c.statusCode!==200&&!u&&(a=c.statusCode),c.headers&&(l[f]=c.headers)}),r&&(o=r,s[Object.keys(r)[0]]=void 0),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:l}}function bc(t,e,n,r,i,s,o,a){let{loaderData:u,errors:l}=My(e,n,r,i,a);for(let c=0;c<s.length;c++){let{key:h,match:f,controller:m}=s[c];we(o!==void 0&&o[c]!==void 0,"Did not find corresponding fetcher result");let d=o[c];if(!(m&&m.signal.aborted))if(_i(d)){let g=Rr(t.matches,f==null?void 0:f.route.id);l&&l[g.route.id]||(l=xe({},l,{[g.route.id]:d.error})),t.fetchers.delete(h)}else if(Dr(d))we(!1,"Unhandled fetcher revalidation redirect");else if(zn(d))we(!1,"Unhandled fetcher deferred data");else{let g=Ir(d.data);t.fetchers.set(h,g)}}return{loaderData:u,errors:l}}function Tc(t,e,n,r){let i=xe({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function Rr(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function Ac(t){let e=t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Rt(t,e){let{pathname:n,routeId:r,method:i,type:s}=e===void 0?{}:e,o="Unknown Server Error",a="Unknown @remix-run/router error";return t===400?(o="Bad Request",i&&n&&r?a="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?a="defer() is not supported in actions":s==="invalid-body"&&(a="Unable to encode submission body")):t===403?(o="Forbidden",a='Route "'+r+'" does not match URL "'+n+'"'):t===404?(o="Not Found",a='No route matches URL "'+n+'"'):t===405&&(o="Method Not Allowed",i&&n&&r?a="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(a='Invalid request method "'+i.toUpperCase()+'"')),new Uf(t||500,o,new Error(a),!0)}function Ic(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(Dr(n))return{result:n,idx:e}}}function Hf(t){let e=typeof t=="string"?hr(t):t;return Wi(xe({},e,{hash:""}))}function Ny(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function zn(t){return t.type===Fe.deferred}function _i(t){return t.type===Fe.error}function Dr(t){return(t&&t.type)===Fe.redirect}function Fy(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function Vy(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function Ly(t){return Sy.has(t.toLowerCase())}function Nt(t){return Ay.has(t.toLowerCase())}async function Sc(t,e,n,r,i,s){for(let o=0;o<n.length;o++){let a=n[o],u=e[o];if(!u)continue;let l=t.find(h=>h.route.id===u.route.id),c=l!=null&&!zf(l,u)&&(s&&s[u.route.id])!==void 0;if(zn(a)&&(i||c)){let h=r[o];we(h,"Expected an AbortSignal for revalidating fetcher deferred result"),await qf(a,h,i).then(f=>{f&&(n[o]=f||n[o])})}}}async function qf(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Fe.data,data:t.deferredData.unwrappedData}}catch(i){return{type:Fe.error,error:i}}return{type:Fe.data,data:t.deferredData.data}}}function tl(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function uu(t,e){let n=typeof e=="string"?hr(e).search:e.search;if(t[t.length-1].route.index&&tl(n||""))return t[t.length-1];let r=$f(t);return r[r.length-1]}function Rc(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:o}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function ya(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function $y(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function ui(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Uy(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Ir(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function fr(t){this._maxSize=t,this.clear()}fr.prototype.clear=function(){this._size=0,this._values=Object.create(null)};fr.prototype.get=function(t){return this._values[t]};fr.prototype.set=function(t,e){return this._size>=this._maxSize&&this.clear(),t in this._values||this._size++,this._values[t]=e};var jy=/[^.^\]^[]+|(?=\[\]|\.\.)/g,Wf=/^\d+$/,By=/^\d/,zy=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,Hy=/^\s*(['"]?)(.*?)(\1)\s*$/,nl=512,Cc=new fr(nl),Pc=new fr(nl),xc=new fr(nl),Xn={Cache:fr,split:lu,normalizePath:va,setter:function(t){var e=va(t);return Pc.get(t)||Pc.set(t,function(r,i){for(var s=0,o=e.length,a=r;s<o-1;){var u=e[s];if(u==="__proto__"||u==="constructor"||u==="prototype")return r;a=a[e[s++]]}a[e[s]]=i})},getter:function(t,e){var n=va(t);return xc.get(t)||xc.set(t,function(i){for(var s=0,o=n.length;s<o;)if(i!=null||!e)i=i[n[s++]];else return;return i})},join:function(t){return t.reduce(function(e,n){return e+(rl(n)||Wf.test(n)?"["+n+"]":(e?".":"")+n)},"")},forEach:function(t,e,n){qy(Array.isArray(t)?t:lu(t),e,n)}};function va(t){return Cc.get(t)||Cc.set(t,lu(t).map(function(e){return e.replace(Hy,"$2")}))}function lu(t){return t.match(jy)||[""]}function qy(t,e,n){var r=t.length,i,s,o,a;for(s=0;s<r;s++)i=t[s],i&&(Ky(i)&&(i='"'+i+'"'),a=rl(i),o=!a&&/^\d+$/.test(i),e.call(n,i,a,o,s,t))}function rl(t){return typeof t=="string"&&t&&["'",'"'].indexOf(t.charAt(0))!==-1}function Wy(t){return t.match(By)&&!t.match(Wf)}function Gy(t){return zy.test(t)}function Ky(t){return!rl(t)&&(Wy(t)||Gy(t))}const Qy=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['’](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['’](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,Io=t=>t.match(Qy)||[],So=t=>t[0].toUpperCase()+t.slice(1),il=(t,e)=>Io(t).join(e).toLowerCase(),Gf=t=>Io(t).reduce((e,n)=>`${e}${e?n[0].toUpperCase()+n.slice(1).toLowerCase():n.toLowerCase()}`,""),Xy=t=>So(Gf(t)),Yy=t=>il(t,"_"),Jy=t=>il(t,"-"),Zy=t=>So(il(t," ")),ev=t=>Io(t).map(So).join(" ");var _a={words:Io,upperFirst:So,camelCase:Gf,pascalCase:Xy,snakeCase:Yy,kebabCase:Jy,sentenceCase:Zy,titleCase:ev},sl={exports:{}};sl.exports=function(t){return Kf(tv(t),t)};sl.exports.array=Kf;function Kf(t,e){var n=t.length,r=new Array(n),i={},s=n,o=nv(e),a=rv(t);for(e.forEach(function(l){if(!a.has(l[0])||!a.has(l[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});s--;)i[s]||u(t[s],s,new Set);return r;function u(l,c,h){if(h.has(l)){var f;try{f=", node was:"+JSON.stringify(l)}catch{f=""}throw new Error("Cyclic dependency"+f)}if(!a.has(l))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(l));if(!i[c]){i[c]=!0;var m=o.get(l)||new Set;if(m=Array.from(m),c=m.length){h.add(l);do{var d=m[--c];u(d,a.get(d),h)}while(c);h.delete(l)}r[--n]=l}}}function tv(t){for(var e=new Set,n=0,r=t.length;n<r;n++){var i=t[n];e.add(i[0]),e.add(i[1])}return Array.from(e)}function nv(t){for(var e=new Map,n=0,r=t.length;n<r;n++){var i=t[n];e.has(i[0])||e.set(i[0],new Set),e.has(i[1])||e.set(i[1],new Set),e.get(i[0]).add(i[1])}return e}function rv(t){for(var e=new Map,n=0,r=t.length;n<r;n++)e.set(t[n],n);return e}var iv=sl.exports;const sv=Mf(iv),ov=Object.prototype.toString,av=Error.prototype.toString,uv=RegExp.prototype.toString,lv=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",cv=/^Symbol\((.*)\)(.*)$/;function hv(t){return t!=+t?"NaN":t===0&&1/t<0?"-0":""+t}function Oc(t,e=!1){if(t==null||t===!0||t===!1)return""+t;const n=typeof t;if(n==="number")return hv(t);if(n==="string")return e?`"${t}"`:t;if(n==="function")return"[Function "+(t.name||"anonymous")+"]";if(n==="symbol")return lv.call(t).replace(cv,"Symbol($1)");const r=ov.call(t).slice(8,-1);return r==="Date"?isNaN(t.getTime())?""+t:t.toISOString(t):r==="Error"||t instanceof Error?"["+av.call(t)+"]":r==="RegExp"?uv.call(t):null}function bn(t,e){let n=Oc(t,e);return n!==null?n:JSON.stringify(t,function(r,i){let s=Oc(this[r],e);return s!==null?s:i},2)}function Qf(t){return t==null?[]:[].concat(t)}let Xf,fv=/\$\{\s*(\w+)\s*\}/g;Xf=Symbol.toStringTag;class pt extends Error{static formatError(e,n){const r=n.label||n.path||"this";return r!==n.path&&(n=Object.assign({},n,{path:r})),typeof e=="string"?e.replace(fv,(i,s)=>bn(n[s])):typeof e=="function"?e(n):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,n,r,i,s){super(),this.value=void 0,this.path=void 0,this.type=void 0,this.errors=void 0,this.params=void 0,this.inner=void 0,this[Xf]="Error",this.name="ValidationError",this.value=n,this.path=r,this.type=i,this.errors=[],this.inner=[],Qf(e).forEach(o=>{if(pt.isError(o)){this.errors.push(...o.errors);const a=o.inner.length?o.inner:[o];this.inner.push(...a)}else this.errors.push(o)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0],!s&&Error.captureStackTrace&&Error.captureStackTrace(this,pt)}}let Kt={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:t,type:e,value:n,originalValue:r})=>{const i=r!=null&&r!==n?` (cast from the value \`${bn(r,!0)}\`).`:".";return e!=="mixed"?`${t} must be a \`${e}\` type, but the final value was: \`${bn(n,!0)}\``+i:`${t} must match the configured type. The validated value was: \`${bn(n,!0)}\``+i}},Mt={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},vn={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},cu={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},dv={isValue:"${path} field must be ${value}"},hu={noUnknown:"${path} field has unspecified keys: ${unknown}"},pv={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},mv={notType:t=>{const{path:e,value:n,spec:r}=t,i=r.types.length;if(Array.isArray(n)){if(n.length<i)return`${e} tuple value has too few items, expected a length of ${i} but got ${n.length} for value: \`${bn(n,!0)}\``;if(n.length>i)return`${e} tuple value has too many items, expected a length of ${i} but got ${n.length} for value: \`${bn(n,!0)}\``}return pt.formatError(Kt.notType,t)}};Object.assign(Object.create(null),{mixed:Kt,string:Mt,number:vn,date:cu,object:hu,array:pv,boolean:dv,tuple:mv});const ol=t=>t&&t.__isYupSchema__;class Hs{static fromOptions(e,n){if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:r,then:i,otherwise:s}=n,o=typeof r=="function"?r:(...a)=>a.every(u=>u===r);return new Hs(e,(a,u)=>{var l;let c=o(...a)?i:s;return(l=c==null?void 0:c(u))!=null?l:u})}constructor(e,n){this.fn=void 0,this.refs=e,this.refs=e,this.fn=n}resolve(e,n){let r=this.refs.map(s=>s.getValue(n==null?void 0:n.value,n==null?void 0:n.parent,n==null?void 0:n.context)),i=this.fn(r,e,n);if(i===void 0||i===e)return e;if(!ol(i))throw new TypeError("conditions must return a schema object");return i.resolve(n)}}const ys={context:"$",value:"."};class dr{constructor(e,n={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===ys.context,this.isValue=this.key[0]===ys.value,this.isSibling=!this.isContext&&!this.isValue;let r=this.isContext?ys.context:this.isValue?ys.value:"";this.path=this.key.slice(r.length),this.getter=this.path&&Xn.getter(this.path,!0),this.map=n.map}getValue(e,n,r){let i=this.isContext?r:this.isValue?e:n;return this.getter&&(i=this.getter(i||{})),this.map&&(i=this.map(i)),i}cast(e,n){return this.getValue(e,n==null?void 0:n.parent,n==null?void 0:n.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}dr.prototype.__isYupRef=!0;const un=t=>t==null;function wr(t){function e({value:n,path:r="",options:i,originalValue:s,schema:o},a,u){const{name:l,test:c,params:h,message:f,skipAbsent:m}=t;let{parent:d,context:g,abortEarly:p=o.spec.abortEarly,disableStackTrace:v=o.spec.disableStackTrace}=i;function _(U){return dr.isRef(U)?U.getValue(n,d,g):U}function I(U={}){var z;const ie=Object.assign({value:n,originalValue:s,label:o.spec.label,path:U.path||r,spec:o.spec},h,U.params);for(const pe of Object.keys(ie))ie[pe]=_(ie[pe]);const he=new pt(pt.formatError(U.message||f,ie),n,ie.path,U.type||l,(z=U.disableStackTrace)!=null?z:v);return he.params=ie,he}const y=p?a:u;let R={path:r,parent:d,type:l,from:i.from,createError:I,resolve:_,options:i,originalValue:s,schema:o};const T=U=>{pt.isError(U)?y(U):U?u(null):y(I())},A=U=>{pt.isError(U)?y(U):a(U)};if(m&&un(n))return T(!0);let F;try{var W;if(F=c.call(R,n,R),typeof((W=F)==null?void 0:W.then)=="function"){if(i.sync)throw new Error(`Validation test of type: "${R.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(F).then(T,A)}}catch(U){A(U);return}T(F)}return e.OPTIONS=t,e}function gv(t,e,n,r=n){let i,s,o;return e?(Xn.forEach(e,(a,u,l)=>{let c=u?a.slice(1,a.length-1):a;t=t.resolve({context:r,parent:i,value:n});let h=t.type==="tuple",f=l?parseInt(c,10):0;if(t.innerType||h){if(h&&!l)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${o}" must contain an index to the tuple element, e.g. "${o}[0]"`);if(n&&f>=n.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${a}, in the path: ${e}. because there is no value at that index. `);i=n,n=n&&n[f],t=h?t.spec.types[f]:t.innerType}if(!l){if(!t.fields||!t.fields[c])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${o} which is a type: "${t.type}")`);i=n,n=n&&n[c],t=t.fields[c]}s=c,o=u?"["+a+"]":"."+a}),{schema:t,parent:i,parentPath:s}):{parent:i,parentPath:e,schema:t}}class qs extends Set{describe(){const e=[];for(const n of this.values())e.push(dr.isRef(n)?n.describe():n);return e}resolveAll(e){let n=[];for(const r of this.values())n.push(e(r));return n}clone(){return new qs(this.values())}merge(e,n){const r=this.clone();return e.forEach(i=>r.add(i)),n.forEach(i=>r.delete(i)),r}}function Cr(t,e=new Map){if(ol(t)||!t||typeof t!="object")return t;if(e.has(t))return e.get(t);let n;if(t instanceof Date)n=new Date(t.getTime()),e.set(t,n);else if(t instanceof RegExp)n=new RegExp(t),e.set(t,n);else if(Array.isArray(t)){n=new Array(t.length),e.set(t,n);for(let r=0;r<t.length;r++)n[r]=Cr(t[r],e)}else if(t instanceof Map){n=new Map,e.set(t,n);for(const[r,i]of t.entries())n.set(r,Cr(i,e))}else if(t instanceof Set){n=new Set,e.set(t,n);for(const r of t)n.add(Cr(r,e))}else if(t instanceof Object){n={},e.set(t,n);for(const[r,i]of Object.entries(t))n[r]=Cr(i,e)}else throw Error(`Unable to clone ${t}`);return n}class Bt{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new qs,this._blacklist=new qs,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(Kt.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e==null?void 0:e.spec),this.withMutation(n=>{n.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const n=Object.create(Object.getPrototypeOf(this));return n.type=this.type,n._typeCheck=this._typeCheck,n._whitelist=this._whitelist.clone(),n._blacklist=this._blacklist.clone(),n.internalTests=Object.assign({},this.internalTests),n.exclusiveTests=Object.assign({},this.exclusiveTests),n.deps=[...this.deps],n.conditions=[...this.conditions],n.tests=[...this.tests],n.transforms=[...this.transforms],n.spec=Cr(Object.assign({},this.spec,e)),n}label(e){let n=this.clone();return n.spec.label=e,n}meta(...e){if(e.length===0)return this.spec.meta;let n=this.clone();return n.spec.meta=Object.assign(n.spec.meta||{},e[0]),n}withMutation(e){let n=this._mutate;this._mutate=!0;let r=e(this);return this._mutate=n,r}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let n=this,r=e.clone();const i=Object.assign({},n.spec,r.spec);return r.spec=i,r.internalTests=Object.assign({},n.internalTests,r.internalTests),r._whitelist=n._whitelist.merge(e._whitelist,e._blacklist),r._blacklist=n._blacklist.merge(e._blacklist,e._whitelist),r.tests=n.tests,r.exclusiveTests=n.exclusiveTests,r.withMutation(s=>{e.tests.forEach(o=>{s.test(o.OPTIONS)})}),r.transforms=[...n.transforms,...r.transforms],r}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let n=this;if(n.conditions.length){let r=n.conditions;n=n.clone(),n.conditions=[],n=r.reduce((i,s)=>s.resolve(i,e),n),n=n.resolve(e)}return n}resolveOptions(e){var n,r,i,s;return Object.assign({},e,{from:e.from||[],strict:(n=e.strict)!=null?n:this.spec.strict,abortEarly:(r=e.abortEarly)!=null?r:this.spec.abortEarly,recursive:(i=e.recursive)!=null?i:this.spec.recursive,disableStackTrace:(s=e.disableStackTrace)!=null?s:this.spec.disableStackTrace})}cast(e,n={}){let r=this.resolve(Object.assign({value:e},n)),i=n.assert==="ignore-optionality",s=r._cast(e,n);if(n.assert!==!1&&!r.isType(s)){if(i&&un(s))return s;let o=bn(e),a=bn(s);throw new TypeError(`The value of ${n.path||"field"} could not be cast to a value that satisfies the schema type: "${r.type}". 

attempted value: ${o} 
`+(a!==o?`result of cast: ${a}`:""))}return s}_cast(e,n){let r=e===void 0?e:this.transforms.reduce((i,s)=>s.call(this,i,e,this),e);return r===void 0&&(r=this.getDefault(n)),r}_validate(e,n={},r,i){let{path:s,originalValue:o=e,strict:a=this.spec.strict}=n,u=e;a||(u=this._cast(u,Object.assign({assert:!1},n)));let l=[];for(let c of Object.values(this.internalTests))c&&l.push(c);this.runTests({path:s,value:u,originalValue:o,options:n,tests:l},r,c=>{if(c.length)return i(c,u);this.runTests({path:s,value:u,originalValue:o,options:n,tests:this.tests},r,i)})}runTests(e,n,r){let i=!1,{tests:s,value:o,originalValue:a,path:u,options:l}=e,c=g=>{i||(i=!0,n(g,o))},h=g=>{i||(i=!0,r(g,o))},f=s.length,m=[];if(!f)return h([]);let d={value:o,originalValue:a,path:u,options:l,schema:this};for(let g=0;g<s.length;g++){const p=s[g];p(d,c,function(_){_&&(Array.isArray(_)?m.push(..._):m.push(_)),--f<=0&&h(m)})}}asNestedTest({key:e,index:n,parent:r,parentPath:i,originalParent:s,options:o}){const a=e??n;if(a==null)throw TypeError("Must include `key` or `index` for nested validations");const u=typeof a=="number";let l=r[a];const c=Object.assign({},o,{strict:!0,parent:r,value:l,originalValue:s[a],key:void 0,[u?"index":"key"]:a,path:u||a.includes(".")?`${i||""}[${l?a:`"${a}"`}]`:(i?`${i}.`:"")+e});return(h,f,m)=>this.resolve(c)._validate(l,c,f,m)}validate(e,n){var r;let i=this.resolve(Object.assign({},n,{value:e})),s=(r=n==null?void 0:n.disableStackTrace)!=null?r:i.spec.disableStackTrace;return new Promise((o,a)=>i._validate(e,n,(u,l)=>{pt.isError(u)&&(u.value=l),a(u)},(u,l)=>{u.length?a(new pt(u,l,void 0,void 0,s)):o(l)}))}validateSync(e,n){var r;let i=this.resolve(Object.assign({},n,{value:e})),s,o=(r=n==null?void 0:n.disableStackTrace)!=null?r:i.spec.disableStackTrace;return i._validate(e,Object.assign({},n,{sync:!0}),(a,u)=>{throw pt.isError(a)&&(a.value=u),a},(a,u)=>{if(a.length)throw new pt(a,e,void 0,void 0,o);s=u}),s}isValid(e,n){return this.validate(e,n).then(()=>!0,r=>{if(pt.isError(r))return!1;throw r})}isValidSync(e,n){try{return this.validateSync(e,n),!0}catch(r){if(pt.isError(r))return!1;throw r}}_getDefault(e){let n=this.spec.default;return n==null?n:typeof n=="function"?n.call(this,e):Cr(n)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,n){const r=this.clone({nullable:e});return r.internalTests.nullable=wr({message:n,name:"nullable",test(i){return i===null?this.schema.spec.nullable:!0}}),r}optionality(e,n){const r=this.clone({optional:e});return r.internalTests.optionality=wr({message:n,name:"optionality",test(i){return i===void 0?this.schema.spec.optional:!0}}),r}optional(){return this.optionality(!0)}defined(e=Kt.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=Kt.notNull){return this.nullability(!1,e)}required(e=Kt.required){return this.clone().withMutation(n=>n.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let n=this.clone();return n.transforms.push(e),n}test(...e){let n;if(e.length===1?typeof e[0]=="function"?n={test:e[0]}:n=e[0]:e.length===2?n={name:e[0],test:e[1]}:n={name:e[0],message:e[1],test:e[2]},n.message===void 0&&(n.message=Kt.default),typeof n.test!="function")throw new TypeError("`test` is a required parameters");let r=this.clone(),i=wr(n),s=n.exclusive||n.name&&r.exclusiveTests[n.name]===!0;if(n.exclusive&&!n.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return n.name&&(r.exclusiveTests[n.name]=!!n.exclusive),r.tests=r.tests.filter(o=>!(o.OPTIONS.name===n.name&&(s||o.OPTIONS.test===i.OPTIONS.test))),r.tests.push(i),r}when(e,n){!Array.isArray(e)&&typeof e!="string"&&(n=e,e=".");let r=this.clone(),i=Qf(e).map(s=>new dr(s));return i.forEach(s=>{s.isSibling&&r.deps.push(s.key)}),r.conditions.push(typeof n=="function"?new Hs(i,n):Hs.fromOptions(i,n)),r}typeError(e){let n=this.clone();return n.internalTests.typeError=wr({message:e,name:"typeError",skipAbsent:!0,test(r){return this.schema._typeCheck(r)?!0:this.createError({params:{type:this.schema.type}})}}),n}oneOf(e,n=Kt.oneOf){let r=this.clone();return e.forEach(i=>{r._whitelist.add(i),r._blacklist.delete(i)}),r.internalTests.whiteList=wr({message:n,name:"oneOf",skipAbsent:!0,test(i){let s=this.schema._whitelist,o=s.resolveAll(this.resolve);return o.includes(i)?!0:this.createError({params:{values:Array.from(s).join(", "),resolved:o}})}}),r}notOneOf(e,n=Kt.notOneOf){let r=this.clone();return e.forEach(i=>{r._blacklist.add(i),r._whitelist.delete(i)}),r.internalTests.blacklist=wr({message:n,name:"notOneOf",test(i){let s=this.schema._blacklist,o=s.resolveAll(this.resolve);return o.includes(i)?this.createError({params:{values:Array.from(s).join(", "),resolved:o}}):!0}}),r}strip(e=!0){let n=this.clone();return n.spec.strip=e,n}describe(e){const n=(e?this.resolve(e):this).clone(),{label:r,meta:i,optional:s,nullable:o}=n.spec;return{meta:i,label:r,optional:s,nullable:o,default:n.getDefault(e),type:n.type,oneOf:n._whitelist.describe(),notOneOf:n._blacklist.describe(),tests:n.tests.map(u=>({name:u.OPTIONS.name,params:u.OPTIONS.params})).filter((u,l,c)=>c.findIndex(h=>h.name===u.name)===l)}}}Bt.prototype.__isYupSchema__=!0;for(const t of["validate","validateSync"])Bt.prototype[`${t}At`]=function(e,n,r={}){const{parent:i,parentPath:s,schema:o}=gv(this,e,n,r.context);return o[t](i&&i[s],Object.assign({},r,{parent:i,path:e}))};for(const t of["equals","is"])Bt.prototype[t]=Bt.prototype.oneOf;for(const t of["not","nope"])Bt.prototype[t]=Bt.prototype.notOneOf;let yv=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,vv=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,_v=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Ev=t=>un(t)||t===t.trim(),wv={}.toString();function bv(){return new Yf}class Yf extends Bt{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,n,r)=>{if(!r.spec.coerce||r.isType(e)||Array.isArray(e))return e;const i=e!=null&&e.toString?e.toString():e;return i===wv?e:i})})}required(e){return super.required(e).withMutation(n=>n.test({message:e||Kt.required,name:"required",skipAbsent:!0,test:r=>!!r.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(n=>n.OPTIONS.name!=="required"),e))}length(e,n=Mt.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(r){return r.length===this.resolve(e)}})}min(e,n=Mt.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r.length>=this.resolve(e)}})}max(e,n=Mt.max){return this.test({name:"max",exclusive:!0,message:n,params:{max:e},skipAbsent:!0,test(r){return r.length<=this.resolve(e)}})}matches(e,n){let r=!1,i,s;return n&&(typeof n=="object"?{excludeEmptyString:r=!1,message:i,name:s}=n:i=n),this.test({name:s||"matches",message:i||Mt.matches,params:{regex:e},skipAbsent:!0,test:o=>o===""&&r||o.search(e)!==-1})}email(e=Mt.email){return this.matches(yv,{name:"email",message:e,excludeEmptyString:!0})}url(e=Mt.url){return this.matches(vv,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=Mt.uuid){return this.matches(_v,{name:"uuid",message:e,excludeEmptyString:!1})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=Mt.trim){return this.transform(n=>n!=null?n.trim():n).test({message:e,name:"trim",test:Ev})}lowercase(e=Mt.lowercase){return this.transform(n=>un(n)?n:n.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>un(n)||n===n.toLowerCase()})}uppercase(e=Mt.uppercase){return this.transform(n=>un(n)?n:n.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>un(n)||n===n.toUpperCase()})}}bv.prototype=Yf.prototype;let Tv=t=>t!=+t;function Av(){return new Jf}class Jf extends Bt{constructor(){super({type:"number",check(e){return e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&!Tv(e)}}),this.withMutation(()=>{this.transform((e,n,r)=>{if(!r.spec.coerce)return e;let i=e;if(typeof i=="string"){if(i=i.replace(/\s/g,""),i==="")return NaN;i=+i}return r.isType(i)||i===null?i:parseFloat(i)})})}min(e,n=vn.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r>=this.resolve(e)}})}max(e,n=vn.max){return this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(r){return r<=this.resolve(e)}})}lessThan(e,n=vn.lessThan){return this.test({message:n,name:"max",exclusive:!0,params:{less:e},skipAbsent:!0,test(r){return r<this.resolve(e)}})}moreThan(e,n=vn.moreThan){return this.test({message:n,name:"min",exclusive:!0,params:{more:e},skipAbsent:!0,test(r){return r>this.resolve(e)}})}positive(e=vn.positive){return this.moreThan(0,e)}negative(e=vn.negative){return this.lessThan(0,e)}integer(e=vn.integer){return this.test({name:"integer",message:e,skipAbsent:!0,test:n=>Number.isInteger(n)})}truncate(){return this.transform(e=>un(e)?e:e|0)}round(e){var n;let r=["ceil","floor","round","trunc"];if(e=((n=e)==null?void 0:n.toLowerCase())||"round",e==="trunc")return this.truncate();if(r.indexOf(e.toLowerCase())===-1)throw new TypeError("Only valid options for round() are: "+r.join(", "));return this.transform(i=>un(i)?i:Math[e](i))}}Av.prototype=Jf.prototype;const Iv=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function on(t,e=0){return Number(t)||e}function Sv(t){const e=Iv.exec(t);if(!e)return Date.parse?Date.parse(t):Number.NaN;const n={year:on(e[1]),month:on(e[2],1)-1,day:on(e[3],1),hour:on(e[4]),minute:on(e[5]),second:on(e[6]),millisecond:e[7]?on(e[7].substring(0,3)):0,z:e[8]||void 0,plusMinus:e[9]||void 0,hourOffset:on(e[10]),minuteOffset:on(e[11])};if(n.z===void 0&&n.plusMinus===void 0)return new Date(n.year,n.month,n.day,n.hour,n.minute,n.second,n.millisecond).valueOf();let r=0;return n.z!=="Z"&&n.plusMinus!==void 0&&(r=n.hourOffset*60+n.minuteOffset,n.plusMinus==="+"&&(r=0-r)),Date.UTC(n.year,n.month,n.day,n.hour,n.minute+r,n.second,n.millisecond)}let Zf=new Date(""),Rv=t=>Object.prototype.toString.call(t)==="[object Date]";function ed(){return new Gi}class Gi extends Bt{constructor(){super({type:"date",check(e){return Rv(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,n,r)=>!r.spec.coerce||r.isType(e)||e===null?e:(e=Sv(e),isNaN(e)?Gi.INVALID_DATE:new Date(e)))})}prepareParam(e,n){let r;if(dr.isRef(e))r=e;else{let i=this.cast(e);if(!this._typeCheck(i))throw new TypeError(`\`${n}\` must be a Date or a value that can be \`cast()\` to a Date`);r=i}return r}min(e,n=cu.min){let r=this.prepareParam(e,"min");return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(i){return i>=this.resolve(r)}})}max(e,n=cu.max){let r=this.prepareParam(e,"max");return this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(i){return i<=this.resolve(r)}})}}Gi.INVALID_DATE=Zf;ed.prototype=Gi.prototype;ed.INVALID_DATE=Zf;function Cv(t,e=[]){let n=[],r=new Set,i=new Set(e.map(([o,a])=>`${o}-${a}`));function s(o,a){let u=Xn.split(o)[0];r.add(u),i.has(`${a}-${u}`)||n.push([a,u])}for(const o of Object.keys(t)){let a=t[o];r.add(o),dr.isRef(a)&&a.isSibling?s(a.path,o):ol(a)&&"deps"in a&&a.deps.forEach(u=>s(u,o))}return sv.array(Array.from(r),n).reverse()}function Dc(t,e){let n=1/0;return t.some((r,i)=>{var s;if((s=e.path)!=null&&s.includes(r))return n=i,!0}),n}function td(t){return(e,n)=>Dc(t,e)-Dc(t,n)}const Pv=(t,e,n)=>{if(typeof t!="string")return t;let r=t;try{r=JSON.parse(t)}catch{}return n.isType(r)?r:t};function Ds(t){if("fields"in t){const e={};for(const[n,r]of Object.entries(t.fields))e[n]=Ds(r);return t.setFields(e)}if(t.type==="array"){const e=t.optional();return e.innerType&&(e.innerType=Ds(e.innerType)),e}return t.type==="tuple"?t.optional().clone({types:t.spec.types.map(Ds)}):"optional"in t?t.optional():t}const xv=(t,e)=>{const n=[...Xn.normalizePath(e)];if(n.length===1)return n[0]in t;let r=n.pop(),i=Xn.getter(Xn.join(n),!0)(t);return!!(i&&r in i)};let kc=t=>Object.prototype.toString.call(t)==="[object Object]";function Ov(t,e){let n=Object.keys(t.fields);return Object.keys(e).filter(r=>n.indexOf(r)===-1)}const Dv=td([]);function kv(t){return new nd(t)}class nd extends Bt{constructor(e){super({type:"object",check(n){return kc(n)||typeof n=="function"}}),this.fields=Object.create(null),this._sortErrors=Dv,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,n={}){var r;let i=super._cast(e,n);if(i===void 0)return this.getDefault(n);if(!this._typeCheck(i))return i;let s=this.fields,o=(r=n.stripUnknown)!=null?r:this.spec.noUnknown,a=[].concat(this._nodes,Object.keys(i).filter(h=>!this._nodes.includes(h))),u={},l=Object.assign({},n,{parent:u,__validating:n.__validating||!1}),c=!1;for(const h of a){let f=s[h],m=h in i;if(f){let d,g=i[h];l.path=(n.path?`${n.path}.`:"")+h,f=f.resolve({value:g,context:n.context,parent:u});let p=f instanceof Bt?f.spec:void 0,v=p==null?void 0:p.strict;if(p!=null&&p.strip){c=c||h in i;continue}d=!n.__validating||!v?f.cast(i[h],l):i[h],d!==void 0&&(u[h]=d)}else m&&!o&&(u[h]=i[h]);(m!==h in u||u[h]!==i[h])&&(c=!0)}return c?u:i}_validate(e,n={},r,i){let{from:s=[],originalValue:o=e,recursive:a=this.spec.recursive}=n;n.from=[{schema:this,value:o},...s],n.__validating=!0,n.originalValue=o,super._validate(e,n,r,(u,l)=>{if(!a||!kc(l)){i(u,l);return}o=o||l;let c=[];for(let h of this._nodes){let f=this.fields[h];!f||dr.isRef(f)||c.push(f.asNestedTest({options:n,key:h,parent:l,parentPath:n.path,originalParent:o}))}this.runTests({tests:c,value:l,originalValue:o,options:n},r,h=>{i(h.sort(this._sortErrors).concat(u),l)})})}clone(e){const n=super.clone(e);return n.fields=Object.assign({},this.fields),n._nodes=this._nodes,n._excludedEdges=this._excludedEdges,n._sortErrors=this._sortErrors,n}concat(e){let n=super.concat(e),r=n.fields;for(let[i,s]of Object.entries(this.fields)){const o=r[i];r[i]=o===void 0?s:o}return n.withMutation(i=>i.setFields(r,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let n={};return this._nodes.forEach(r=>{var i;const s=this.fields[r];let o=e;(i=o)!=null&&i.value&&(o=Object.assign({},o,{parent:o.value,value:o.value[r]})),n[r]=s&&"getDefault"in s?s.getDefault(o):void 0}),n}setFields(e,n){let r=this.clone();return r.fields=e,r._nodes=Cv(e,n),r._sortErrors=td(Object.keys(e)),n&&(r._excludedEdges=n),r}shape(e,n=[]){return this.clone().withMutation(r=>{let i=r._excludedEdges;return n.length&&(Array.isArray(n[0])||(n=[n]),i=[...r._excludedEdges,...n]),r.setFields(Object.assign(r.fields,e),i)})}partial(){const e={};for(const[n,r]of Object.entries(this.fields))e[n]="optional"in r&&r.optional instanceof Function?r.optional():r;return this.setFields(e)}deepPartial(){return Ds(this)}pick(e){const n={};for(const r of e)this.fields[r]&&(n[r]=this.fields[r]);return this.setFields(n,this._excludedEdges.filter(([r,i])=>e.includes(r)&&e.includes(i)))}omit(e){const n=[];for(const r of Object.keys(this.fields))e.includes(r)||n.push(r);return this.pick(n)}from(e,n,r){let i=Xn.getter(e,!0);return this.transform(s=>{if(!s)return s;let o=s;return xv(s,e)&&(o=Object.assign({},s),r||delete o[e],o[n]=i(s)),o})}json(){return this.transform(Pv)}noUnknown(e=!0,n=hu.noUnknown){typeof e!="boolean"&&(n=e,e=!0);let r=this.test({name:"noUnknown",exclusive:!0,message:n,test(i){if(i==null)return!0;const s=Ov(this.schema,i);return!e||s.length===0||this.createError({params:{unknown:s.join(", ")}})}});return r.spec.noUnknown=e,r}unknown(e=!0,n=hu.noUnknown){return this.noUnknown(!e,n)}transformKeys(e){return this.transform(n=>{if(!n)return n;const r={};for(const i of Object.keys(n))r[e(i)]=n[i];return r})}camelCase(){return this.transformKeys(_a.camelCase)}snakeCase(){return this.transformKeys(_a.snakeCase)}constantCase(){return this.transformKeys(e=>_a.snakeCase(e).toUpperCase())}describe(e){const n=(e?this.resolve(e):this).clone(),r=super.describe(e);r.fields={};for(const[s,o]of Object.entries(n.fields)){var i;let a=e;(i=a)!=null&&i.value&&(a=Object.assign({},a,{parent:a.value,value:a.value[s]})),r.fields[s]=o.describe(a)}return r}}kv.prototype=nd.prototype;var Mc=function(t,e,n){if(t&&"reportValidity"in t){var r=iu(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},rd=function(t,e){var n=function(i){var s=e.fields[i];s&&s.ref&&"reportValidity"in s.ref?Mc(s.ref,i,t):s.refs&&s.refs.forEach(function(o){return Mc(o,i,t)})};for(var r in e.fields)n(r)},Mv=function(t,e){e.shouldUseNativeValidation&&rd(t,e);var n={};for(var r in t){var i=iu(e.fields,r),s=Object.assign(t[r]||{},{ref:i&&i.ref});if(Fv(e.names||Object.keys(t),r)){var o=Object.assign({},Nv(iu(n,r)));pa(o,"root",s),pa(n,r,o)}else pa(n,r,s)}return n},Nv=function(t){return Array.isArray(t)?t.filter(Boolean):[]},Fv=function(t,e){return t.some(function(n){return n.startsWith(e+".")})};function J1(t,e,n){return e===void 0&&(e={}),n===void 0&&(n={}),function(r,i,s){try{return Promise.resolve(function(o,a){try{var u=(e.context,Promise.resolve(t[n.mode==="sync"?"validateSync":"validate"](r,Object.assign({abortEarly:!1},e,{context:i}))).then(function(l){return s.shouldUseNativeValidation&&rd({},s),{values:n.raw?r:l,errors:{}}}))}catch(l){return a(l)}return u&&u.then?u.then(void 0,a):u}(0,function(o){if(!o.inner)throw o;return{values:{},errors:Mv((a=o,u=!s.shouldUseNativeValidation&&s.criteriaMode==="all",(a.inner||[]).reduce(function(l,c){if(l[c.path]||(l[c.path]={message:c.message,type:c.type}),u){var h=l[c.path].types,f=h&&h[c.type];l[c.path]=Xg(c.path,u,l,c.type,f?[].concat(f,c.message):c.message)}return l},{})),s)};var a,u}))}catch(o){return Promise.reject(o)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const id=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Vv=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},sd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,c=s>>2,h=(s&3)<<4|a>>4;let f=(a&15)<<2|l>>6,m=l&63;u||(m=64,o||(f=64)),r.push(n[c],n[h],n[f],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(id(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Vv(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const l=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||l==null||h==null)throw new Lv;const f=s<<2|a>>4;if(r.push(f),l!==64){const m=a<<4&240|l>>2;if(r.push(m),h!==64){const d=l<<6&192|h;r.push(d)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Lv extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $v=function(t){const e=id(t);return sd.encodeByteArray(e,!0)},Ws=function(t){return $v(t).replace(/\./g,"")},Uv=function(t){try{return sd.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jv(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bv=()=>jv().__FIREBASE_DEFAULTS__,zv=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Hv=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Uv(t[1]);return e&&JSON.parse(e)},od=()=>{try{return Bv()||zv()||Hv()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},qv=t=>{var e,n;return(n=(e=od())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Wv=t=>{const e=qv(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},ad=()=>{var t;return(t=od())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kv(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Ws(JSON.stringify(n)),Ws(JSON.stringify(o)),a].join(".")}function Qv(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function ud(){try{return typeof indexedDB=="object"}catch{return!1}}function ld(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function Xv(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yv="FirebaseError";class Dn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Yv,Object.setPrototypeOf(this,Dn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ro.prototype.create)}}class Ro{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Jv(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Dn(i,a,r)}}function Jv(t,e){return t.replace(Zv,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Zv=/\{\$([^}]+)}/g;function Gs(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Nc(s)&&Nc(o)){if(!Gs(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Nc(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e_=1e3,t_=2,n_=4*60*60*1e3,r_=.5;function Fc(t,e=e_,n=t_){const r=e*Math.pow(n,t),i=Math.round(r_*r*(Math.random()-.5)*2);return Math.min(n_,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nr(t){return t&&t._delegate?t._delegate:t}class fn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i_{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Gv;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(o_(e))try{this.getOrInitializeService({instanceIdentifier:Bn})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Bn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Bn){return this.instances.has(e)}getOptions(e=Bn){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:s_(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Bn){return this.component?this.component.multipleInstances?e:Bn:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function s_(t){return t===Bn?void 0:t}function o_(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a_{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new i_(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ce;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ce||(ce={}));const u_={debug:ce.DEBUG,verbose:ce.VERBOSE,info:ce.INFO,warn:ce.WARN,error:ce.ERROR,silent:ce.SILENT},l_=ce.INFO,c_={[ce.DEBUG]:"log",[ce.VERBOSE]:"log",[ce.INFO]:"info",[ce.WARN]:"warn",[ce.ERROR]:"error"},h_=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=c_[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class al{constructor(e){this.name=e,this._logLevel=l_,this._logHandler=h_,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?u_[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ce.DEBUG,...e),this._logHandler(this,ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ce.VERBOSE,...e),this._logHandler(this,ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ce.INFO,...e),this._logHandler(this,ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ce.WARN,...e),this._logHandler(this,ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ce.ERROR,...e),this._logHandler(this,ce.ERROR,...e)}}const f_=(t,e)=>e.some(n=>t instanceof n);let Vc,Lc;function d_(){return Vc||(Vc=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function p_(){return Lc||(Lc=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cd=new WeakMap,fu=new WeakMap,hd=new WeakMap,Ea=new WeakMap,ul=new WeakMap;function m_(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Tn(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&cd.set(n,t)}).catch(()=>{}),ul.set(e,t),e}function g_(t){if(fu.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});fu.set(t,e)}let du={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return fu.get(t);if(e==="objectStoreNames")return t.objectStoreNames||hd.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Tn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function y_(t){du=t(du)}function v_(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(wa(this),e,...n);return hd.set(r,e.sort?e.sort():[e]),Tn(r)}:p_().includes(t)?function(...e){return t.apply(wa(this),e),Tn(cd.get(this))}:function(...e){return Tn(t.apply(wa(this),e))}}function __(t){return typeof t=="function"?v_(t):(t instanceof IDBTransaction&&g_(t),f_(t,d_())?new Proxy(t,du):t)}function Tn(t){if(t instanceof IDBRequest)return m_(t);if(Ea.has(t))return Ea.get(t);const e=__(t);return e!==t&&(Ea.set(t,e),ul.set(e,t)),e}const wa=t=>ul.get(t);function E_(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Tn(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Tn(o.result),u.oldVersion,u.newVersion,Tn(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}const w_=["get","getKey","getAll","getAllKeys","count"],b_=["put","add","delete","clear"],ba=new Map;function $c(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ba.get(e))return ba.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=b_.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||w_.includes(n)))return;const s=async function(o,...a){const u=this.transaction(o,i?"readwrite":"readonly");let l=u.store;return r&&(l=l.index(a.shift())),(await Promise.all([l[n](...a),i&&u.done]))[0]};return ba.set(e,s),s}y_(t=>({...t,get:(e,n,r)=>$c(e,n)||t.get(e,n,r),has:(e,n)=>!!$c(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T_{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(A_(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function A_(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const pu="@firebase/app",Uc="0.9.22";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rr=new al("@firebase/app"),I_="@firebase/app-compat",S_="@firebase/analytics-compat",R_="@firebase/analytics",C_="@firebase/app-check-compat",P_="@firebase/app-check",x_="@firebase/auth",O_="@firebase/auth-compat",D_="@firebase/database",k_="@firebase/database-compat",M_="@firebase/functions",N_="@firebase/functions-compat",F_="@firebase/installations",V_="@firebase/installations-compat",L_="@firebase/messaging",$_="@firebase/messaging-compat",U_="@firebase/performance",j_="@firebase/performance-compat",B_="@firebase/remote-config",z_="@firebase/remote-config-compat",H_="@firebase/storage",q_="@firebase/storage-compat",W_="@firebase/firestore",G_="@firebase/firestore-compat",K_="firebase",Q_="10.5.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mu="[DEFAULT]",X_={[pu]:"fire-core",[I_]:"fire-core-compat",[R_]:"fire-analytics",[S_]:"fire-analytics-compat",[P_]:"fire-app-check",[C_]:"fire-app-check-compat",[x_]:"fire-auth",[O_]:"fire-auth-compat",[D_]:"fire-rtdb",[k_]:"fire-rtdb-compat",[M_]:"fire-fn",[N_]:"fire-fn-compat",[F_]:"fire-iid",[V_]:"fire-iid-compat",[L_]:"fire-fcm",[$_]:"fire-fcm-compat",[U_]:"fire-perf",[j_]:"fire-perf-compat",[B_]:"fire-rc",[z_]:"fire-rc-compat",[H_]:"fire-gcs",[q_]:"fire-gcs-compat",[W_]:"fire-fst",[G_]:"fire-fst-compat","fire-js":"fire-js",[K_]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ks=new Map,gu=new Map;function Y_(t,e){try{t.container.addComponent(e)}catch(n){rr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Rn(t){const e=t.name;if(gu.has(e))return rr.debug(`There were multiple attempts to register component ${e}.`),!1;gu.set(e,t);for(const n of Ks.values())Y_(n,t);return!0}function Ki(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},An=new Ro("app","Firebase",J_);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new fn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw An.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e0=Q_;function t0(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:mu,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw An.create("bad-app-name",{appName:String(i)});if(n||(n=ad()),!n)throw An.create("no-options");const s=Ks.get(i);if(s){if(Gs(n,s.options)&&Gs(r,s.config))return s;throw An.create("duplicate-app",{appName:i})}const o=new a_(i);for(const u of gu.values())o.addComponent(u);const a=new Z_(n,r,o);return Ks.set(i,a),a}function fd(t=mu){const e=Ks.get(t);if(!e&&t===mu&&ad())return t0();if(!e)throw An.create("no-app",{appName:t});return e}function Zt(t,e,n){var r;let i=(r=X_[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),rr.warn(a.join(" "));return}Rn(new fn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n0="firebase-heartbeat-database",r0=1,Pi="firebase-heartbeat-store";let Ta=null;function dd(){return Ta||(Ta=E_(n0,r0,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Pi)}}}).catch(t=>{throw An.create("idb-open",{originalErrorMessage:t.message})})),Ta}async function i0(t){try{return await(await dd()).transaction(Pi).objectStore(Pi).get(pd(t))}catch(e){if(e instanceof Dn)rr.warn(e.message);else{const n=An.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});rr.warn(n.message)}}}async function jc(t,e){try{const r=(await dd()).transaction(Pi,"readwrite");await r.objectStore(Pi).put(e,pd(t)),await r.done}catch(n){if(n instanceof Dn)rr.warn(n.message);else{const r=An.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});rr.warn(r.message)}}}function pd(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s0=1024,o0=30*24*60*60*1e3;class a0{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new l0(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Bc();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=o0}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Bc(),{heartbeatsToSend:n,unsentEntries:r}=u0(this._heartbeatsCache.heartbeats),i=Ws(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Bc(){return new Date().toISOString().substring(0,10)}function u0(t,e=s0){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),zc(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),zc(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class l0{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ud()?ld().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await i0(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return jc(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return jc(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function zc(t){return Ws(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c0(t){Rn(new fn("platform-logger",e=>new T_(e),"PRIVATE")),Rn(new fn("heartbeat",e=>new a0(e),"PRIVATE")),Zt(pu,Uc,t),Zt(pu,Uc,"esm2017"),Zt("fire-js","")}c0("");var h0="firebase",f0="10.5.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zt(h0,f0,"app");const d0=(t,e)=>e.some(n=>t instanceof n);let Hc,qc;function p0(){return Hc||(Hc=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function m0(){return qc||(qc=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const md=new WeakMap,yu=new WeakMap,gd=new WeakMap,Aa=new WeakMap,ll=new WeakMap;function g0(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(In(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&md.set(n,t)}).catch(()=>{}),ll.set(e,t),e}function y0(t){if(yu.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});yu.set(t,e)}let vu={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return yu.get(t);if(e==="objectStoreNames")return t.objectStoreNames||gd.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return In(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function v0(t){vu=t(vu)}function _0(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Ia(this),e,...n);return gd.set(r,e.sort?e.sort():[e]),In(r)}:m0().includes(t)?function(...e){return t.apply(Ia(this),e),In(md.get(this))}:function(...e){return In(t.apply(Ia(this),e))}}function E0(t){return typeof t=="function"?_0(t):(t instanceof IDBTransaction&&y0(t),d0(t,p0())?new Proxy(t,vu):t)}function In(t){if(t instanceof IDBRequest)return g0(t);if(Aa.has(t))return Aa.get(t);const e=E0(t);return e!==t&&(Aa.set(t,e),ll.set(e,t)),e}const Ia=t=>ll.get(t);function w0(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=In(o);return r&&o.addEventListener("upgradeneeded",u=>{r(In(o.result),u.oldVersion,u.newVersion,In(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const b0=["get","getKey","getAll","getAllKeys","count"],T0=["put","add","delete","clear"],Sa=new Map;function Wc(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Sa.get(e))return Sa.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=T0.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||b0.includes(n)))return;const s=async function(o,...a){const u=this.transaction(o,i?"readwrite":"readonly");let l=u.store;return r&&(l=l.index(a.shift())),(await Promise.all([l[n](...a),i&&u.done]))[0]};return Sa.set(e,s),s}v0(t=>({...t,get:(e,n,r)=>Wc(e,n)||t.get(e,n,r),has:(e,n)=>!!Wc(e,n)||t.has(e,n)}));const yd="@firebase/installations",cl="0.6.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vd=1e4,_d=`w:${cl}`,Ed="FIS_v2",A0="https://firebaseinstallations.googleapis.com/v1",I0=60*60*1e3,S0="installations",R0="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C0={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ir=new Ro(S0,R0,C0);function wd(t){return t instanceof Dn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bd({projectId:t}){return`${A0}/projects/${t}/installations`}function Td(t){return{token:t.token,requestStatus:2,expiresIn:x0(t.expiresIn),creationTime:Date.now()}}async function Ad(t,e){const r=(await e.json()).error;return ir.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function Id({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function P0(t,{refreshToken:e}){const n=Id(t);return n.append("Authorization",O0(e)),n}async function Sd(t){const e=await t();return e.status>=500&&e.status<600?t():e}function x0(t){return Number(t.replace("s","000"))}function O0(t){return`${Ed} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D0({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=bd(t),i=Id(t),s=e.getImmediate({optional:!0});if(s){const l=await s.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const o={fid:n,authVersion:Ed,appId:t.appId,sdkVersion:_d},a={method:"POST",headers:i,body:JSON.stringify(o)},u=await Sd(()=>fetch(r,a));if(u.ok){const l=await u.json();return{fid:l.fid||n,registrationStatus:2,refreshToken:l.refreshToken,authToken:Td(l.authToken)}}else throw await Ad("Create Installation",u)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rd(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k0(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0=/^[cdef][\w-]{21}$/,_u="";function N0(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=F0(t);return M0.test(n)?n:_u}catch{return _u}}function F0(t){return k0(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Co(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cd=new Map;function Pd(t,e){const n=Co(t);xd(n,e),V0(n,e)}function xd(t,e){const n=Cd.get(t);if(n)for(const r of n)r(e)}function V0(t,e){const n=L0();n&&n.postMessage({key:t,fid:e}),$0()}let Hn=null;function L0(){return!Hn&&"BroadcastChannel"in self&&(Hn=new BroadcastChannel("[Firebase] FID Change"),Hn.onmessage=t=>{xd(t.data.key,t.data.fid)}),Hn}function $0(){Cd.size===0&&Hn&&(Hn.close(),Hn=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0="firebase-installations-database",j0=1,sr="firebase-installations-store";let Ra=null;function hl(){return Ra||(Ra=w0(U0,j0,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(sr)}}})),Ra}async function Qs(t,e){const n=Co(t),i=(await hl()).transaction(sr,"readwrite"),s=i.objectStore(sr),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&Pd(t,e.fid),e}async function Od(t){const e=Co(t),r=(await hl()).transaction(sr,"readwrite");await r.objectStore(sr).delete(e),await r.done}async function Po(t,e){const n=Co(t),i=(await hl()).transaction(sr,"readwrite"),s=i.objectStore(sr),o=await s.get(n),a=e(o);return a===void 0?await s.delete(n):await s.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&Pd(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fl(t){let e;const n=await Po(t.appConfig,r=>{const i=B0(r),s=z0(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===_u?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function B0(t){const e=t||{fid:N0(),registrationStatus:0};return Dd(e)}function z0(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(ir.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=H0(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:q0(t)}:{installationEntry:e}}async function H0(t,e){try{const n=await D0(t,e);return Qs(t.appConfig,n)}catch(n){throw wd(n)&&n.customData.serverCode===409?await Od(t.appConfig):await Qs(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function q0(t){let e=await Gc(t.appConfig);for(;e.registrationStatus===1;)await Rd(100),e=await Gc(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await fl(t);return r||n}return e}function Gc(t){return Po(t,e=>{if(!e)throw ir.create("installation-not-found");return Dd(e)})}function Dd(t){return W0(t)?{fid:t.fid,registrationStatus:0}:t}function W0(t){return t.registrationStatus===1&&t.registrationTime+vd<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G0({appConfig:t,heartbeatServiceProvider:e},n){const r=K0(t,n),i=P0(t,n),s=e.getImmediate({optional:!0});if(s){const l=await s.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const o={installation:{sdkVersion:_d,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},u=await Sd(()=>fetch(r,a));if(u.ok){const l=await u.json();return Td(l)}else throw await Ad("Generate Auth Token",u)}function K0(t,{fid:e}){return`${bd(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dl(t,e=!1){let n;const r=await Po(t.appConfig,s=>{if(!kd(s))throw ir.create("not-registered");const o=s.authToken;if(!e&&Y0(o))return s;if(o.requestStatus===1)return n=Q0(t,e),s;{if(!navigator.onLine)throw ir.create("app-offline");const a=Z0(s);return n=X0(t,a),a}});return n?await n:r.authToken}async function Q0(t,e){let n=await Kc(t.appConfig);for(;n.authToken.requestStatus===1;)await Rd(100),n=await Kc(t.appConfig);const r=n.authToken;return r.requestStatus===0?dl(t,e):r}function Kc(t){return Po(t,e=>{if(!kd(e))throw ir.create("not-registered");const n=e.authToken;return eE(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function X0(t,e){try{const n=await G0(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await Qs(t.appConfig,r),n}catch(n){if(wd(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await Od(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Qs(t.appConfig,r)}throw n}}function kd(t){return t!==void 0&&t.registrationStatus===2}function Y0(t){return t.requestStatus===2&&!J0(t)}function J0(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+I0}function Z0(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function eE(t){return t.requestStatus===1&&t.requestTime+vd<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tE(t){const e=t,{installationEntry:n,registrationPromise:r}=await fl(e);return r?r.catch(console.error):dl(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nE(t,e=!1){const n=t;return await rE(n),(await dl(n,e)).token}async function rE(t){const{registrationPromise:e}=await fl(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iE(t){if(!t||!t.options)throw Ca("App Configuration");if(!t.name)throw Ca("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Ca(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Ca(t){return ir.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Md="installations",sE="installations-internal",oE=t=>{const e=t.getProvider("app").getImmediate(),n=iE(e),r=Ki(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},aE=t=>{const e=t.getProvider("app").getImmediate(),n=Ki(e,Md).getImmediate();return{getId:()=>tE(n),getToken:i=>nE(n,i)}};function uE(){Rn(new fn(Md,oE,"PUBLIC")),Rn(new fn(sE,aE,"PRIVATE"))}uE();Zt(yd,cl);Zt(yd,cl,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xs="analytics",lE="firebase_id",cE="origin",hE=60*1e3,fE="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",pl="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gt=new al("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},wt=new Ro("analytics","Analytics",dE);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pE(t){if(!t.startsWith(pl)){const e=wt.create("invalid-gtag-resource",{gtagURL:t});return gt.warn(e.message),""}return t}function Nd(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function mE(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function gE(t,e){const n=mE("firebase-js-sdk-policy",{createScriptURL:pE}),r=document.createElement("script"),i=`${pl}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function yE(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function vE(t,e,n,r,i,s){const o=r[i];try{if(o)await e[o];else{const u=(await Nd(n)).find(l=>l.measurementId===i);u&&await e[u.appId]}}catch(a){gt.error(a)}t("config",i,s)}async function _E(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=await Nd(n);for(const u of o){const l=a.find(h=>h.measurementId===u),c=l&&e[l.appId];if(c)s.push(c);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){gt.error(s)}}function EE(t,e,n,r){async function i(s,...o){try{if(s==="event"){const[a,u]=o;await _E(t,e,n,a,u)}else if(s==="config"){const[a,u]=o;await vE(t,e,n,r,a,u)}else if(s==="consent"){const[a]=o;t("consent","update",a)}else if(s==="get"){const[a,u,l]=o;t("get",a,u,l)}else if(s==="set"){const[a]=o;t("set",a)}else t(s,...o)}catch(a){gt.error(a)}}return i}function wE(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=EE(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function bE(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(pl)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE=30,AE=1e3;class IE{constructor(e={},n=AE){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Fd=new IE;function SE(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function RE(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:SE(r)},s=fE.replace("{app-id}",n),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let a="";try{const u=await o.json();!((e=u.error)===null||e===void 0)&&e.message&&(a=u.error.message)}catch{}throw wt.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function CE(t,e=Fd,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw wt.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw wt.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new OE;return setTimeout(async()=>{a.abort()},n!==void 0?n:hE),Vd({appId:r,apiKey:i,measurementId:s},o,a,e)}async function Vd(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=Fd){var s;const{appId:o,measurementId:a}=t;try{await PE(r,e)}catch(u){if(a)return gt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:a};throw u}try{const u=await RE(t);return i.deleteThrottleMetadata(o),u}catch(u){const l=u;if(!xE(l)){if(i.deleteThrottleMetadata(o),a)return gt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw u}const c=Number((s=l==null?void 0:l.customData)===null||s===void 0?void 0:s.httpStatus)===503?Fc(n,i.intervalMillis,TE):Fc(n,i.intervalMillis),h={throttleEndTimeMillis:Date.now()+c,backoffCount:n+1};return i.setThrottleMetadata(o,h),gt.debug(`Calling attemptFetch again in ${c} millis`),Vd(t,h,r,i)}}function PE(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(wt.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function xE(t){if(!(t instanceof Dn)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class OE{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function DE(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,o=Object.assign(Object.assign({},r),{send_to:s});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kE(){if(ud())try{await ld()}catch(t){return gt.warn(wt.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return gt.warn(wt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function ME(t,e,n,r,i,s,o){var a;const u=CE(t);u.then(m=>{n[m.measurementId]=m.appId,t.options.measurementId&&m.measurementId!==t.options.measurementId&&gt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${m.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(m=>gt.error(m)),e.push(u);const l=kE().then(m=>{if(m)return r.getId()}),[c,h]=await Promise.all([u,l]);bE(s)||gE(s,c.measurementId),i("js",new Date);const f=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return f[cE]="firebase",f.update=!0,h!=null&&(f[lE]=h),i("config",c.measurementId,f),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(e){this.app=e}_delete(){return delete Ei[this.app.options.appId],Promise.resolve()}}let Ei={},Qc=[];const Xc={};let Pa="dataLayer",FE="gtag",Yc,Ld,Jc=!1;function VE(){const t=[];if(Qv()&&t.push("This is a browser extension environment."),Xv()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=wt.create("invalid-analytics-context",{errorInfo:e});gt.warn(n.message)}}function LE(t,e,n){VE();const r=t.options.appId;if(!r)throw wt.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)gt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw wt.create("no-api-key");if(Ei[r]!=null)throw wt.create("already-exists",{id:r});if(!Jc){yE(Pa);const{wrappedGtag:s,gtagCore:o}=wE(Ei,Qc,Xc,Pa,FE);Ld=s,Yc=o,Jc=!0}return Ei[r]=ME(t,Qc,Xc,e,Yc,Pa,n),new NE(t)}function Z1(t=fd()){t=nr(t);const e=Ki(t,Xs);return e.isInitialized()?e.getImmediate():$E(t)}function $E(t,e={}){const n=Ki(t,Xs);if(n.isInitialized()){const i=n.getImmediate();if(Gs(e,n.getOptions()))return i;throw wt.create("already-initialized")}return n.initialize({options:e})}function UE(t,e,n,r){t=nr(t),DE(Ld,Ei[t.app.options.appId],e,n,r).catch(i=>gt.error(i))}const Zc="@firebase/analytics",eh="0.10.0";function jE(){Rn(new fn(Xs,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return LE(r,i,n)},"PUBLIC")),Rn(new fn("analytics-internal",t,"PRIVATE")),Zt(Zc,eh),Zt(Zc,eh,"esm2017");function t(e){try{const n=e.getProvider(Xs).getImmediate();return{logEvent:(r,i,s)=>UE(n,r,i,s)}}catch(n){throw wt.create("interop-component-reg-failed",{reason:n})}}}jE();var BE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},k,ml=ml||{},Y=BE||self;function xo(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Qi(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function zE(t){return Object.prototype.hasOwnProperty.call(t,xa)&&t[xa]||(t[xa]=++HE)}var xa="closure_uid_"+(1e9*Math.random()>>>0),HE=0;function qE(t,e,n){return t.call.apply(t.bind,arguments)}function WE(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function at(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?at=qE:at=WE,at.apply(null,arguments)}function vs(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Xe(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function kn(){this.s=this.s,this.o=this.o}var GE=0;kn.prototype.s=!1;kn.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),GE!=0)&&zE(this)};kn.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const $d=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function gl(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function th(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(xo(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function ut(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}ut.prototype.h=function(){this.defaultPrevented=!0};var KE=function(){if(!Y.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Y.addEventListener("test",()=>{},e),Y.removeEventListener("test",()=>{},e)}catch{}return t}();function xi(t){return/^[\s\xa0]*$/.test(t)}function Oo(){var t=Y.navigator;return t&&(t=t.userAgent)?t:""}function Xt(t){return Oo().indexOf(t)!=-1}function yl(t){return yl[" "](t),t}yl[" "]=function(){};function QE(t,e){var n=jw;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var XE=Xt("Opera"),Fr=Xt("Trident")||Xt("MSIE"),Ud=Xt("Edge"),Eu=Ud||Fr,jd=Xt("Gecko")&&!(Oo().toLowerCase().indexOf("webkit")!=-1&&!Xt("Edge"))&&!(Xt("Trident")||Xt("MSIE"))&&!Xt("Edge"),YE=Oo().toLowerCase().indexOf("webkit")!=-1&&!Xt("Edge");function Bd(){var t=Y.document;return t?t.documentMode:void 0}var wu;e:{var Oa="",Da=function(){var t=Oo();if(jd)return/rv:([^\);]+)(\)|;)/.exec(t);if(Ud)return/Edge\/([\d\.]+)/.exec(t);if(Fr)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(YE)return/WebKit\/(\S+)/.exec(t);if(XE)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Da&&(Oa=Da?Da[1]:""),Fr){var ka=Bd();if(ka!=null&&ka>parseFloat(Oa)){wu=String(ka);break e}}wu=Oa}var bu;if(Y.document&&Fr){var nh=Bd();bu=nh||parseInt(wu,10)||void 0}else bu=void 0;var JE=bu;function Oi(t,e){if(ut.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(jd){e:{try{yl(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:ZE[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Oi.$.h.call(this)}}Xe(Oi,ut);var ZE={2:"touch",3:"pen",4:"mouse"};Oi.prototype.h=function(){Oi.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Xi="closure_listenable_"+(1e6*Math.random()|0),ew=0;function tw(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++ew,this.fa=this.ia=!1}function Do(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function vl(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function nw(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function zd(t){const e={};for(const n in t)e[n]=t[n];return e}const rh="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Hd(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<rh.length;s++)n=rh[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function ko(t){this.src=t,this.g={},this.h=0}ko.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=Au(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new tw(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function Tu(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=$d(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Do(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Au(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var _l="closure_lm_"+(1e6*Math.random()|0),Ma={};function qd(t,e,n,r,i){if(r&&r.once)return Gd(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)qd(t,e[s],n,r,i);return null}return n=bl(n),t&&t[Xi]?t.O(e,n,Qi(r)?!!r.capture:!!r,i):Wd(t,e,n,!1,r,i)}function Wd(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Qi(i)?!!i.capture:!!i,a=wl(t);if(a||(t[_l]=a=new ko(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=rw(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)KE||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Qd(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function rw(){function t(n){return e.call(t.src,t.listener,n)}const e=iw;return t}function Gd(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)Gd(t,e[s],n,r,i);return null}return n=bl(n),t&&t[Xi]?t.P(e,n,Qi(r)?!!r.capture:!!r,i):Wd(t,e,n,!0,r,i)}function Kd(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)Kd(t,e[s],n,r,i);else r=Qi(r)?!!r.capture:!!r,n=bl(n),t&&t[Xi]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Au(s,n,r,i),-1<n&&(Do(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=wl(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Au(e,n,r,i)),(n=-1<t?e[t]:null)&&El(n))}function El(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Xi])Tu(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Qd(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=wl(e))?(Tu(n,t),n.h==0&&(n.src=null,e[_l]=null)):Do(t)}}}function Qd(t){return t in Ma?Ma[t]:Ma[t]="on"+t}function iw(t,e){if(t.fa)t=!0;else{e=new Oi(e,this);var n=t.listener,r=t.la||t.src;t.ia&&El(t),t=n.call(r,e)}return t}function wl(t){return t=t[_l],t instanceof ko?t:null}var Na="__closure_events_fn_"+(1e9*Math.random()>>>0);function bl(t){return typeof t=="function"?t:(t[Na]||(t[Na]=function(e){return t.handleEvent(e)}),t[Na])}function Ke(){kn.call(this),this.i=new ko(this),this.S=this,this.J=null}Xe(Ke,kn);Ke.prototype[Xi]=!0;Ke.prototype.removeEventListener=function(t,e,n,r){Kd(this,t,e,n,r)};function tt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new ut(e,t);else if(e instanceof ut)e.target=e.target||t;else{var i=e;e=new ut(r,t),Hd(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=_s(o,r,!0,e)&&i}if(o=e.g=t,i=_s(o,r,!0,e)&&i,i=_s(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=_s(o,r,!1,e)&&i}Ke.prototype.N=function(){if(Ke.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Do(n[r]);delete t.g[e],t.h--}}this.J=null};Ke.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Ke.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function _s(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,u=o.la||o.src;o.ia&&Tu(t.i,o),i=a.call(u,r)!==!1&&i}}return i&&!r.defaultPrevented}var Tl=Y.JSON.stringify;class sw{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function ow(){var t=Al;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class aw{constructor(){this.h=this.g=null}add(e,n){const r=Xd.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var Xd=new sw(()=>new uw,t=>t.reset());class uw{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function lw(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function cw(t){Y.setTimeout(()=>{throw t},0)}let Di,ki=!1,Al=new aw,Yd=()=>{const t=Y.Promise.resolve(void 0);Di=()=>{t.then(hw)}};var hw=()=>{for(var t;t=ow();){try{t.h.call(t.g)}catch(n){cw(n)}var e=Xd;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}ki=!1};function Mo(t,e){Ke.call(this),this.h=t||1,this.g=e||Y,this.j=at(this.qb,this),this.l=Date.now()}Xe(Mo,Ke);k=Mo.prototype;k.ga=!1;k.T=null;k.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),tt(this,"tick"),this.ga&&(Il(this),this.start()))}};k.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Il(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}k.N=function(){Mo.$.N.call(this),Il(this),delete this.g};function Sl(t,e,n){if(typeof t=="function")n&&(t=at(t,n));else if(t&&typeof t.handleEvent=="function")t=at(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Y.setTimeout(t,e||0)}function Jd(t){t.g=Sl(()=>{t.g=null,t.i&&(t.i=!1,Jd(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class fw extends kn{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Jd(this)}N(){super.N(),this.g&&(Y.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Mi(t){kn.call(this),this.h=t,this.g={}}Xe(Mi,kn);var ih=[];function Zd(t,e,n,r){Array.isArray(n)||(n&&(ih[0]=n.toString()),n=ih);for(var i=0;i<n.length;i++){var s=qd(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function ep(t){vl(t.g,function(e,n){this.g.hasOwnProperty(n)&&El(e)},t),t.g={}}Mi.prototype.N=function(){Mi.$.N.call(this),ep(this)};Mi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function No(){this.g=!0}No.prototype.Ea=function(){this.g=!1};function dw(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var l=a[u].split("=");if(1<l.length){var c=l[0];l=l[1];var h=c.split("_");o=2<=h.length&&h[1]=="type"?o+(c+"="+l+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function pw(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function Pr(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+gw(t,n)+(r?" "+r:"")})}function mw(t,e){t.info(function(){return"TIMEOUT: "+e})}No.prototype.info=function(){};function gw(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return Tl(n)}catch{return e}}var pr={},sh=null;function Fo(){return sh=sh||new Ke}pr.Ta="serverreachability";function tp(t){ut.call(this,pr.Ta,t)}Xe(tp,ut);function Ni(t){const e=Fo();tt(e,new tp(e))}pr.STAT_EVENT="statevent";function np(t,e){ut.call(this,pr.STAT_EVENT,t),this.stat=e}Xe(np,ut);function ht(t){const e=Fo();tt(e,new np(e,t))}pr.Ua="timingevent";function rp(t,e){ut.call(this,pr.Ua,t),this.size=e}Xe(rp,ut);function Yi(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Y.setTimeout(function(){t()},e)}var Vo={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},ip={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Rl(){}Rl.prototype.h=null;function oh(t){return t.h||(t.h=t.i())}function sp(){}var Ji={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Cl(){ut.call(this,"d")}Xe(Cl,ut);function Pl(){ut.call(this,"c")}Xe(Pl,ut);var Iu;function Lo(){}Xe(Lo,Rl);Lo.prototype.g=function(){return new XMLHttpRequest};Lo.prototype.i=function(){return{}};Iu=new Lo;function Zi(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Mi(this),this.P=yw,t=Eu?125:void 0,this.V=new Mo(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new op}function op(){this.i=null,this.g="",this.h=!1}var yw=45e3,Su={},Ys={};k=Zi.prototype;k.setTimeout=function(t){this.P=t};function Ru(t,e,n){t.L=1,t.v=Uo(dn(e)),t.s=n,t.S=!0,ap(t,null)}function ap(t,e){t.G=Date.now(),es(t),t.A=dn(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),mp(n.i,"t",r),t.C=0,n=t.l.J,t.h=new op,t.g=Fp(t.l,n?e:null,!t.s),0<t.O&&(t.M=new fw(at(t.Pa,t,t.g),t.O)),Zd(t.U,t.g,"readystatechange",t.nb),e=t.I?zd(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Ni(),dw(t.j,t.u,t.A,t.m,t.W,t.s)}k.nb=function(t){t=t.target;const e=this.M;e&&Yt(t)==3?e.l():this.Pa(t)};k.Pa=function(t){try{if(t==this.g)e:{const c=Yt(this.g);var e=this.g.Ia();const h=this.g.da();if(!(3>c)&&(c!=3||Eu||this.g&&(this.h.h||this.g.ja()||ch(this.g)))){this.J||c!=4||e==7||(e==8||0>=h?Ni(3):Ni(2)),$o(this);var n=this.g.da();this.ca=n;t:if(up(this)){var r=ch(this.g);t="";var i=r.length,s=Yt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){qn(this),wi(this);var o="";break t}this.h.i=new Y.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,pw(this.j,this.u,this.A,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!xi(a)){var l=a;break t}}l=null}if(n=l)Pr(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Cu(this,n);else{this.i=!1,this.o=3,ht(12),qn(this),wi(this);break e}}this.S?(lp(this,c,o),Eu&&this.i&&c==3&&(Zd(this.U,this.V,"tick",this.mb),this.V.start())):(Pr(this.j,this.m,o,null),Cu(this,o)),c==4&&qn(this),this.i&&!this.J&&(c==4?Dp(this.l,this):(this.i=!1,es(this)))}else Lw(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,ht(12)):(this.o=0,ht(13)),qn(this),wi(this)}}}catch{}finally{}};function up(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function lp(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=vw(t,n),i==Ys){e==4&&(t.o=4,ht(14),r=!1),Pr(t.j,t.m,null,"[Incomplete Response]");break}else if(i==Su){t.o=4,ht(15),Pr(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Pr(t.j,t.m,i,null),Cu(t,i);up(t)&&i!=Ys&&i!=Su&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,ht(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Nl(e),e.M=!0,ht(11))):(Pr(t.j,t.m,n,"[Invalid Chunked Response]"),qn(t),wi(t))}k.mb=function(){if(this.g){var t=Yt(this.g),e=this.g.ja();this.C<e.length&&($o(this),lp(this,t,e),this.i&&t!=4&&es(this))}};function vw(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?Ys:(n=Number(e.substring(n,r)),isNaN(n)?Su:(r+=1,r+n>e.length?Ys:(e=e.slice(r,r+n),t.C=r+n,e)))}k.cancel=function(){this.J=!0,qn(this)};function es(t){t.Y=Date.now()+t.P,cp(t,t.P)}function cp(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Yi(at(t.lb,t),e)}function $o(t){t.B&&(Y.clearTimeout(t.B),t.B=null)}k.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(mw(this.j,this.A),this.L!=2&&(Ni(),ht(17)),qn(this),this.o=2,wi(this)):cp(this,this.Y-t)};function wi(t){t.l.H==0||t.J||Dp(t.l,t)}function qn(t){$o(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Il(t.V),ep(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Cu(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Pu(n.i,t))){if(!t.K&&Pu(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)eo(n),zo(n);else break e;Ml(n),ht(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Yi(at(n.ib,n),6e3));if(1>=vp(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Wn(n,11)}else if((t.K||n.g==t)&&eo(n),!xi(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(n.V=l[0],l=l[1],n.H==2)if(l[0]=="c"){n.K=l[1],n.pa=l[2];const c=l[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const h=l[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const f=l[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const m=t.g;if(m){const d=m.g?m.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(d){var s=r.i;s.g||d.indexOf("spdy")==-1&&d.indexOf("quic")==-1&&d.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(xl(s,s.h),s.h=null))}if(r.F){const g=m.g?m.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,Ae(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=Np(r,r.J?r.pa:null,r.Y),o.K){_p(r.i,o);var a=o,u=r.L;u&&a.setTimeout(u),a.B&&($o(a),es(a)),r.g=o}else xp(r);0<n.j.length&&Ho(n)}else l[0]!="stop"&&l[0]!="close"||Wn(n,7);else n.H==3&&(l[0]=="stop"||l[0]=="close"?l[0]=="stop"?Wn(n,7):kl(n):l[0]!="noop"&&n.h&&n.h.Aa(l),n.A=0)}}Ni(4)}catch{}}function _w(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(xo(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function Ew(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(xo(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function hp(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(xo(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=Ew(t),r=_w(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var fp=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ww(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Yn(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Yn){this.h=t.h,Js(this,t.j),this.s=t.s,this.g=t.g,Zs(this,t.m),this.l=t.l;var e=t.i,n=new Fi;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),ah(this,n),this.o=t.o}else t&&(e=String(t).match(fp))?(this.h=!1,Js(this,e[1]||"",!0),this.s=mi(e[2]||""),this.g=mi(e[3]||"",!0),Zs(this,e[4]),this.l=mi(e[5]||"",!0),ah(this,e[6]||"",!0),this.o=mi(e[7]||"")):(this.h=!1,this.i=new Fi(null,this.h))}Yn.prototype.toString=function(){var t=[],e=this.j;e&&t.push(gi(e,uh,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(gi(e,uh,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(gi(n,n.charAt(0)=="/"?Aw:Tw,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",gi(n,Sw)),t.join("")};function dn(t){return new Yn(t)}function Js(t,e,n){t.j=n?mi(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Zs(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function ah(t,e,n){e instanceof Fi?(t.i=e,Rw(t.i,t.h)):(n||(e=gi(e,Iw)),t.i=new Fi(e,t.h))}function Ae(t,e,n){t.i.set(e,n)}function Uo(t){return Ae(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function mi(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function gi(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,bw),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function bw(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var uh=/[#\/\?@]/g,Tw=/[#\?:]/g,Aw=/[#\?]/g,Iw=/[#\?@]/g,Sw=/#/g;function Fi(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Mn(t){t.g||(t.g=new Map,t.h=0,t.i&&ww(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}k=Fi.prototype;k.add=function(t,e){Mn(this),this.i=null,t=Qr(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function dp(t,e){Mn(t),e=Qr(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function pp(t,e){return Mn(t),e=Qr(t,e),t.g.has(e)}k.forEach=function(t,e){Mn(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};k.ta=function(){Mn(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};k.Z=function(t){Mn(this);let e=[];if(typeof t=="string")pp(this,t)&&(e=e.concat(this.g.get(Qr(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};k.set=function(t,e){return Mn(this),this.i=null,t=Qr(this,t),pp(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};k.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function mp(t,e,n){dp(t,e),0<n.length&&(t.i=null,t.g.set(Qr(t,e),gl(n)),t.h+=n.length)}k.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function Qr(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function Rw(t,e){e&&!t.j&&(Mn(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(dp(this,r),mp(this,i,n))},t)),t.j=e}var Cw=class{constructor(t,e){this.g=t,this.map=e}};function gp(t){this.l=t||Pw,Y.PerformanceNavigationTiming?(t=Y.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Y.g&&Y.g.Ka&&Y.g.Ka()&&Y.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Pw=10;function yp(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function vp(t){return t.h?1:t.g?t.g.size:0}function Pu(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function xl(t,e){t.g?t.g.add(e):t.h=e}function _p(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}gp.prototype.cancel=function(){if(this.i=Ep(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function Ep(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return gl(t.i)}var xw=class{stringify(t){return Y.JSON.stringify(t,void 0)}parse(t){return Y.JSON.parse(t,void 0)}};function Ow(){this.g=new xw}function Dw(t,e,n){const r=n||"";try{hp(t,function(i,s){let o=i;Qi(i)&&(o=Tl(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function kw(t,e){const n=new No;if(Y.Image){const r=new Image;r.onload=vs(Es,n,r,"TestLoadImage: loaded",!0,e),r.onerror=vs(Es,n,r,"TestLoadImage: error",!1,e),r.onabort=vs(Es,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=vs(Es,n,r,"TestLoadImage: timeout",!1,e),Y.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Es(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function ts(t){this.l=t.ec||null,this.j=t.ob||!1}Xe(ts,Rl);ts.prototype.g=function(){return new jo(this.l,this.j)};ts.prototype.i=function(t){return function(){return t}}({});function jo(t,e){Ke.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Ol,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Xe(jo,Ke);var Ol=0;k=jo.prototype;k.open=function(t,e){if(this.readyState!=Ol)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Vi(this)};k.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Y).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};k.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ns(this)),this.readyState=Ol};k.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Vi(this)),this.g&&(this.readyState=3,Vi(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Y.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;wp(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function wp(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}k.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?ns(this):Vi(this),this.readyState==3&&wp(this)}};k.Za=function(t){this.g&&(this.response=this.responseText=t,ns(this))};k.Ya=function(t){this.g&&(this.response=t,ns(this))};k.ka=function(){this.g&&ns(this)};function ns(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Vi(t)}k.setRequestHeader=function(t,e){this.v.append(t,e)};k.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};k.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Vi(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(jo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var Mw=Y.JSON.parse;function Me(t){Ke.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=bp,this.L=this.M=!1}Xe(Me,Ke);var bp="",Nw=/^https?$/i,Fw=["POST","PUT"];k=Me.prototype;k.Oa=function(t){this.M=t};k.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Iu.g(),this.C=this.u?oh(this.u):oh(Iu),this.g.onreadystatechange=at(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){lh(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=Y.FormData&&t instanceof Y.FormData,!(0<=$d(Fw,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Ip(this),0<this.B&&((this.L=Vw(this.g))?(this.g.timeout=this.B,this.g.ontimeout=at(this.ua,this)):this.A=Sl(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){lh(this,s)}};function Vw(t){return Fr&&typeof t.timeout=="number"&&t.ontimeout!==void 0}k.ua=function(){typeof ml<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,tt(this,"timeout"),this.abort(8))};function lh(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Tp(t),Bo(t)}function Tp(t){t.F||(t.F=!0,tt(t,"complete"),tt(t,"error"))}k.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,tt(this,"complete"),tt(this,"abort"),Bo(this))};k.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Bo(this,!0)),Me.$.N.call(this)};k.La=function(){this.s||(this.G||this.v||this.l?Ap(this):this.kb())};k.kb=function(){Ap(this)};function Ap(t){if(t.h&&typeof ml<"u"&&(!t.C[1]||Yt(t)!=4||t.da()!=2)){if(t.v&&Yt(t)==4)Sl(t.La,0,t);else if(tt(t,"readystatechange"),Yt(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(fp)[1]||null;!i&&Y.self&&Y.self.location&&(i=Y.self.location.protocol.slice(0,-1)),r=!Nw.test(i?i.toLowerCase():"")}n=r}if(n)tt(t,"complete"),tt(t,"success");else{t.m=6;try{var s=2<Yt(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",Tp(t)}}finally{Bo(t)}}}}function Bo(t,e){if(t.g){Ip(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||tt(t,"ready");try{n.onreadystatechange=r}catch{}}}function Ip(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Y.clearTimeout(t.A),t.A=null)}k.isActive=function(){return!!this.g};function Yt(t){return t.g?t.g.readyState:0}k.da=function(){try{return 2<Yt(this)?this.g.status:-1}catch{return-1}};k.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};k.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),Mw(e)}};function ch(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case bp:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function Lw(t){const e={};t=(t.g&&2<=Yt(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(xi(t[r]))continue;var n=lw(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}nw(e,function(r){return r.join(", ")})}k.Ia=function(){return this.m};k.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function Sp(t){let e="";return vl(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Dl(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Sp(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Ae(t,e,n))}function li(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Rp(t){this.Ga=0,this.j=[],this.l=new No,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=li("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=li("baseRetryDelayMs",5e3,t),this.hb=li("retryDelaySeedMs",1e4,t),this.eb=li("forwardChannelMaxRetries",2,t),this.xa=li("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new gp(t&&t.concurrentRequestLimit),this.Ja=new Ow,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}k=Rp.prototype;k.ra=8;k.H=1;function kl(t){if(Cp(t),t.H==3){var e=t.W++,n=dn(t.I);if(Ae(n,"SID",t.K),Ae(n,"RID",e),Ae(n,"TYPE","terminate"),rs(t,n),e=new Zi(t,t.l,e),e.L=2,e.v=Uo(dn(n)),n=!1,Y.navigator&&Y.navigator.sendBeacon)try{n=Y.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&Y.Image&&(new Image().src=e.v,n=!0),n||(e.g=Fp(e.l,null),e.g.ha(e.v)),e.G=Date.now(),es(e)}Mp(t)}function zo(t){t.g&&(Nl(t),t.g.cancel(),t.g=null)}function Cp(t){zo(t),t.u&&(Y.clearTimeout(t.u),t.u=null),eo(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Y.clearTimeout(t.m),t.m=null)}function Ho(t){if(!yp(t.i)&&!t.m){t.m=!0;var e=t.Na;Di||Yd(),ki||(Di(),ki=!0),Al.add(e,t),t.C=0}}function $w(t,e){return vp(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Yi(at(t.Na,t,e),kp(t,t.C)),t.C++,!0)}k.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Zi(this,this.l,t);let s=this.s;if(this.U&&(s?(s=zd(s),Hd(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Pp(this,i,e),n=dn(this.I),Ae(n,"RID",t),Ae(n,"CVER",22),this.F&&Ae(n,"X-HTTP-Session-Id",this.F),rs(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(Sp(s)))+"&"+e:this.o&&Dl(n,this.o,s)),xl(this.i,i),this.bb&&Ae(n,"TYPE","init"),this.P?(Ae(n,"$req",e),Ae(n,"SID","null"),i.aa=!0,Ru(i,n,null)):Ru(i,n,e),this.H=2}}else this.H==3&&(t?hh(this,t):this.j.length==0||yp(this.i)||hh(this))};function hh(t,e){var n;e?n=e.m:n=t.W++;const r=dn(t.I);Ae(r,"SID",t.K),Ae(r,"RID",n),Ae(r,"AID",t.V),rs(t,r),t.o&&t.s&&Dl(r,t.o,t.s),n=new Zi(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=Pp(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),xl(t.i,n),Ru(n,r,e)}function rs(t,e){t.na&&vl(t.na,function(n,r){Ae(e,r,n)}),t.h&&hp({},function(n,r){Ae(e,r,n)})}function Pp(t,e,n){n=Math.min(t.j.length,n);var r=t.h?at(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let l=i[u].g;const c=i[u].map;if(l-=s,0>l)s=Math.max(0,i[u].g-100),a=!1;else try{Dw(c,o,"req"+l+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function xp(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Di||Yd(),ki||(Di(),ki=!0),Al.add(e,t),t.A=0}}function Ml(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Yi(at(t.Ma,t),kp(t,t.A)),t.A++,!0)}k.Ma=function(){if(this.u=null,Op(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Yi(at(this.jb,this),t)}};k.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,ht(10),zo(this),Op(this))};function Nl(t){t.B!=null&&(Y.clearTimeout(t.B),t.B=null)}function Op(t){t.g=new Zi(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=dn(t.wa);Ae(e,"RID","rpc"),Ae(e,"SID",t.K),Ae(e,"AID",t.V),Ae(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Ae(e,"TO",t.qa),Ae(e,"TYPE","xmlhttp"),rs(t,e),t.o&&t.s&&Dl(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Uo(dn(e)),n.s=null,n.S=!0,ap(n,t)}k.ib=function(){this.v!=null&&(this.v=null,zo(this),Ml(this),ht(19))};function eo(t){t.v!=null&&(Y.clearTimeout(t.v),t.v=null)}function Dp(t,e){var n=null;if(t.g==e){eo(t),Nl(t),t.g=null;var r=2}else if(Pu(t.i,e))n=e.F,_p(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=Fo(),tt(r,new rp(r,n)),Ho(t)}else xp(t);else if(i=e.o,i==3||i==0&&0<e.ca||!(r==1&&$w(t,e)||r==2&&Ml(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Wn(t,5);break;case 4:Wn(t,10);break;case 3:Wn(t,6);break;default:Wn(t,2)}}}function kp(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Wn(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=at(t.pb,t);n||(n=new Yn("//www.google.com/images/cleardot.gif"),Y.location&&Y.location.protocol=="http"||Js(n,"https"),Uo(n)),kw(n.toString(),r)}else ht(2);t.H=0,t.h&&t.h.za(e),Mp(t),Cp(t)}k.pb=function(t){t?(this.l.info("Successfully pinged google.com"),ht(2)):(this.l.info("Failed to ping google.com"),ht(1))};function Mp(t){if(t.H=0,t.ma=[],t.h){const e=Ep(t.i);(e.length!=0||t.j.length!=0)&&(th(t.ma,e),th(t.ma,t.j),t.i.i.length=0,gl(t.j),t.j.length=0),t.h.ya()}}function Np(t,e,n){var r=n instanceof Yn?dn(n):new Yn(n);if(r.g!="")e&&(r.g=e+"."+r.g),Zs(r,r.m);else{var i=Y.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Yn(null);r&&Js(s,r),e&&(s.g=e),i&&Zs(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&Ae(r,n,e),Ae(r,"VER",t.ra),rs(t,r),r}function Fp(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new Me(new ts({ob:!0})):new Me(t.va),e.Oa(t.J),e}k.isActive=function(){return!!this.h&&this.h.isActive(this)};function Vp(){}k=Vp.prototype;k.Ba=function(){};k.Aa=function(){};k.za=function(){};k.ya=function(){};k.isActive=function(){return!0};k.Va=function(){};function to(){if(Fr&&!(10<=Number(JE)))throw Error("Environmental error: no available transport.")}to.prototype.g=function(t,e){return new bt(t,e)};function bt(t,e){Ke.call(this),this.g=new Rp(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!xi(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!xi(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Xr(this)}Xe(bt,Ke);bt.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;ht(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=Np(t,null,t.Y),Ho(t)};bt.prototype.close=function(){kl(this.g)};bt.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Tl(t),t=n);e.j.push(new Cw(e.fb++,t)),e.H==3&&Ho(e)};bt.prototype.N=function(){this.g.h=null,delete this.j,kl(this.g),delete this.g,bt.$.N.call(this)};function Lp(t){Cl.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Xe(Lp,Cl);function $p(){Pl.call(this),this.status=1}Xe($p,Pl);function Xr(t){this.g=t}Xe(Xr,Vp);Xr.prototype.Ba=function(){tt(this.g,"a")};Xr.prototype.Aa=function(t){tt(this.g,new Lp(t))};Xr.prototype.za=function(t){tt(this.g,new $p)};Xr.prototype.ya=function(){tt(this.g,"b")};function Uw(){this.blockSize=-1}function en(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Xe(en,Uw);en.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Fa(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}en.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)Fa(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){Fa(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){Fa(this,r),i=0;break}}this.h=i,this.i+=e};en.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function ye(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var jw={};function Fl(t){return-128<=t&&128>t?QE(t,function(e){return new ye([e|0],0>e?-1:0)}):new ye([t|0],0>t?-1:0)}function Jt(t){if(isNaN(t)||!isFinite(t))return kr;if(0>t)return Ze(Jt(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=xu;return new ye(e,0)}function Up(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Ze(Up(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Jt(Math.pow(e,8)),r=kr,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Jt(Math.pow(e,s)),r=r.R(s).add(Jt(o))):(r=r.R(n),r=r.add(Jt(o)))}return r}var xu=4294967296,kr=Fl(0),Ou=Fl(1),fh=Fl(16777216);k=ye.prototype;k.ea=function(){if(Ct(this))return-Ze(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:xu+r)*e,e*=xu}return t};k.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(ln(this))return"0";if(Ct(this))return"-"+Ze(this).toString(t);for(var e=Jt(Math.pow(t,6)),n=this,r="";;){var i=ro(n,e).g;n=no(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,ln(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};k.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function ln(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Ct(t){return t.h==-1}k.X=function(t){return t=no(this,t),Ct(t)?-1:ln(t)?0:1};function Ze(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new ye(n,~t.h).add(Ou)}k.abs=function(){return Ct(this)?Ze(this):this};k.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new ye(n,n[n.length-1]&-2147483648?-1:0)};function no(t,e){return t.add(Ze(e))}k.R=function(t){if(ln(this)||ln(t))return kr;if(Ct(this))return Ct(t)?Ze(this).R(Ze(t)):Ze(Ze(this).R(t));if(Ct(t))return Ze(this.R(Ze(t)));if(0>this.X(fh)&&0>t.X(fh))return Jt(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,u=t.D(i)&65535;n[2*r+2*i]+=o*u,ws(n,2*r+2*i),n[2*r+2*i+1]+=s*u,ws(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,ws(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,ws(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new ye(n,0)};function ws(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function ci(t,e){this.g=t,this.h=e}function ro(t,e){if(ln(e))throw Error("division by zero");if(ln(t))return new ci(kr,kr);if(Ct(t))return e=ro(Ze(t),e),new ci(Ze(e.g),Ze(e.h));if(Ct(e))return e=ro(t,Ze(e)),new ci(Ze(e.g),e.h);if(30<t.g.length){if(Ct(t)||Ct(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Ou,r=e;0>=r.X(t);)n=dh(n),r=dh(r);var i=br(n,1),s=br(r,1);for(r=br(r,2),n=br(n,2);!ln(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=br(r,1),n=br(n,1)}return e=no(t,i.R(e)),new ci(i,e)}for(i=kr;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=Jt(n),o=s.R(e);Ct(o)||0<o.X(t);)n-=r,s=Jt(n),o=s.R(e);ln(s)&&(s=Ou),i=i.add(s),t=no(t,o)}return new ci(i,t)}k.gb=function(t){return ro(this,t).h};k.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new ye(n,this.h&t.h)};k.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new ye(n,this.h|t.h)};k.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new ye(n,this.h^t.h)};function dh(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new ye(n,t.h)}function br(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new ye(i,t.h)}to.prototype.createWebChannel=to.prototype.g;bt.prototype.send=bt.prototype.u;bt.prototype.open=bt.prototype.m;bt.prototype.close=bt.prototype.close;Vo.NO_ERROR=0;Vo.TIMEOUT=8;Vo.HTTP_ERROR=6;ip.COMPLETE="complete";sp.EventType=Ji;Ji.OPEN="a";Ji.CLOSE="b";Ji.ERROR="c";Ji.MESSAGE="d";Ke.prototype.listen=Ke.prototype.O;Me.prototype.listenOnce=Me.prototype.P;Me.prototype.getLastError=Me.prototype.Sa;Me.prototype.getLastErrorCode=Me.prototype.Ia;Me.prototype.getStatus=Me.prototype.da;Me.prototype.getResponseJson=Me.prototype.Wa;Me.prototype.getResponseText=Me.prototype.ja;Me.prototype.send=Me.prototype.ha;Me.prototype.setWithCredentials=Me.prototype.Oa;en.prototype.digest=en.prototype.l;en.prototype.reset=en.prototype.reset;en.prototype.update=en.prototype.j;ye.prototype.add=ye.prototype.add;ye.prototype.multiply=ye.prototype.R;ye.prototype.modulo=ye.prototype.gb;ye.prototype.compare=ye.prototype.X;ye.prototype.toNumber=ye.prototype.ea;ye.prototype.toString=ye.prototype.toString;ye.prototype.getBits=ye.prototype.D;ye.fromNumber=Jt;ye.fromString=Up;var Bw=function(){return new to},zw=function(){return Fo()},Va=Vo,Hw=ip,qw=pr,ph={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Ww=ts,bs=sp,Gw=Me,Kw=ye;const mh="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}it.UNAUTHENTICATED=new it(null),it.GOOGLE_CREDENTIALS=new it("google-credentials-uid"),it.FIRST_PARTY=new it("first-party-uid"),it.MOCK_USER=new it("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yr="10.5.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const or=new al("@firebase/firestore");function hi(){return or.logLevel}function B(t,...e){if(or.logLevel<=ce.DEBUG){const n=e.map(Vl);or.debug(`Firestore (${Yr}): ${t}`,...n)}}function ar(t,...e){if(or.logLevel<=ce.ERROR){const n=e.map(Vl);or.error(`Firestore (${Yr}): ${t}`,...n)}}function io(t,...e){if(or.logLevel<=ce.WARN){const n=e.map(Vl);or.warn(`Firestore (${Yr}): ${t}`,...n)}}function Vl(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oe(t="Unexpected state"){const e=`FIRESTORE (${Yr}) INTERNAL ASSERTION FAILED: `+t;throw ar(e),new Error(e)}function Qe(t,e){t||oe()}function Ie(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class G extends Dn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Qw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(it.UNAUTHENTICATED))}shutdown(){}}class Xw{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Yw{constructor(e){this.t=e,this.currentUser=it.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new Jn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Jn,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{B("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(B("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Jn)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(B("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Qe(typeof r.accessToken=="string"),new jp(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string"),new it(e)}}class Jw{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=it.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Zw{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Jw(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(it.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class eb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class tb{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&B("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,B("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{B("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):B("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Qe(typeof n.token=="string"),this.R=n.token,new eb(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nb(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=nb(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Ee(t,e){return t<e?-1:t>e?1:0}function Vr(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new G(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new G(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new G(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new G(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ge.fromMillis(Date.now())}static fromDate(e){return Ge.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ge(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ee(this.nanoseconds,e.nanoseconds):Ee(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Oe(e)}static min(){return new Oe(new Ge(0,0))}static max(){return new Oe(new Ge(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(e,n,r){n===void 0?n=0:n>e.length&&oe(),r===void 0?r=e.length-n:r>e.length-n&&oe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Li.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Li?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ke extends Li{construct(e,n,r){return new ke(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new G(O.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ke(n)}static emptyPath(){return new ke([])}}const rb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class et extends Li{construct(e,n,r){return new et(e,n,r)}static isValidIdentifier(e){return rb.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),et.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new et(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new G(O.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new G(O.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new G(O.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new G(O.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new et(n)}static emptyPath(){return new et([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.path=e}static fromPath(e){return new re(ke.fromString(e))}static fromName(e){return new re(ke.fromString(e).popFirst(5))}static empty(){return new re(ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ke.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ke.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new re(new ke(e.slice()))}}function ib(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Oe.fromTimestamp(r===1e9?new Ge(n+1,0):new Ge(n,r));return new Cn(i,re.empty(),e)}function sb(t){return new Cn(t.readTime,t.key,-1)}class Cn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Cn(Oe.min(),re.empty(),-1)}static max(){return new Cn(Oe.max(),re.empty(),-1)}}function ob(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=re.comparator(t.documentKey,e.documentKey),n!==0?n:Ee(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ab="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ub{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zp(t){if(t.code!==O.FAILED_PRECONDITION||t.message!==ab)throw t;B("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&oe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new P((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof P?n:P.resolve(n)}catch(n){return P.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):P.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):P.reject(n)}static resolve(e){return new P((n,r)=>{n(e)})}static reject(e){return new P((n,r)=>{r(e)})}static waitFor(e){return new P((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=P.resolve(!1);for(const r of e)n=n.next(i=>i?P.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new P((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const l=u;n(e[l]).next(c=>{o[l]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new P((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function qo(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}Hp._e=-1;function Ll(t){return t==null}function so(t){return t===0&&1/t==-1/0}function lb(t){return typeof t=="number"&&Number.isInteger(t)&&!so(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gh(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function is(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function qp(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e,n){this.comparator=e,this.root=n||Ye.EMPTY}insert(e,n){return new vt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ye.BLACK,null,null))}remove(e){return new vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ye.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ts(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ts(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ts(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ts(this.root,e,this.comparator,!0)}}class Ts{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ye{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Ye.RED,this.left=i??Ye.EMPTY,this.right=s??Ye.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Ye(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ye.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ye.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ye.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ye.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw oe();const e=this.left.check();if(e!==this.right.check())throw oe();return e+(this.isRed()?0:1)}}Ye.EMPTY=null,Ye.RED=!0,Ye.BLACK=!1;Ye.EMPTY=new class{constructor(){this.size=0}get key(){throw oe()}get value(){throw oe()}get color(){throw oe()}get left(){throw oe()}get right(){throw oe()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Ye(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e){this.comparator=e,this.data=new vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new yh(this.data.getIterator())}getIteratorFrom(e){return new yh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof lt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new lt(this.comparator);return n.data=e,n}}class yh{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.fields=e,e.sort(et.comparator)}static empty(){return new Lt([])}unionWith(e){let n=new lt(et.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Lt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Vr(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new cb("Invalid base64 string: "+s):s}}(e);return new pn(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new pn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ee(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}pn.EMPTY_BYTE_STRING=new pn("");const hb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ur(t){if(Qe(!!t),typeof t=="string"){let e=0;const n=hb.exec(t);if(Qe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Je(t.seconds),nanos:Je(t.nanos)}}function Je(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function $i(t){return typeof t=="string"?pn.fromBase64String(t):pn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $l(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Wp(t){const e=t.mapValue.fields.__previous_value__;return $l(e)?Wp(e):e}function oo(t){const e=ur(t.mapValue.fields.__local_write_time__.timestampValue);return new Ge(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(e,n,r,i,s,o,a,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}}class ao{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ao("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ao&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const As={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Lr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?$l(t)?4:db(t)?9007199254740991:10:oe()}function tn(t,e){if(t===e)return!0;const n=Lr(t);if(n!==Lr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return oo(t).isEqual(oo(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=ur(i.timestampValue),a=ur(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return $i(i.bytesValue).isEqual($i(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Je(i.geoPointValue.latitude)===Je(s.geoPointValue.latitude)&&Je(i.geoPointValue.longitude)===Je(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Je(i.integerValue)===Je(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Je(i.doubleValue),a=Je(s.doubleValue);return o===a?so(o)===so(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Vr(t.arrayValue.values||[],e.arrayValue.values||[],tn);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(gh(o)!==gh(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!tn(o[u],a[u])))return!1;return!0}(t,e);default:return oe()}}function Ui(t,e){return(t.values||[]).find(n=>tn(n,e))!==void 0}function $r(t,e){if(t===e)return 0;const n=Lr(t),r=Lr(e);if(n!==r)return Ee(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ee(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Je(s.integerValue||s.doubleValue),u=Je(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return vh(t.timestampValue,e.timestampValue);case 4:return vh(oo(t),oo(e));case 5:return Ee(t.stringValue,e.stringValue);case 6:return function(s,o){const a=$i(s),u=$i(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),u=o.split("/");for(let l=0;l<a.length&&l<u.length;l++){const c=Ee(a[l],u[l]);if(c!==0)return c}return Ee(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Ee(Je(s.latitude),Je(o.latitude));return a!==0?a:Ee(Je(s.longitude),Je(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],u=o.values||[];for(let l=0;l<a.length&&l<u.length;++l){const c=$r(a[l],u[l]);if(c)return c}return Ee(a.length,u.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===As.mapValue&&o===As.mapValue)return 0;if(s===As.mapValue)return 1;if(o===As.mapValue)return-1;const a=s.fields||{},u=Object.keys(a),l=o.fields||{},c=Object.keys(l);u.sort(),c.sort();for(let h=0;h<u.length&&h<c.length;++h){const f=Ee(u[h],c[h]);if(f!==0)return f;const m=$r(a[u[h]],l[c[h]]);if(m!==0)return m}return Ee(u.length,c.length)}(t.mapValue,e.mapValue);default:throw oe()}}function vh(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ee(t,e);const n=ur(t),r=ur(e),i=Ee(n.seconds,r.seconds);return i!==0?i:Ee(n.nanos,r.nanos)}function Ur(t){return Du(t)}function Du(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ur(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return $i(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return re.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Du(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Du(n.fields[o])}`;return i+"}"}(t.mapValue):oe()}function ku(t){return!!t&&"integerValue"in t}function Ul(t){return!!t&&"arrayValue"in t}function ks(t){return!!t&&"mapValue"in t}function bi(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return is(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=bi(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=bi(t.arrayValue.values[n]);return e}return Object.assign({},t)}function db(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.value=e}static empty(){return new Vt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ks(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=bi(n)}setAll(e){let n=et.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=bi(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());ks(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return tn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];ks(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){is(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Vt(bi(this.value))}}function Gp(t){const e=[];return is(t.fields,(n,r)=>{const i=new et([n]);if(ks(r)){const s=Gp(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Lt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ft(e,0,Oe.min(),Oe.min(),Oe.min(),Vt.empty(),0)}static newFoundDocument(e,n,r,i){return new Ft(e,1,n,Oe.min(),r,i,0)}static newNoDocument(e,n){return new Ft(e,2,n,Oe.min(),Oe.min(),Vt.empty(),0)}static newUnknownDocument(e,n){return new Ft(e,3,n,Oe.min(),Oe.min(),Vt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ft&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ft(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e,n){this.position=e,this.inclusive=n}}function _h(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=re.comparator(re.fromName(o.referenceValue),n.key):r=$r(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Eh(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!tn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e,n="asc"){this.field=e,this.dir=n}}function pb(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{}class We extends Kp{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new gb(e,n,r):n==="array-contains"?new _b(e,r):n==="in"?new Eb(e,r):n==="not-in"?new wb(e,r):n==="array-contains-any"?new bb(e,r):new We(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new yb(e,r):new vb(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison($r(n,this.value)):n!==null&&Lr(this.value)===Lr(n)&&this.matchesComparison($r(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return oe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Pn extends Kp{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new Pn(e,n)}matches(e){return Qp(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Qp(t){return t.op==="and"}function Xp(t){return mb(t)&&Qp(t)}function mb(t){for(const e of t.filters)if(e instanceof Pn)return!1;return!0}function Mu(t){if(t instanceof We)return t.field.canonicalString()+t.op.toString()+Ur(t.value);if(Xp(t))return t.filters.map(e=>Mu(e)).join(",");{const e=t.filters.map(n=>Mu(n)).join(",");return`${t.op}(${e})`}}function Yp(t,e){return t instanceof We?function(r,i){return i instanceof We&&r.op===i.op&&r.field.isEqual(i.field)&&tn(r.value,i.value)}(t,e):t instanceof Pn?function(r,i){return i instanceof Pn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&Yp(o,i.filters[a]),!0):!1}(t,e):void oe()}function Jp(t){return t instanceof We?function(n){return`${n.field.canonicalString()} ${n.op} ${Ur(n.value)}`}(t):t instanceof Pn?function(n){return n.op.toString()+" {"+n.getFilters().map(Jp).join(" ,")+"}"}(t):"Filter"}class gb extends We{constructor(e,n,r){super(e,n,r),this.key=re.fromName(r.referenceValue)}matches(e){const n=re.comparator(e.key,this.key);return this.matchesComparison(n)}}class yb extends We{constructor(e,n){super(e,"in",n),this.keys=Zp("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class vb extends We{constructor(e,n){super(e,"not-in",n),this.keys=Zp("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Zp(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>re.fromName(r.referenceValue))}class _b extends We{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ul(n)&&Ui(n.arrayValue,this.value)}}class Eb extends We{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ui(this.value.arrayValue,n)}}class wb extends We{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ui(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ui(this.value.arrayValue,n)}}class bb extends We{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ul(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ui(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function wh(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Tb(t,e,n,r,i,s,o)}function jl(t){const e=Ie(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Mu(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Ll(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ur(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ur(r)).join(",")),e.ce=n}return e.ce}function Bl(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!pb(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Yp(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Eh(t.startAt,e.startAt)&&Eh(t.endAt,e.endAt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function Ab(t,e,n,r,i,s,o,a){return new Wo(t,e,n,r,i,s,o,a)}function Ib(t){return new Wo(t)}function bh(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Sb(t){return t.collectionGroup!==null}function Ti(t){const e=Ie(t);if(e.le===null){e.le=[];const n=new Set;for(const s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new lt(et.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new lo(s,r))}),n.has(et.keyField().canonicalString())||e.le.push(new lo(et.keyField(),r))}return e.le}function Zn(t){const e=Ie(t);return e.he||(e.he=Rb(e,Ti(t))),e.he}function Rb(t,e){if(t.limitType==="F")return wh(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new lo(i.field,s)});const n=t.endAt?new uo(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new uo(t.startAt.position,t.startAt.inclusive):null;return wh(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Nu(t,e,n){return new Wo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function em(t,e){return Bl(Zn(t),Zn(e))&&t.limitType===e.limitType}function tm(t){return`${jl(Zn(t))}|lt:${t.limitType}`}function fi(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Jp(i)).join(", ")}]`),Ll(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ur(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ur(i)).join(",")),`Target(${r})`}(Zn(t))}; limitType=${t.limitType})`}function zl(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):re.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Ti(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,u){const l=_h(o,a,u);return o.inclusive?l<=0:l<0}(r.startAt,Ti(r),i)||r.endAt&&!function(o,a,u){const l=_h(o,a,u);return o.inclusive?l>=0:l>0}(r.endAt,Ti(r),i))}(t,e)}function Cb(t){return(e,n)=>{let r=!1;for(const i of Ti(t)){const s=Pb(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Pb(t,e,n){const r=t.field.isKeyField()?re.comparator(e.key,n.key):function(s,o,a){const u=o.data.field(s),l=a.data.field(s);return u!==null&&l!==null?$r(u,l):oe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return oe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){is(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return qp(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xb=new vt(re.comparator);function co(){return xb}const nm=new vt(re.comparator);function Is(...t){let e=nm;for(const n of t)e=e.insert(n.key,n);return e}function rm(t){let e=nm;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Gn(){return Ai()}function im(){return Ai()}function Ai(){return new Jr(t=>t.toString(),(t,e)=>t.isEqual(e))}const Ob=new vt(re.comparator),Db=new lt(re.comparator);function st(...t){let e=Db;for(const n of t)e=e.add(n);return e}const kb=new lt(Ee);function Mb(){return kb}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sm(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:so(e)?"-0":e}}function om(t){return{integerValue:""+t}}function Nb(t,e){return lb(e)?om(e):sm(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(){this._=void 0}}function Fb(t,e,n){return t instanceof ho?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&$l(s)&&(s=Wp(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof ji?um(t,e):t instanceof Bi?lm(t,e):function(i,s){const o=am(i,s),a=Th(o)+Th(i.Ie);return ku(o)&&ku(i.Ie)?om(a):sm(i.serializer,a)}(t,e)}function Vb(t,e,n){return t instanceof ji?um(t,e):t instanceof Bi?lm(t,e):n}function am(t,e){return t instanceof fo?function(r){return ku(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class ho extends Go{}class ji extends Go{constructor(e){super(),this.elements=e}}function um(t,e){const n=cm(e);for(const r of t.elements)n.some(i=>tn(i,r))||n.push(r);return{arrayValue:{values:n}}}class Bi extends Go{constructor(e){super(),this.elements=e}}function lm(t,e){let n=cm(e);for(const r of t.elements)n=n.filter(i=>!tn(i,r));return{arrayValue:{values:n}}}class fo extends Go{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function Th(t){return Je(t.integerValue||t.doubleValue)}function cm(t){return Ul(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Lb(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof ji&&i instanceof ji||r instanceof Bi&&i instanceof Bi?Vr(r.elements,i.elements,tn):r instanceof fo&&i instanceof fo?tn(r.Ie,i.Ie):r instanceof ho&&i instanceof ho}(t.transform,e.transform)}class $b{constructor(e,n){this.version=e,this.transformResults=n}}class cn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new cn}static exists(e){return new cn(void 0,e)}static updateTime(e){return new cn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ms(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ko{}function hm(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new dm(t.key,cn.none()):new ss(t.key,t.data,cn.none());{const n=t.data,r=Vt.empty();let i=new lt(et.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new mr(t.key,r,new Lt(i.toArray()),cn.none())}}function Ub(t,e,n){t instanceof ss?function(i,s,o){const a=i.value.clone(),u=Ih(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof mr?function(i,s,o){if(!Ms(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=Ih(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(fm(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ii(t,e,n,r){return t instanceof ss?function(s,o,a,u){if(!Ms(s.precondition,o))return a;const l=s.value.clone(),c=Sh(s.fieldTransforms,u,o);return l.setAll(c),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof mr?function(s,o,a,u){if(!Ms(s.precondition,o))return a;const l=Sh(s.fieldTransforms,u,o),c=o.data;return c.setAll(fm(s)),c.setAll(l),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return Ms(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function jb(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=am(r.transform,i||null);s!=null&&(n===null&&(n=Vt.empty()),n.set(r.field,s))}return n||null}function Ah(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Vr(r,i,(s,o)=>Lb(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ss extends Ko{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class mr extends Ko{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function fm(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Ih(t,e,n){const r=new Map;Qe(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Vb(o,a,n[i]))}return r}function Sh(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Fb(s,o,e))}return r}class dm extends Ko{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Bb extends Ko{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Ub(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ii(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ii(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=im();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=hm(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(Oe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),st())}isEqual(e){return this.batchId===e.batchId&&Vr(this.mutations,e.mutations,(n,r)=>Ah(n,r))&&Vr(this.baseMutations,e.baseMutations,(n,r)=>Ah(n,r))}}class Hl{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Qe(e.mutations.length===r.length);let i=function(){return Ob}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Hl(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le,le;function qb(t){switch(t){default:return oe();case O.CANCELLED:case O.UNKNOWN:case O.DEADLINE_EXCEEDED:case O.RESOURCE_EXHAUSTED:case O.INTERNAL:case O.UNAVAILABLE:case O.UNAUTHENTICATED:return!1;case O.INVALID_ARGUMENT:case O.NOT_FOUND:case O.ALREADY_EXISTS:case O.PERMISSION_DENIED:case O.FAILED_PRECONDITION:case O.ABORTED:case O.OUT_OF_RANGE:case O.UNIMPLEMENTED:case O.DATA_LOSS:return!0}}function Wb(t){if(t===void 0)return ar("GRPC error has no .code"),O.UNKNOWN;switch(t){case Le.OK:return O.OK;case Le.CANCELLED:return O.CANCELLED;case Le.UNKNOWN:return O.UNKNOWN;case Le.DEADLINE_EXCEEDED:return O.DEADLINE_EXCEEDED;case Le.RESOURCE_EXHAUSTED:return O.RESOURCE_EXHAUSTED;case Le.INTERNAL:return O.INTERNAL;case Le.UNAVAILABLE:return O.UNAVAILABLE;case Le.UNAUTHENTICATED:return O.UNAUTHENTICATED;case Le.INVALID_ARGUMENT:return O.INVALID_ARGUMENT;case Le.NOT_FOUND:return O.NOT_FOUND;case Le.ALREADY_EXISTS:return O.ALREADY_EXISTS;case Le.PERMISSION_DENIED:return O.PERMISSION_DENIED;case Le.FAILED_PRECONDITION:return O.FAILED_PRECONDITION;case Le.ABORTED:return O.ABORTED;case Le.OUT_OF_RANGE:return O.OUT_OF_RANGE;case Le.UNIMPLEMENTED:return O.UNIMPLEMENTED;case Le.DATA_LOSS:return O.DATA_LOSS;default:return oe()}}(le=Le||(Le={}))[le.OK=0]="OK",le[le.CANCELLED=1]="CANCELLED",le[le.UNKNOWN=2]="UNKNOWN",le[le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",le[le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",le[le.NOT_FOUND=5]="NOT_FOUND",le[le.ALREADY_EXISTS=6]="ALREADY_EXISTS",le[le.PERMISSION_DENIED=7]="PERMISSION_DENIED",le[le.UNAUTHENTICATED=16]="UNAUTHENTICATED",le[le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",le[le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",le[le.ABORTED=10]="ABORTED",le[le.OUT_OF_RANGE=11]="OUT_OF_RANGE",le[le.UNIMPLEMENTED=12]="UNIMPLEMENTED",le[le.INTERNAL=13]="INTERNAL",le[le.UNAVAILABLE=14]="UNAVAILABLE",le[le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Kw([4294967295,4294967295],0);class Gb{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Fu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Kb(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Qb(t,e){return Fu(t,e.toTimestamp())}function Mr(t){return Qe(!!t),Oe.fromTimestamp(function(n){const r=ur(n);return new Ge(r.seconds,r.nanos)}(t))}function pm(t,e){return function(r){return new ke(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function Xb(t){const e=ke.fromString(t);return Qe(iT(e)),e}function Vu(t,e){return pm(t.databaseId,e.path)}function Yb(t){const e=Xb(t);return e.length===4?ke.emptyPath():Zb(e)}function Jb(t){return new ke(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Zb(t){return Qe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Rh(t,e,n){return{name:Vu(t,e),fields:n.value.mapValue.fields}}function eT(t,e){let n;if(e instanceof ss)n={update:Rh(t,e.key,e.value)};else if(e instanceof dm)n={delete:Vu(t,e.key)};else if(e instanceof mr)n={update:Rh(t,e.key,e.data),updateMask:rT(e.fieldMask)};else{if(!(e instanceof Bb))return oe();n={verify:Vu(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof ho)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ji)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Bi)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof fo)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw oe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:Qb(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:oe()}(t,e.precondition)),n}function tT(t,e){return t&&t.length>0?(Qe(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Mr(i.updateTime):Mr(s);return o.isEqual(Oe.min())&&(o=Mr(s)),new $b(o,i.transformResults||[])}(n,e))):[]}function nT(t){let e=Yb(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Qe(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(h){const f=mm(h);return f instanceof Pn&&Xp(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(d){return new lo(Sr(d.field),function(p){switch(p){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,Ll(f)?null:f}(n.limit));let u=null;n.startAt&&(u=function(h){const f=!!h.before,m=h.values||[];return new uo(m,f)}(n.startAt));let l=null;return n.endAt&&(l=function(h){const f=!h.before,m=h.values||[];return new uo(m,f)}(n.endAt)),Ab(e,i,o,s,a,"F",u,l)}function mm(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Sr(n.unaryFilter.field);return We.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Sr(n.unaryFilter.field);return We.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Sr(n.unaryFilter.field);return We.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Sr(n.unaryFilter.field);return We.create(o,"!=",{nullValue:"NULL_VALUE"});default:return oe()}}(t):t.fieldFilter!==void 0?function(n){return We.create(Sr(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return oe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Pn.create(n.compositeFilter.filters.map(r=>mm(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return oe()}}(n.compositeFilter.op))}(t):oe()}function Sr(t){return et.fromServerFormat(t.fieldPath)}function rT(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function iT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(e){this.ut=e}}function oT(t){const e=nT({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Nu(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(){this.on=new uT}addToCollectionParentIndex(e,n){return this.on.add(n),P.resolve()}getCollectionParents(e,n){return P.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return P.resolve()}deleteFieldIndex(e,n){return P.resolve()}deleteAllFieldIndexes(e){return P.resolve()}createTargetIndexes(e,n){return P.resolve()}getDocumentsMatchingTarget(e,n){return P.resolve(null)}getIndexType(e,n){return P.resolve(0)}getFieldIndexes(e,n){return P.resolve([])}getNextCollectionGroupToUpdate(e){return P.resolve(null)}getMinOffset(e,n){return P.resolve(Cn.min())}getMinOffsetFromCollectionGroup(e,n){return P.resolve(Cn.min())}updateCollectionGroup(e,n,r){return P.resolve()}updateIndexEntries(e,n){return P.resolve()}}class uT{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new lt(ke.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new lt(ke.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new jr(0)}static Nn(){return new jr(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(){this.changes=new Jr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ft.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?P.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ii(r.mutation,i,Lt.empty(),Ge.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,st()).next(()=>r))}getLocalViewOfDocuments(e,n,r=st()){const i=Gn();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Is();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Gn();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,st()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=co();const o=Ai(),a=function(){return Ai()}();return n.forEach((u,l)=>{const c=r.get(l.key);i.has(l.key)&&(c===void 0||c.mutation instanceof mr)?s=s.insert(l.key,l):c!==void 0?(o.set(l.key,c.mutation.getFieldMask()),Ii(c.mutation,l,c.mutation.getFieldMask(),Ge.now())):o.set(l.key,Lt.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((l,c)=>o.set(l,c)),n.forEach((l,c)=>{var h;return a.set(l,new cT(c,(h=o.get(l))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Ai();let i=new vt((o,a)=>o-a),s=st();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const l=n.get(u);if(l===null)return;let c=r.get(u)||Lt.empty();c=a.applyToLocalView(l,c),r.set(u,c);const h=(i.get(a.batchId)||st()).add(u);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),l=u.key,c=u.value,h=im();c.forEach(f=>{if(!s.has(f)){const m=hm(n.get(f),r.get(f));m!==null&&h.set(f,m),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,h))}return P.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return re.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Sb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):P.resolve(Gn());let a=-1,u=s;return o.next(l=>P.forEach(l,(c,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(c)?P.resolve():this.remoteDocumentCache.getEntry(e,c).next(f=>{u=u.insert(c,f)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,u,l,st())).next(c=>({batchId:a,changes:rm(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new re(n)).next(r=>{let i=Is();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Is();return this.indexManager.getCollectionParents(e,s).next(a=>P.forEach(a,u=>{const l=function(h,f){return new Wo(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(c=>{c.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,l)=>{const c=l.getKey();o.get(c)===null&&(o=o.insert(c,Ft.newInvalidDocument(c)))});let a=Is();return o.forEach((u,l)=>{const c=s.get(u);c!==void 0&&Ii(c.mutation,l,Lt.empty(),Ge.now()),zl(n,l)&&(a=a.insert(u,l))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return P.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Mr(i.createTime)}}(n)),P.resolve()}getNamedQuery(e,n){return P.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,function(i){return{name:i.name,query:oT(i.bundledQuery),readTime:Mr(i.readTime)}}(n)),P.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(){this.overlays=new vt(re.comparator),this.lr=new Map}getOverlay(e,n){return P.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Gn();return P.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.lt(e,n,s)}),P.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.lr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(r)),P.resolve()}getOverlaysForCollection(e,n,r){const i=Gn(),s=n.length+1,o=new re(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return P.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new vt((l,c)=>l-c);const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let c=s.get(l.largestBatchId);c===null&&(c=Gn(),s=s.insert(l.largestBatchId,c)),c.set(l.getKey(),l)}}const a=Gn(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,c)=>a.set(l,c)),!(a.size()>=i)););return P.resolve(a)}lt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Hb(n,r));let s=this.lr.get(n);s===void 0&&(s=st(),this.lr.set(n,s)),this.lr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(){this.hr=new lt(He.Pr),this.Ir=new lt(He.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const r=new He(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new He(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){const n=new re(new ke([])),r=new He(n,e),i=new He(n,e+1),s=[];return this.Ir.forEachInRange([r,i],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new re(new ke([])),r=new He(n,e),i=new He(n,e+1);let s=st();return this.Ir.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new He(e,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class He{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return re.comparator(e.key,n.key)||Ee(e.gr,n.gr)}static Tr(e,n){return Ee(e.gr,n.gr)||re.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new lt(He.Pr)}checkEmpty(e){return P.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new zb(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.yr=this.yr.add(new He(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return P.resolve(o)}lookupMutationBatch(e,n){return P.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Sr(r),s=i<0?0:i;return P.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return P.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return P.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new He(n,0),i=new He(n,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([r,i],o=>{const a=this.wr(o.gr);s.push(a)}),P.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new lt(Ee);return n.forEach(i=>{const s=new He(i,0),o=new He(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{r=r.add(a.gr)})}),P.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;re.isDocumentKey(s)||(s=s.child(""));const o=new He(new re(s),0);let a=new lt(Ee);return this.yr.forEachWhile(u=>{const l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.gr)),!0)},o),P.resolve(this.br(a))}br(e){const n=[];return e.forEach(r=>{const i=this.wr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Qe(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return P.forEach(n.mutations,i=>{const s=new He(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){const r=new He(n,0),i=this.yr.firstAfterOrEqual(r);return P.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,P.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(e){this.Cr=e,this.docs=function(){return new vt(re.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return P.resolve(r?r.document.mutableCopy():Ft.newInvalidDocument(n))}getEntries(e,n){let r=co();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ft.newInvalidDocument(i))}),P.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=co();const o=n.path,a=new re(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:l,value:{document:c}}=u.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||ob(sb(c),r)<=0||(i.has(c.key)||zl(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return P.resolve(s)}getAllFromCollectionGroup(e,n,r,i){oe()}vr(e,n){return P.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new gT(this)}getSize(e){return P.resolve(this.size)}}class gT extends lT{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),P.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(e){this.persistence=e,this.Fr=new Jr(n=>jl(n),Bl),this.lastRemoteSnapshotVersion=Oe.min(),this.highestTargetId=0,this.Mr=0,this.Or=new ql,this.targetCount=0,this.Nr=jr.On()}forEachTarget(e,n){return this.Fr.forEach((r,i)=>n(i)),P.resolve()}getLastRemoteSnapshotVersion(e){return P.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return P.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),P.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),P.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new jr(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,P.resolve()}updateTargetData(e,n){return this.kn(n),P.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,P.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),P.waitFor(s).next(()=>i)}getTargetCount(e){return P.resolve(this.targetCount)}getTargetData(e,n){const r=this.Fr.get(n)||null;return P.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),P.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),P.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),P.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Or.mr(n);return P.resolve(r)}containsKey(e,n){return P.resolve(this.Or.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(e,n){this.Br={},this.overlays={},this.Lr=new Hp(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new yT(this),this.indexManager=new aT,this.remoteDocumentCache=function(i){return new mT(i)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new sT(n),this.Kr=new fT(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new dT,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new pT(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){B("MemoryPersistence","Starting transaction:",e);const i=new _T(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(s=>this.referenceDelegate.Ur(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Wr(e,n){return P.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class _T extends ub{constructor(e){super(),this.currentSequenceNumber=e}}class Wl{constructor(e){this.persistence=e,this.Gr=new ql,this.zr=null}static jr(e){return new Wl(e)}get Hr(){if(this.zr)return this.zr;throw oe()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),P.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),P.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),P.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Hr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return P.forEach(this.Hr,r=>{const i=re.fromPath(r);return this.Jr(e,i).next(s=>{s||n.removeEntry(i,Oe.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return P.or([()=>P.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=i}static Qi(e,n){let r=st(),i=st();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Gl(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.zi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new ET;return this.Hi(e,n,o).next(a=>{if(s.result=a,this.$i)return this.Ji(e,n,o,a.size)})}).next(()=>s.result)}Ji(e,n,r,i){return r.documentReadCount<this.Ui?(hi()<=ce.DEBUG&&B("QueryEngine","SDK will not create cache indexes for query:",fi(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),P.resolve()):(hi()<=ce.DEBUG&&B("QueryEngine","Query:",fi(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(hi()<=ce.DEBUG&&B("QueryEngine","The SDK decides to create cache indexes for query:",fi(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Zn(n))):P.resolve())}zi(e,n){if(bh(n))return P.resolve(null);let r=Zn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Nu(n,null,"F"),r=Zn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=st(...s);return this.Gi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const l=this.Yi(n,a);return this.Zi(n,l,o,u.readTime)?this.zi(e,Nu(n,null,"F")):this.Xi(e,l,n,u)}))})))}ji(e,n,r,i){return bh(n)||i.isEqual(Oe.min())?P.resolve(null):this.Gi.getDocuments(e,r).next(s=>{const o=this.Yi(n,s);return this.Zi(n,o,r,i)?P.resolve(null):(hi()<=ce.DEBUG&&B("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),fi(n)),this.Xi(e,o,n,ib(i,-1)).next(a=>a))})}Yi(e,n){let r=new lt(Cb(e));return n.forEach((i,s)=>{zl(e,s)&&(r=r.add(s))}),r}Zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Hi(e,n,r){return hi()<=ce.DEBUG&&B("QueryEngine","Using full collection scan to execute query:",fi(n)),this.Gi.getDocumentsMatchingQuery(e,n,Cn.min(),r)}Xi(e,n,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(e,n,r,i){this.persistence=e,this.es=n,this.serializer=i,this.ts=new vt(Ee),this.ns=new Jr(s=>jl(s),Bl),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new hT(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function TT(t,e,n,r){return new bT(t,e,n,r)}async function gm(t,e){const n=Ie(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=st();for(const l of i){o.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}for(const l of s){a.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}return n.localDocuments.getDocuments(r,u).next(l=>({_s:l,removedBatchIds:o,addedBatchIds:a}))})})}function AT(t,e){const n=Ie(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,u,l,c){const h=l.batch,f=h.keys();let m=P.resolve();return f.forEach(d=>{m=m.next(()=>c.getEntry(u,d)).next(g=>{const p=l.docVersions.get(d);Qe(p!==null),g.version.compareTo(p)<0&&(h.applyToRemoteDocument(g,l),g.isValidDocument()&&(g.setReadTime(l.commitVersion),c.addEntry(g)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(u,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=st();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function IT(t){const e=Ie(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function ST(t,e){const n=Ie(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}class Ch{constructor(){this.activeTargetIds=Mb()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class RT{constructor(){this.eo=new Ch,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new Ch,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{ro(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){B("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){B("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ss=null;function La(){return Ss===null?Ss=function(){return 268435456+Math.round(2147483648*Math.random())}():Ss++,"0x"+Ss.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rt="WebChannelConnection";class OT extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${i}/databases/${s}`,this.po=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get yo(){return!1}wo(n,r,i,s,o){const a=La(),u=this.So(n,r);B("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);const l={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(l,s,o),this.Do(n,u,l,i).then(c=>(B("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw io("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",u,"request:",i),c})}Co(n,r,i,s,o,a){return this.wo(n,r,i,s,o)}bo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Yr}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}So(n,r){const i=PT[n];return`${this.mo}/v1/${r}:${i}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,r,i){const s=La();return new Promise((o,a)=>{const u=new Gw;u.setWithCredentials(!0),u.listenOnce(Hw.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Va.NO_ERROR:const c=u.getResponseJson();B(rt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case Va.TIMEOUT:B(rt,`RPC '${e}' ${s} timed out`),a(new G(O.DEADLINE_EXCEEDED,"Request time out"));break;case Va.HTTP_ERROR:const h=u.getStatus();if(B(rt,`RPC '${e}' ${s} failed with status:`,h,"response text:",u.getResponseText()),h>0){let f=u.getResponseJson();Array.isArray(f)&&(f=f[0]);const m=f==null?void 0:f.error;if(m&&m.status&&m.message){const d=function(p){const v=p.toLowerCase().replace(/_/g,"-");return Object.values(O).indexOf(v)>=0?v:O.UNKNOWN}(m.status);a(new G(d,m.message))}else a(new G(O.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new G(O.UNAVAILABLE,"Connection failed."));break;default:oe()}}finally{B(rt,`RPC '${e}' ${s} completed.`)}});const l=JSON.stringify(i);B(rt,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",l,r,15)})}vo(e,n,r){const i=La(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Bw(),a=zw(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.xmlHttpFactory=new Ww({})),this.bo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const c=s.join("");B(rt,`Creating RPC '${e}' stream ${i}: ${c}`,u);const h=o.createWebChannel(c,u);let f=!1,m=!1;const d=new xT({co:p=>{m?B(rt,`Not sending because RPC '${e}' stream ${i} is closed:`,p):(f||(B(rt,`Opening RPC '${e}' stream ${i} transport.`),h.open(),f=!0),B(rt,`RPC '${e}' stream ${i} sending:`,p),h.send(p))},lo:()=>h.close()}),g=(p,v,_)=>{p.listen(v,I=>{try{_(I)}catch(y){setTimeout(()=>{throw y},0)}})};return g(h,bs.EventType.OPEN,()=>{m||B(rt,`RPC '${e}' stream ${i} transport opened.`)}),g(h,bs.EventType.CLOSE,()=>{m||(m=!0,B(rt,`RPC '${e}' stream ${i} transport closed`),d.Ro())}),g(h,bs.EventType.ERROR,p=>{m||(m=!0,io(rt,`RPC '${e}' stream ${i} transport errored:`,p),d.Ro(new G(O.UNAVAILABLE,"The operation could not be completed")))}),g(h,bs.EventType.MESSAGE,p=>{var v;if(!m){const _=p.data[0];Qe(!!_);const I=_,y=I.error||((v=I[0])===null||v===void 0?void 0:v.error);if(y){B(rt,`RPC '${e}' stream ${i} received error:`,y);const R=y.status;let T=function(F){const W=Le[F];if(W!==void 0)return Wb(W)}(R),A=y.message;T===void 0&&(T=O.INTERNAL,A="Unknown error status: "+R+" with message "+y.message),m=!0,d.Ro(new G(T,A)),h.close()}else B(rt,`RPC '${e}' stream ${i} received:`,_),d.Vo(_)}}),g(a,qw.STAT_EVENT,p=>{p.stat===ph.PROXY?B(rt,`RPC '${e}' stream ${i} detected buffering proxy`):p.stat===ph.NOPROXY&&B(rt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{d.Ao()},0),d}}function $a(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qo(t){return new Gb(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(e,n,r=1e3,i=1.5,s=6e4){this.si=e,this.timerId=n,this.Fo=r,this.Mo=i,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&B("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(e,n,r,i,s,o,a,u){this.si=e,this.Ko=r,this.$o=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new ym(e,n)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(e,n){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,e!==4?this.zo.reset():n&&n.code===O.RESOURCE_EXHAUSTED?(ar(n.toString()),ar("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===O.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Io(n)}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===n&&this.s_(r,i)},r=>{e(()=>{const i=new G(O.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(e,n){const r=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){this.state=5,this.zo.ko(async()=>{this.state=0,this.start()})}o_(e){return B("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(B("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class kT extends DT{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(Qe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=tT(e.writeResults,e.commitTime),r=Mr(e.commitTime);return this.listener.I_(r,n)}return Qe(!e.writeResults||e.writeResults.length===0),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=Jb(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>eT(this.serializer,r))};this.e_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new G(O.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.wo(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new G(O.UNKNOWN,i.toString())})}Co(e,n,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new G(O.UNKNOWN,s.toString())})}terminate(){this.d_=!0}}class NT{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,e==="Online"&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(ar(n),this.f_=!1):B("OnlineStateTracker",n)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=s,this.F_.ro(o=>{r.enqueueAndForget(async()=>{as(this)&&(B("RemoteStore","Restarting streams for network reachability change."),await async function(u){const l=Ie(u);l.C_.add(4),await os(l),l.M_.set("Unknown"),l.C_.delete(4),await Xo(l)}(this))})}),this.M_=new NT(r,i)}}async function Xo(t){if(as(t))for(const e of t.v_)await e(!0)}async function os(t){for(const e of t.v_)await e(!1)}function as(t){return Ie(t).C_.size===0}async function vm(t,e,n){if(!qo(e))throw e;t.C_.add(1),await os(t),t.M_.set("Offline"),n||(n=()=>IT(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{B("RemoteStore","Retrying IndexedDB access"),await n(),t.C_.delete(1),await Xo(t)})}function _m(t,e){return e().catch(n=>vm(t,n,e))}async function Yo(t){const e=Ie(t),n=xn(e);let r=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;VT(e);)try{const i=await ST(e.localStore,r);if(i===null){e.b_.length===0&&n.Zo();break}r=i.batchId,LT(e,i)}catch(i){await vm(e,i)}Em(e)&&wm(e)}function VT(t){return as(t)&&t.b_.length<10}function LT(t,e){t.b_.push(e);const n=xn(t);n.Ho()&&n.h_&&n.P_(e.mutations)}function Em(t){return as(t)&&!xn(t).jo()&&t.b_.length>0}function wm(t){xn(t).start()}async function $T(t){xn(t).E_()}async function UT(t){const e=xn(t);for(const n of t.b_)e.P_(n.mutations)}async function jT(t,e,n){const r=t.b_.shift(),i=Hl.from(r,e,n);await _m(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Yo(t)}async function BT(t,e){e&&xn(t).h_&&await async function(r,i){if(function(o){return qb(o)&&o!==O.ABORTED}(i.code)){const s=r.b_.shift();xn(r).Yo(),await _m(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Yo(r)}}(t,e),Em(t)&&wm(t)}async function xh(t,e){const n=Ie(t);n.asyncQueue.verifyOperationInProgress(),B("RemoteStore","RemoteStore received new credentials");const r=as(n);n.C_.add(3),await os(n),r&&n.M_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),await Xo(n)}async function zT(t,e){const n=Ie(t);e?(n.C_.delete(2),await Xo(n)):e||(n.C_.add(2),await os(n),n.M_.set("Unknown"))}function xn(t){return t.N_||(t.N_=function(n,r,i){const s=Ie(n);return s.A_(),new kT(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:$T.bind(null,t),Io:BT.bind(null,t),T_:UT.bind(null,t),I_:jT.bind(null,t)}),t.v_.push(async e=>{e?(t.N_.Yo(),await Yo(t)):(await t.N_.stop(),t.b_.length>0&&(B("RemoteStore",`Stopping write stream with ${t.b_.length} pending writes`),t.b_=[]))})),t.N_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Jn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Kl(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new G(O.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bm(t,e){if(ar("AsyncQueue",`${e}: ${t}`),qo(t))return new G(O.UNAVAILABLE,`${e}: ${t}`);throw t}class HT{constructor(){this.queries=new Jr(e=>tm(e),em),this.onlineState="Unknown",this.q_=new Set}}function qT(t){t.q_.forEach(e=>{e.next()})}class WT{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new Jr(a=>tm(a),em),this.fa=new Map,this.ga=new Set,this.pa=new vt(re.comparator),this.ya=new Map,this.wa=new ql,this.Sa={},this.ba=new Map,this.Da=jr.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}}async function GT(t,e,n){const r=YT(t);try{const i=await function(o,a){const u=Ie(o),l=Ge.now(),c=a.reduce((m,d)=>m.add(d.key),st());let h,f;return u.persistence.runTransaction("Locally write mutations","readwrite",m=>{let d=co(),g=st();return u.ss.getEntries(m,c).next(p=>{d=p,d.forEach((v,_)=>{_.isValidDocument()||(g=g.add(v))})}).next(()=>u.localDocuments.getOverlayedDocuments(m,d)).next(p=>{h=p;const v=[];for(const _ of a){const I=jb(_,h.get(_.key).overlayedDocument);I!=null&&v.push(new mr(_.key,I,Gp(I.value.mapValue),cn.exists(!0)))}return u.mutationQueue.addMutationBatch(m,l,v,a)}).next(p=>{f=p;const v=p.applyToLocalDocumentSet(h,g);return u.documentOverlayCache.saveOverlays(m,p.batchId,v)})}).then(()=>({batchId:f.batchId,changes:rm(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let l=o.Sa[o.currentUser.toKey()];l||(l=new vt(Ee)),l=l.insert(a,u),o.Sa[o.currentUser.toKey()]=l}(r,i.batchId,n),await Jo(r,i.changes),await Yo(r.remoteStore)}catch(i){const s=bm(i,"Failed to persist write");n.reject(s)}}function Oh(t,e,n){const r=Ie(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ma.forEach((s,o)=>{const a=o.view.Q_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const u=Ie(o);u.onlineState=a;let l=!1;u.queries.forEach((c,h)=>{for(const f of h.listeners)f.Q_(a)&&(l=!0)}),l&&qT(u)}(r.eventManager,e),i.length&&r.Va.a_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function KT(t,e){const n=Ie(t),r=e.batch.batchId;try{const i=await AT(n.localStore,e);Am(n,r,null),Tm(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Jo(n,i)}catch(i){await zp(i)}}async function QT(t,e,n){const r=Ie(t);try{const i=await function(o,a){const u=Ie(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return u.mutationQueue.lookupMutationBatch(l,a).next(h=>(Qe(h!==null),c=h.keys(),u.mutationQueue.removeMutationBatch(l,h))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,c,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>u.localDocuments.getDocuments(l,c))})}(r.localStore,e);Am(r,e,n),Tm(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Jo(r,i)}catch(i){await zp(i)}}function Tm(t,e){(t.ba.get(e)||[]).forEach(n=>{n.resolve()}),t.ba.delete(e)}function Am(t,e,n){const r=Ie(t);let i=r.Sa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Sa[r.currentUser.toKey()]=i}}async function Jo(t,e,n){const r=Ie(t),i=[],s=[],o=[];r.ma.isEmpty()||(r.ma.forEach((a,u)=>{o.push(r.va(u,e,n).then(l=>{if((l||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,l!=null&&l.fromCache?"not-current":"current"),l){i.push(l);const c=Gl.Qi(u.targetId,l);s.push(c)}}))}),await Promise.all(o),r.Va.a_(i),await async function(u,l){const c=Ie(u);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>P.forEach(l,f=>P.forEach(f.ki,m=>c.persistence.referenceDelegate.addReference(h,f.targetId,m)).next(()=>P.forEach(f.qi,m=>c.persistence.referenceDelegate.removeReference(h,f.targetId,m)))))}catch(h){if(!qo(h))throw h;B("LocalStore","Failed to update sequence numbers: "+h)}for(const h of l){const f=h.targetId;if(!h.fromCache){const m=c.ts.get(f),d=m.snapshotVersion,g=m.withLastLimboFreeSnapshotVersion(d);c.ts=c.ts.insert(f,g)}}}(r.localStore,s))}async function XT(t,e){const n=Ie(t);if(!n.currentUser.isEqual(e)){B("SyncEngine","User change. New user:",e.toKey());const r=await gm(n.localStore,e);n.currentUser=e,function(s,o){s.ba.forEach(a=>{a.forEach(u=>{u.reject(new G(O.CANCELLED,o))})}),s.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Jo(n,r._s)}}function YT(t){const e=Ie(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=KT.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=QT.bind(null,e),e}class Dh{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Qo(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return TT(this.persistence,new wT,e.initialUser,this.serializer)}createPersistence(e){return new vT(Wl.jr,this.serializer)}createSharedClientState(e){return new RT}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class JT{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Oh(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=XT.bind(null,this.syncEngine),await zT(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new HT}()}createDatastore(e){const n=Qo(e.databaseInfo.databaseId),r=function(s){return new OT(s)}(e.databaseInfo);return function(s,o,a,u){return new MT(s,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new FT(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Oh(this.syncEngine,n,0),function(){return Ph.D()?new Ph:new CT}())}createSyncEngine(e,n){return function(i,s,o,a,u,l,c){const h=new WT(i,s,o,a,u,l);return c&&(h.Ca=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=Ie(n);B("RemoteStore","RemoteStore shutting down."),r.C_.add(5),await os(r),r.F_.shutdown(),r.M_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=it.UNAUTHENTICATED,this.clientId=Bp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{B("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(B("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new G(O.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Jn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=bm(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Ua(t,e){t.asyncQueue.verifyOperationInProgress(),B("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await gm(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function kh(t,e){t.asyncQueue.verifyOperationInProgress();const n=await tA(t);B("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>xh(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>xh(e.remoteStore,s)),t._onlineComponents=e}function eA(t){return t.name==="FirebaseError"?t.code===O.FAILED_PRECONDITION||t.code===O.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function tA(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){B("FirestoreClient","Using user provided OfflineComponentProvider");try{await Ua(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!eA(n))throw n;io("Error using user provided cache. Falling back to memory cache: "+n),await Ua(t,new Dh)}}else B("FirestoreClient","Using default OfflineComponentProvider"),await Ua(t,new Dh);return t._offlineComponents}async function nA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(B("FirestoreClient","Using user provided OnlineComponentProvider"),await kh(t,t._uninitializedComponentsProvider._online)):(B("FirestoreClient","Using default OnlineComponentProvider"),await kh(t,new JT))),t._onlineComponents}function rA(t){return nA(t).then(e=>e.syncEngine)}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Im(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mh=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sm(t,e,n){if(!n)throw new G(O.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function iA(t,e,n,r){if(e===!0&&r===!0)throw new G(O.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Nh(t){if(!re.isDocumentKey(t))throw new G(O.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Fh(t){if(re.isDocumentKey(t))throw new G(O.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Ql(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":oe()}function Rm(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new G(O.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ql(t);throw new G(O.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new G(O.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new G(O.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}iA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Im((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new G(O.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new G(O.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new G(O.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Zo{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Vh({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new G(O.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new G(O.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Vh(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Qw;switch(r.type){case"firstParty":return new Zw(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new G(O.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Mh.get(n);r&&(B("ComponentProvider","Removing Datastore"),Mh.delete(n),r.terminate())}(this),Promise.resolve()}}function sA(t,e,n,r={}){var i;const s=(t=Rm(t,Zo))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&io("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=it.MOCK_USER;else{a=Kv(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new G(O.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new it(l)}t._authCredentials=new Xw(new jp(a,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Xl(this.firestore,e,this._query)}}class hn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Sn(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new hn(this.firestore,e,this._key)}}class Sn extends Xl{constructor(e,n,r){super(e,n,Ib(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new hn(this.firestore,null,new re(e))}withConverter(e){return new Sn(this.firestore,e,this._path)}}function rC(t,e,...n){if(t=nr(t),Sm("collection","path",e),t instanceof Zo){const r=ke.fromString(e,...n);return Fh(r),new Sn(t,null,r)}{if(!(t instanceof hn||t instanceof Sn))throw new G(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ke.fromString(e,...n));return Fh(r),new Sn(t.firestore,null,r)}}function oA(t,e,...n){if(t=nr(t),arguments.length===1&&(e=Bp.newId()),Sm("doc","path",e),t instanceof Zo){const r=ke.fromString(e,...n);return Nh(r),new hn(t,null,new re(r))}{if(!(t instanceof hn||t instanceof Sn))throw new G(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ke.fromString(e,...n));return Nh(r),new hn(t.firestore,t instanceof Sn?t.converter:null,new re(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new ym(this,"async_queue_retry"),this.iu=()=>{const n=$a();n&&B("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=$a();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=$a();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new Jn;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}async _u(){if(this.Ya.length!==0){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(e){if(!qo(e))throw e;B("AsyncQueue","Operation failed with retryable error: "+e)}this.Ya.length>0&&this.zo.ko(()=>this._u())}}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{this.eu=r,this.tu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw ar("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(e,n,r){this.su(),this.ru.indexOf(e)>-1&&(n=0);const i=Kl.createAndSchedule(this,e,n,r,s=>this.au(s));return this.Xa.push(i),i}su(){this.eu&&oe()}verifyOperationInProgress(){}async uu(){let e;do e=this.Ja,await e;while(e!==this.Ja)}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}class Cm extends Zo{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new aA}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Pm(this),this._firestoreClient.terminate()}}function iC(t,e){const n=typeof t=="object"?t:fd(),r=typeof t=="string"?t:e||"(default)",i=Ki(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=Wv("firestore");s&&sA(i,...s)}return i}function uA(t){return t._firestoreClient||Pm(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Pm(t){var e,n,r;const i=t._freezeSettings(),s=function(a,u,l,c){return new fb(a,u,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,Im(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new ZT(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zi(pn.fromBase64String(e))}catch(n){throw new G(O.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new zi(pn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new G(O.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new et(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new G(O.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new G(O.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ee(this._lat,e._lat)||Ee(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA=/^__.*__$/;class cA{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new mr(e,this.data,this.fieldMask,n,this.fieldTransforms):new ss(e,this.data,n,this.fieldTransforms)}}function km(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw oe()}}class Yl{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new Yl(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Au(e),i}Ru(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Pu(),i}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return po(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(e.length===0)throw this.mu("Document fields must not be empty");if(km(this.Iu)&&lA.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class hA{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Qo(e)}pu(e,n,r,i=!1){return new Yl({Iu:e,methodName:n,gu:r,path:et.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function fA(t){const e=t._freezeSettings(),n=Qo(t._databaseId);return new hA(t._databaseId,!!e.ignoreUndefinedProperties,n)}function dA(t,e,n,r,i,s={}){const o=t.pu(s.merge||s.mergeFields?2:0,e,n,i);Vm("Data must be an object, but it was:",o,r);const a=Nm(r,o);let u,l;if(s.merge)u=new Lt(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const h of s.mergeFields){const f=pA(e,h,n);if(!o.contains(f))throw new G(O.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);yA(c,f)||c.push(f)}u=new Lt(c),l=o.fieldTransforms.filter(h=>u.covers(h.field))}else u=null,l=o.fieldTransforms;return new cA(new Vt(a),u,l)}function Mm(t,e){if(Fm(t=nr(t)))return Vm("Unsupported field value:",e,t),Nm(t,e);if(t instanceof Om)return function(r,i){if(!km(i.Iu))throw i.mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.du&&e.Iu!==4)throw e.mu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let u=Mm(a,i.Vu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=nr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Nb(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Ge.fromDate(r);return{timestampValue:Fu(i.serializer,s)}}if(r instanceof Ge){const s=new Ge(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Fu(i.serializer,s)}}if(r instanceof Dm)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof zi)return{bytesValue:Kb(i.serializer,r._byteString)};if(r instanceof hn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:pm(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.mu(`Unsupported field value: ${Ql(r)}`)}(t,e)}function Nm(t,e){const n={};return qp(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):is(t,(r,i)=>{const s=Mm(i,e.Eu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function Fm(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ge||t instanceof Dm||t instanceof zi||t instanceof hn||t instanceof Om)}function Vm(t,e,n){if(!Fm(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Ql(n);throw r==="an object"?e.mu(t+" a custom object"):e.mu(t+" "+r)}}function pA(t,e,n){if((e=nr(e))instanceof xm)return e._internalPath;if(typeof e=="string")return gA(t,e);throw po("Field path arguments must be of type string or ",t,!1,void 0,n)}const mA=new RegExp("[~\\*/\\[\\]]");function gA(t,e,n){if(e.search(mA)>=0)throw po(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new xm(...e.split("."))._internalPath}catch{throw po(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function po(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new G(O.INVALID_ARGUMENT,a+t+u)}function yA(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vA(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}function sC(t,e){const n=Rm(t.firestore,Cm),r=oA(t),i=vA(t.converter,e);return _A(n,[dA(fA(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,cn.exists(!1))]).then(()=>r)}function _A(t,e){return function(r,i){const s=new Jn;return r.asyncQueue.enqueueAndForget(async()=>GT(await rA(r),i,s)),s.promise}(uA(t),e)}(function(e,n=!0){(function(i){Yr=i})(e0),Rn(new fn("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Cm(new Yw(r.getProvider("auth-internal")),new tb(r.getProvider("app-check-internal")),function(l,c){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new G(O.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ao(l.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Zt(mh,"4.3.2",e),Zt(mh,"4.3.2","esm2017")})();function Lm(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=Lm(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function oC(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=Lm(t))&&(r&&(r+=" "),r+=e);return r}function aC(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}var mo=function(){return mo=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},mo.apply(this,arguments)};function EA(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function uC(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function ja(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function wA(t,e){var n=D.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var bA=typeof window<"u"?D.useLayoutEffect:D.useEffect,Lh=new WeakMap;function lC(t,e){var n=wA(e||null,function(r){return t.forEach(function(i){return ja(i,r)})});return bA(function(){var r=Lh.get(n);if(r){var i=new Set(r),s=new Set(t),o=n.current;i.forEach(function(a){s.has(a)||ja(a,null)}),s.forEach(function(a){i.has(a)||ja(a,o)})}Lh.set(n,t)},[t]),n}function TA(t){return t}function AA(t,e){e===void 0&&(e=TA);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var o=e(s,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(s),o=n}var u=function(){var c=o;o=[],c.forEach(s)},l=function(){return Promise.resolve().then(u)};l(),n={push:function(c){o.push(c),l()},filter:function(c){return o=o.filter(c),n}}}};return i}function cC(t){t===void 0&&(t={});var e=AA(null);return e.options=mo({async:!0,ssr:!1},t),e}var $m=function(t){var e=t.sideCar,n=EA(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return D.createElement(r,mo({},n))};$m.isSideCarExport=!0;function hC(t,e){return t.useMedium(e),$m}var $h,fC=function(){if($h)return $h;if(typeof __webpack_nonce__<"u")return __webpack_nonce__},IA=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Tr=new WeakMap,Rs=new WeakMap,Cs={},Ba=0,Um=function(t){return t&&(t.host||Um(t.parentNode))},SA=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=Um(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},RA=function(t,e,n,r){var i=SA(e,Array.isArray(t)?t:[t]);Cs[n]||(Cs[n]=new WeakMap);var s=Cs[n],o=[],a=new Set,u=new Set(i),l=function(h){!h||a.has(h)||(a.add(h),l(h.parentNode))};i.forEach(l);var c=function(h){!h||u.has(h)||Array.prototype.forEach.call(h.children,function(f){if(a.has(f))c(f);else try{var m=f.getAttribute(r),d=m!==null&&m!=="false",g=(Tr.get(f)||0)+1,p=(s.get(f)||0)+1;Tr.set(f,g),s.set(f,p),o.push(f),g===1&&d&&Rs.set(f,!0),p===1&&f.setAttribute(n,"true"),d||f.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",f,v)}})};return c(e),a.clear(),Ba++,function(){o.forEach(function(h){var f=Tr.get(h)-1,m=s.get(h)-1;Tr.set(h,f),s.set(h,m),f||(Rs.has(h)||h.removeAttribute(r),Rs.delete(h)),m||h.removeAttribute(n)}),Ba--,Ba||(Tr=new WeakMap,Tr=new WeakMap,Rs=new WeakMap,Cs={})}},dC=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=e||IA(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),RA(r,i,n,"aria-hidden")):function(){return null}};function On(t){"@babel/helpers - typeof";return On=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},On(t)}function CA(t,e){if(On(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(On(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function PA(t){var e=CA(t,"string");return On(e)=="symbol"?e:String(e)}function $t(t,e,n){return e=PA(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ft(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Uh(Object(n),!0).forEach(function(r){$t(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Uh(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lu(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xA(t){if(Array.isArray(t))return Lu(t)}function OA(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function jm(t,e){if(t){if(typeof t=="string")return Lu(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Lu(t,e)}}function DA(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wn(t){return xA(t)||OA(t)||jm(t)||DA()}function kA(t){if(Array.isArray(t))return t}function MA(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],u=!0,l=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return a}}function NA(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Et(t,e){return kA(t)||MA(t,e)||jm(t,e)||NA()}var Bm={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var r=[],i=0;i<arguments.length;i++){var s=arguments[i];if(s){var o=typeof s;if(o==="string"||o==="number")r.push(s);else if(Array.isArray(s)){if(s.length){var a=n.apply(null,s);a&&r.push(a)}}else if(o==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){r.push(s.toString());continue}for(var u in s)e.call(s,u)&&s[u]&&r.push(u)}}}return r.join(" ")}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(Bm);var FA=Bm.exports;const lr=Mf(FA);function jh(t){var e=D.useRef();e.current=t;var n=D.useCallback(function(){for(var r,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return(r=e.current)===null||r===void 0?void 0:r.call.apply(r,[e].concat(s))},[]);return n}function VA(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var Bh=VA()?D.useLayoutEffect:D.useEffect,LA=function(e,n){var r=D.useRef(!0);Bh(function(){return e(r.current)},n),Bh(function(){return r.current=!1,function(){r.current=!0}},[])},zh=function(e,n){LA(function(r){if(!r)return e()},n)};function Hh(t){var e=D.useRef(!1),n=D.useState(t),r=Et(n,2),i=r[0],s=r[1];D.useEffect(function(){return e.current=!1,function(){e.current=!0}},[]);function o(a,u){u&&e.current||s(a)}return[i,o]}function za(t){return t!==void 0}function $A(t,e){var n=e||{},r=n.defaultValue,i=n.value,s=n.onChange,o=n.postState,a=Hh(function(){return za(i)?i:za(r)?typeof r=="function"?r():r:typeof t=="function"?t():t}),u=Et(a,2),l=u[0],c=u[1],h=i!==void 0?i:l,f=o?o(h):h,m=jh(s),d=Hh([h]),g=Et(d,2),p=g[0],v=g[1];zh(function(){var I=p[0];l!==I&&m(l,I)},[p]),zh(function(){za(i)||c(i)},[i]);var _=jh(function(I,y){c(I,y),v([h],y)});return[f,_]}var $u={},UA=function(e){};function jA(t,e){}function BA(t,e){}function zA(){$u={}}function zm(t,e,n){!e&&!$u[n]&&(t(!1,n),$u[n]=!0)}function us(t,e){zm(jA,t,e)}function HA(t,e){zm(BA,t,e)}us.preMessage=UA;us.resetWarned=zA;us.noteOnce=HA;function qA(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=new Set;function i(s,o){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,u=r.has(s);if(us(!u,"Warning: There may be circular references"),u)return!1;if(s===o)return!0;if(n&&a>1)return!1;r.add(s);var l=a+1;if(Array.isArray(s)){if(!Array.isArray(o)||s.length!==o.length)return!1;for(var c=0;c<s.length;c++)if(!i(s[c],o[c],l))return!1;return!0}if(s&&o&&On(s)==="object"&&On(o)==="object"){var h=Object.keys(s);return h.length!==Object.keys(o).length?!1:h.every(function(f){return i(s[f],o[f],l)})}return!1}return i(t,e)}var gr=D.createContext({min:0,max:0,direction:"ltr",step:1,includedStart:0,includedEnd:0,tabIndex:0,keyboard:!0,styles:{},classNames:{}});function go(){return go=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},go.apply(this,arguments)}function WA(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Hm(t,e){if(t==null)return{};var n=WA(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}var N={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){var n=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||n>=N.F1&&n<=N.F12)return!1;switch(n){case N.ALT:case N.CAPS_LOCK:case N.CONTEXT_MENU:case N.CTRL:case N.DOWN:case N.END:case N.ESC:case N.HOME:case N.INSERT:case N.LEFT:case N.MAC_FF_META:case N.META:case N.NUMLOCK:case N.NUM_CENTER:case N.PAGE_DOWN:case N.PAGE_UP:case N.PAUSE:case N.PRINT_SCREEN:case N.RIGHT:case N.SHIFT:case N.UP:case N.WIN_KEY:case N.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=N.ZERO&&e<=N.NINE||e>=N.NUM_ZERO&&e<=N.NUM_MULTIPLY||e>=N.A&&e<=N.Z||window.navigator.userAgent.indexOf("WebKit")!==-1&&e===0)return!0;switch(e){case N.SPACE:case N.QUESTION_MARK:case N.NUM_PLUS:case N.NUM_MINUS:case N.NUM_PERIOD:case N.NUM_DIVISION:case N.SEMICOLON:case N.DASH:case N.EQUALS:case N.COMMA:case N.PERIOD:case N.SLASH:case N.APOSTROPHE:case N.SINGLE_QUOTE:case N.OPEN_SQUARE_BRACKET:case N.BACKSLASH:case N.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}};function Uu(t,e,n){return(t-e)/(n-e)}function Jl(t,e,n,r){var i=Uu(e,n,r),s={};switch(t){case"rtl":s.right="".concat(i*100,"%"),s.transform="translateX(50%)";break;case"btt":s.bottom="".concat(i*100,"%"),s.transform="translateY(50%)";break;case"ttb":s.top="".concat(i*100,"%"),s.transform="translateY(-50%)";break;default:s.left="".concat(i*100,"%"),s.transform="translateX(-50%)";break}return s}function xr(t,e){return Array.isArray(t)?t[e]:t}var GA=["prefixCls","value","valueIndex","onStartMove","style","render","dragging","onOffsetChange","onChangeComplete"],KA=D.forwardRef(function(t,e){var n,r,i=t.prefixCls,s=t.value,o=t.valueIndex,a=t.onStartMove,u=t.style,l=t.render,c=t.dragging,h=t.onOffsetChange,f=t.onChangeComplete,m=Hm(t,GA),d=D.useContext(gr),g=d.min,p=d.max,v=d.direction,_=d.disabled,I=d.keyboard,y=d.range,R=d.tabIndex,T=d.ariaLabelForHandle,A=d.ariaLabelledByForHandle,L=d.ariaValueTextFormatterForHandle,F=d.styles,W=d.classNames,U="".concat(i,"-handle"),z=function(S){_||a(S,o)},ie=function(S){if(!_&&I){var x=null;switch(S.which||S.keyCode){case N.LEFT:x=v==="ltr"||v==="btt"?-1:1;break;case N.RIGHT:x=v==="ltr"||v==="btt"?1:-1;break;case N.UP:x=v!=="ttb"?1:-1;break;case N.DOWN:x=v!=="ttb"?-1:1;break;case N.HOME:x="min";break;case N.END:x="max";break;case N.PAGE_UP:x=2;break;case N.PAGE_DOWN:x=-2;break}x!==null&&(S.preventDefault(),h(x,o))}},he=function(S){switch(S.which||S.keyCode){case N.LEFT:case N.RIGHT:case N.UP:case N.DOWN:case N.HOME:case N.END:case N.PAGE_UP:case N.PAGE_DOWN:f==null||f();break}},pe=Jl(v,s,g,p),ee=D.createElement("div",go({ref:e,className:lr(U,(n={},$t(n,"".concat(U,"-").concat(o+1),y),$t(n,"".concat(U,"-dragging"),c),n),W.handle),style:ft(ft(ft({},pe),u),F.handle),onMouseDown:z,onTouchStart:z,onKeyDown:ie,onKeyUp:he,tabIndex:_?null:xr(R,o),role:"slider","aria-valuemin":g,"aria-valuemax":p,"aria-valuenow":s,"aria-disabled":_,"aria-label":xr(T,o),"aria-labelledby":xr(A,o),"aria-valuetext":(r=xr(L,o))===null||r===void 0?void 0:r(s),"aria-orientation":v==="ltr"||v==="rtl"?"horizontal":"vertical"},m));return l&&(ee=l(ee,{index:o,prefixCls:i,value:s,dragging:c})),ee}),QA=["prefixCls","style","onStartMove","onOffsetChange","values","handleRender","draggingIndex"],XA=D.forwardRef(function(t,e){var n=t.prefixCls,r=t.style,i=t.onStartMove,s=t.onOffsetChange,o=t.values,a=t.handleRender,u=t.draggingIndex,l=Hm(t,QA),c=D.useRef({});return D.useImperativeHandle(e,function(){return{focus:function(f){var m;(m=c.current[f])===null||m===void 0||m.focus()}}}),D.createElement(D.Fragment,null,o.map(function(h,f){return D.createElement(KA,go({ref:function(d){d?c.current[f]=d:delete c.current[f]},dragging:u===f,prefixCls:n,style:xr(r,f),key:f,value:h,valueIndex:f,onStartMove:i,onOffsetChange:s,render:a},l))}))});function qh(t){var e="touches"in t?t.touches[0]:t;return{pageX:e.pageX,pageY:e.pageY}}function YA(t,e,n,r,i,s,o,a,u){var l=D.useState(null),c=Et(l,2),h=c[0],f=c[1],m=D.useState(-1),d=Et(m,2),g=d[0],p=d[1],v=D.useState(n),_=Et(v,2),I=_[0],y=_[1],R=D.useState(n),T=Et(R,2),A=T[0],L=T[1],F=D.useRef(null),W=D.useRef(null);D.useEffect(function(){g===-1&&y(n)},[n,g]),D.useEffect(function(){return function(){document.removeEventListener("mousemove",F.current),document.removeEventListener("mouseup",W.current),document.removeEventListener("touchmove",F.current),document.removeEventListener("touchend",W.current)}},[]);var U=function(Z,S){I.some(function(x,V){return x!==Z[V]})&&(S!==void 0&&f(S),y(Z),o(Z))},z=function(Z,S){if(Z===-1){var x=A[0],V=A[A.length-1],Q=r-x,J=i-V,be=S*(i-r);be=Math.max(be,Q),be=Math.min(be,J);var te=s(x+be);be=te-x;var ve=A.map(function(Be){return Be+be});U(ve)}else{var Se=(i-r)*S,Ve=wn(I);Ve[Z]=A[Z];var Pe=u(Ve,Se,Z,"dist");U(Pe.values,Pe.value)}},ie=D.useRef(z);ie.current=z;var he=function(Z,S,x){Z.stopPropagation();var V=x||n,Q=V[S];p(S),f(Q),L(V);var J=qh(Z),be=J.pageX,te=J.pageY,ve=function(Pe){Pe.preventDefault();var Be=qh(Pe),nn=Be.pageX,xt=Be.pageY,nt=nn-be,Nn=xt-te,Fn=t.current.getBoundingClientRect(),Ot=Fn.width,mn=Fn.height,ct;switch(e){case"btt":ct=-Nn/mn;break;case"ttb":ct=Nn/mn;break;case"rtl":ct=-nt/Ot;break;default:ct=nt/Ot}ie.current(S,ct)},Se=function Ve(Pe){Pe.preventDefault(),document.removeEventListener("mouseup",Ve),document.removeEventListener("mousemove",ve),document.removeEventListener("touchend",Ve),document.removeEventListener("touchmove",ve),F.current=null,W.current=null,p(-1),a()};document.addEventListener("mouseup",Se),document.addEventListener("mousemove",ve),document.addEventListener("touchend",Se),document.addEventListener("touchmove",ve),F.current=ve,W.current=Se},pe=D.useMemo(function(){var ee=wn(n).sort(function(S,x){return S-x}),Z=wn(I).sort(function(S,x){return S-x});return ee.every(function(S,x){return S===Z[x]})?I:n},[n,I]);return[g,h,pe,he]}function JA(t,e,n,r,i,s){var o=D.useCallback(function(m){var d=isFinite(m)?m:t;return d=Math.min(e,m),d=Math.max(t,d),d},[t,e]),a=D.useCallback(function(m){if(n!==null){var d=t+Math.round((o(m)-t)/n)*n,g=function(I){return(String(I).split(".")[1]||"").length},p=Math.max(g(n),g(e),g(t)),v=Number(d.toFixed(p));return t<=v&&v<=e?v:null}return null},[n,t,e,o]),u=D.useCallback(function(m){var d=o(m),g=r.map(function(_){return _.value});n!==null&&g.push(a(m)),g.push(t,e);var p=g[0],v=e-t;return g.forEach(function(_){var I=Math.abs(d-_);I<=v&&(p=_,v=I)}),p},[t,e,r,n,o,a]),l=function m(d,g,p){var v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit";if(typeof g=="number"){var _,I=d[p],y=I+g,R=[];r.forEach(function(W){R.push(W.value)}),R.push(t,e),R.push(a(I));var T=g>0?1:-1;v==="unit"?R.push(a(I+T*n)):R.push(a(y)),R=R.filter(function(W){return W!==null}).filter(function(W){return g<0?W<=I:W>=I}),v==="unit"&&(R=R.filter(function(W){return W!==I}));var A=v==="unit"?I:y;_=R[0];var L=Math.abs(_-A);if(R.forEach(function(W){var U=Math.abs(W-A);U<L&&(_=W,L=U)}),_===void 0)return g<0?t:e;if(v==="dist")return _;if(Math.abs(g)>1){var F=wn(d);return F[p]=_,m(F,g-T,p,v)}return _}else{if(g==="min")return t;if(g==="max")return e}},c=function(d,g,p){var v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",_=d[p],I=l(d,g,p,v);return{value:I,changed:I!==_}},h=function(d){return s===null&&d===0||typeof s=="number"&&d<s},f=function(d,g,p){var v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",_=d.map(u),I=_[p],y=l(_,g,p,v);if(_[p]=y,i===!1){var R=s||0;p>0&&_[p-1]!==I&&(_[p]=Math.max(_[p],_[p-1]+R)),p<_.length-1&&_[p+1]!==I&&(_[p]=Math.min(_[p],_[p+1]-R))}else if(typeof s=="number"||s===null){for(var T=p+1;T<_.length;T+=1)for(var A=!0;h(_[T]-_[T-1])&&A;){var L=c(_,1,T);_[T]=L.value,A=L.changed}for(var F=p;F>0;F-=1)for(var W=!0;h(_[F]-_[F-1])&&W;){var U=c(_,-1,F-1);_[F-1]=U.value,W=U.changed}for(var z=_.length-1;z>0;z-=1)for(var ie=!0;h(_[z]-_[z-1])&&ie;){var he=c(_,-1,z-1);_[z-1]=he.value,ie=he.changed}for(var pe=0;pe<_.length-1;pe+=1)for(var ee=!0;h(_[pe+1]-_[pe])&&ee;){var Z=c(_,1,pe+1);_[pe+1]=Z.value,ee=Z.changed}}return{value:_[p],values:_}};return[u,f]}function ZA(t){var e=t.prefixCls,n=t.style,r=t.children,i=t.value,s=t.onClick,o=D.useContext(gr),a=o.min,u=o.max,l=o.direction,c=o.includedStart,h=o.includedEnd,f=o.included,m="".concat(e,"-text"),d=Jl(l,i,a,u);return D.createElement("span",{className:lr(m,$t({},"".concat(m,"-active"),f&&c<=i&&i<=h)),style:ft(ft({},d),n),onMouseDown:function(p){p.stopPropagation()},onClick:function(){s(i)}},r)}function eI(t){var e=t.prefixCls,n=t.marks,r=t.onClick,i="".concat(e,"-mark");return n.length?D.createElement("div",{className:i},n.map(function(s){var o=s.value,a=s.style,u=s.label;return D.createElement(ZA,{key:o,prefixCls:i,style:a,value:o,onClick:r},u)})):null}function tI(t){var e=t.prefixCls,n=t.value,r=t.style,i=t.activeStyle,s=D.useContext(gr),o=s.min,a=s.max,u=s.direction,l=s.included,c=s.includedStart,h=s.includedEnd,f="".concat(e,"-dot"),m=l&&c<=n&&n<=h,d=ft(ft({},Jl(u,n,o,a)),typeof r=="function"?r(n):r);return m&&(d=ft(ft({},d),typeof i=="function"?i(n):i)),D.createElement("span",{className:lr(f,$t({},"".concat(f,"-active"),m)),style:d})}function nI(t){var e=t.prefixCls,n=t.marks,r=t.dots,i=t.style,s=t.activeStyle,o=D.useContext(gr),a=o.min,u=o.max,l=o.step,c=D.useMemo(function(){var h=new Set;if(n.forEach(function(m){h.add(m.value)}),r&&l!==null)for(var f=a;f<=u;)h.add(f),f+=l;return Array.from(h)},[a,u,l,r,n]);return D.createElement("div",{className:"".concat(e,"-step")},c.map(function(h){return D.createElement(tI,{prefixCls:e,key:h,value:h,style:i,activeStyle:s})}))}function Wh(t){var e,n=t.prefixCls,r=t.style,i=t.start,s=t.end,o=t.index,a=t.onStartMove,u=t.replaceCls,l=D.useContext(gr),c=l.direction,h=l.min,f=l.max,m=l.disabled,d=l.range,g=l.classNames,p="".concat(n,"-track"),v=Uu(i,h,f),_=Uu(s,h,f),I=function(A){!m&&a&&a(A,-1)},y={};switch(c){case"rtl":y.right="".concat(v*100,"%"),y.width="".concat(_*100-v*100,"%");break;case"btt":y.bottom="".concat(v*100,"%"),y.height="".concat(_*100-v*100,"%");break;case"ttb":y.top="".concat(v*100,"%"),y.height="".concat(_*100-v*100,"%");break;default:y.left="".concat(v*100,"%"),y.width="".concat(_*100-v*100,"%")}var R=u||lr(p,(e={},$t(e,"".concat(p,"-").concat(o+1),o!==null&&d),$t(e,"".concat(n,"-track-draggable"),a),e),g.track);return D.createElement("div",{className:R,style:ft(ft({},y),r),onMouseDown:I,onTouchStart:I})}function rI(t){var e=t.prefixCls,n=t.style,r=t.values,i=t.startPoint,s=t.onStartMove,o=D.useContext(gr),a=o.included,u=o.range,l=o.min,c=o.styles,h=o.classNames,f=D.useMemo(function(){if(!u){if(r.length===0)return[];var d=i??l,g=r[0];return[{start:Math.min(d,g),end:Math.max(d,g)}]}for(var p=[],v=0;v<r.length-1;v+=1)p.push({start:r[v],end:r[v+1]});return p},[r,u,i,l]),m=null;return(h.tracks||c.tracks)&&(m=D.createElement(Wh,{index:null,prefixCls:e,start:f[0].start,end:f[f.length-1].end,replaceCls:lr(h.tracks,"".concat(e,"-tracks")),style:c.tracks})),a?D.createElement(D.Fragment,null,m,f.map(function(d,g){var p=d.start,v=d.end;return D.createElement(Wh,{index:g,prefixCls:e,style:ft(ft({},xr(n,g)),c.track),start:p,end:v,key:g,onStartMove:s})})):null}var pC=D.forwardRef(function(t,e){var n,r=t.prefixCls,i=r===void 0?"rc-slider":r,s=t.className,o=t.style,a=t.classNames,u=t.styles,l=t.disabled,c=l===void 0?!1:l,h=t.keyboard,f=h===void 0?!0:h,m=t.autoFocus,d=t.onFocus,g=t.onBlur,p=t.min,v=p===void 0?0:p,_=t.max,I=_===void 0?100:_,y=t.step,R=y===void 0?1:y,T=t.value,A=t.defaultValue,L=t.range,F=t.count,W=t.onChange,U=t.onBeforeChange,z=t.onAfterChange,ie=t.onChangeComplete,he=t.allowCross,pe=he===void 0?!0:he,ee=t.pushable,Z=ee===void 0?!1:ee,S=t.draggableTrack,x=t.reverse,V=t.vertical,Q=t.included,J=Q===void 0?!0:Q,be=t.startPoint,te=t.trackStyle,ve=t.handleStyle,Se=t.railStyle,Ve=t.dotStyle,Pe=t.activeDotStyle,Be=t.marks,nn=t.dots,xt=t.handleRender,nt=t.tabIndex,Nn=nt===void 0?0:nt,Fn=t.ariaLabelForHandle,Ot=t.ariaLabelledByForHandle,mn=t.ariaValueTextFormatterForHandle,ct=D.useRef(),rn=D.useRef(),gn=D.useMemo(function(){return V?x?"ttb":"btt":x?"rtl":"ltr"},[x,V]),Ne=D.useMemo(function(){return isFinite(v)?v:0},[v]),sn=D.useMemo(function(){return isFinite(I)?I:100},[I]),Ht=D.useMemo(function(){return R!==null&&R<=0?1:R},[R]),ps=D.useMemo(function(){return typeof Z=="boolean"?Z?Ht:!1:Z>=0?Z:!1},[Z,Ht]),yr=D.useMemo(function(){var ge=Object.keys(Be||{});return ge.map(function(ue){var $=Be[ue],Ce={value:Number(ue)};return $&&On($)==="object"&&!D.isValidElement($)&&("label"in $||"style"in $)?(Ce.style=$.style,Ce.label=$.label):Ce.label=$,Ce}).filter(function(ue){var $=ue.label;return $||typeof $=="number"}).sort(function(ue,$){return ue.value-$.value})},[Be]),ms=JA(Ne,sn,Ht,yr,pe,ps),Vn=Et(ms,2),Ln=Vn[0],vr=Vn[1],da=$A(A,{value:T}),ti=Et(da,2),qt=ti[0],gs=ti[1],Tt=D.useMemo(function(){var ge=qt==null?[]:Array.isArray(qt)?qt:[qt],ue=Et(ge,1),$=ue[0],Ce=$===void 0?Ne:$,De=qt===null?[]:[Ce];if(L){if(De=wn(ge),F||qt===void 0){var St=F>=0?F+1:2;for(De=De.slice(0,St);De.length<St;){var Un;De.push((Un=De[De.length-1])!==null&&Un!==void 0?Un:Ne)}}De.sort(function(jn,yn){return jn-yn})}return De.forEach(function(jn,yn){De[yn]=Ln(jn)}),De},[qt,L,Ne,F,Ln]),E=D.useRef(Tt);E.current=Tt;var b=function(ue){return L?ue:ue[0]},C=function(ue){var $=wn(ue).sort(function(Ce,De){return Ce-De});W&&!qA($,E.current,!0)&&W(b($)),gs($)},M=function(){z==null||z(b(E.current)),us(!z,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),ie==null||ie(b(E.current))},K=YA(rn,gn,Tt,Ne,sn,Ln,C,M,vr),q=Et(K,4),X=q[0],H=q[1],j=q[2],_e=q[3],je=function(ue,$){if(!c){var Ce=0,De=sn-Ne;Tt.forEach(function(Un,jn){var yn=Math.abs(ue-Un);yn<=De&&(De=yn,Ce=jn)});var St=wn(Tt);St[Ce]=ue,L&&!Tt.length&&F===void 0&&St.push(ue),U==null||U(b(St)),C(St),$&&_e($,Ce,St)}},ae=function(ue){ue.preventDefault();var $=rn.current.getBoundingClientRect(),Ce=$.width,De=$.height,St=$.left,Un=$.top,jn=$.bottom,yn=$.right,fc=ue.clientX,dc=ue.clientY,ii;switch(gn){case"btt":ii=(jn-dc)/De;break;case"ttb":ii=(dc-Un)/De;break;case"rtl":ii=(yn-fc)/Ce;break;default:ii=(fc-St)/Ce}var Qg=Ne+ii*(sn-Ne);je(Ln(Qg),ue)},me=D.useState(null),Re=Et(me,2),Dt=Re[0],Wt=Re[1],$n=function(ue,$){if(!c){var Ce=vr(Tt,ue,$);U==null||U(b(Tt)),C(Ce.values),Wt(Ce.value)}};D.useEffect(function(){if(Dt!==null){var ge=Tt.indexOf(Dt);ge>=0&&ct.current.focus(ge)}Wt(null)},[Dt]);var ni=D.useMemo(function(){return S&&Ht===null?!1:S},[S,Ht]),At=function(ue,$){_e(ue,$),U==null||U(b(E.current))},It=X!==-1;D.useEffect(function(){if(!It){var ge=Tt.lastIndexOf(H);ct.current.focus(ge)}},[It]);var kt=D.useMemo(function(){return wn(j).sort(function(ge,ue){return ge-ue})},[j]),ri=D.useMemo(function(){return L?[kt[0],kt[kt.length-1]]:[Ne,kt[0]]},[kt,L,Ne]),_r=Et(ri,2),Er=_r[0],fe=_r[1];D.useImperativeHandle(e,function(){return{focus:function(){ct.current.focus(0)},blur:function(){var ue=document,$=ue.activeElement;rn.current.contains($)&&($==null||$.blur())}}}),D.useEffect(function(){m&&ct.current.focus(0)},[]);var _t=D.useMemo(function(){return{min:Ne,max:sn,direction:gn,disabled:c,keyboard:f,step:Ht,included:J,includedStart:Er,includedEnd:fe,range:L,tabIndex:Nn,ariaLabelForHandle:Fn,ariaLabelledByForHandle:Ot,ariaValueTextFormatterForHandle:mn,styles:u||{},classNames:a||{}}},[Ne,sn,gn,c,f,Ht,J,Er,fe,L,Nn,Fn,Ot,mn,u,a]);return D.createElement(gr.Provider,{value:_t},D.createElement("div",{ref:rn,className:lr(i,s,(n={},$t(n,"".concat(i,"-disabled"),c),$t(n,"".concat(i,"-vertical"),V),$t(n,"".concat(i,"-horizontal"),!V),$t(n,"".concat(i,"-with-marks"),yr.length),n)),style:o,onMouseDown:ae},D.createElement("div",{className:lr("".concat(i,"-rail"),a==null?void 0:a.rail),style:ft(ft({},Se),u==null?void 0:u.rail)}),D.createElement(rI,{prefixCls:i,style:te,values:kt,startPoint:be,onStartMove:ni?At:null}),D.createElement(nI,{prefixCls:i,marks:yr,dots:nn,style:Ve,activeStyle:Pe}),D.createElement(XA,{ref:ct,prefixCls:i,style:ve,values:j,draggingIndex:X,onStartMove:At,onOffsetChange:$n,onFocus:d,onBlur:g,handleRender:xt,onChangeComplete:M}),D.createElement(eI,{prefixCls:i,marks:yr,onClick:je})))});var mt=function(){return mt=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},mt.apply(this,arguments)};function Hi(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var Te="-ms-",Si="-moz-",de="-webkit-",qm="comm",ea="rule",Zl="decl",iI="@import",Wm="@keyframes",sI="@layer",Gm=Math.abs,ec=String.fromCharCode,ju=Object.assign;function oI(t,e){return qe(t,0)^45?(((e<<2^qe(t,0))<<2^qe(t,1))<<2^qe(t,2))<<2^qe(t,3):0}function Km(t){return t.trim()}function an(t,e){return(t=e.exec(t))?t[0]:t}function ne(t,e,n){return t.replace(e,n)}function Ns(t,e,n){return t.indexOf(e,n)}function qe(t,e){return t.charCodeAt(e)|0}function Br(t,e,n){return t.slice(e,n)}function Qt(t){return t.length}function Qm(t){return t.length}function yi(t,e){return e.push(t),t}function aI(t,e){return t.map(e).join("")}function Gh(t,e){return t.filter(function(n){return!an(n,e)})}var ta=1,zr=1,Xm=0,Pt=0,$e=0,Zr="";function na(t,e,n,r,i,s,o,a){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:ta,column:zr,length:o,return:"",siblings:a}}function _n(t,e){return ju(na("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function Ar(t){for(;t.root;)t=_n(t.root,{children:[t]});yi(t,t.siblings)}function uI(){return $e}function lI(){return $e=Pt>0?qe(Zr,--Pt):0,zr--,$e===10&&(zr=1,ta--),$e}function Ut(){return $e=Pt<Xm?qe(Zr,Pt++):0,zr++,$e===10&&(zr=1,ta++),$e}function er(){return qe(Zr,Pt)}function Fs(){return Pt}function ra(t,e){return Br(Zr,t,e)}function Bu(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function cI(t){return ta=zr=1,Xm=Qt(Zr=t),Pt=0,[]}function hI(t){return Zr="",t}function Ha(t){return Km(ra(Pt-1,zu(t===91?t+2:t===40?t+1:t)))}function fI(t){for(;($e=er())&&$e<33;)Ut();return Bu(t)>2||Bu($e)>3?"":" "}function dI(t,e){for(;--e&&Ut()&&!($e<48||$e>102||$e>57&&$e<65||$e>70&&$e<97););return ra(t,Fs()+(e<6&&er()==32&&Ut()==32))}function zu(t){for(;Ut();)switch($e){case t:return Pt;case 34:case 39:t!==34&&t!==39&&zu($e);break;case 40:t===41&&zu(t);break;case 92:Ut();break}return Pt}function pI(t,e){for(;Ut()&&t+$e!==47+10;)if(t+$e===42+42&&er()===47)break;return"/*"+ra(e,Pt-1)+"*"+ec(t===47?t:Ut())}function mI(t){for(;!Bu(er());)Ut();return ra(t,Pt)}function gI(t){return hI(Vs("",null,null,null,[""],t=cI(t),0,[0],t))}function Vs(t,e,n,r,i,s,o,a,u){for(var l=0,c=0,h=o,f=0,m=0,d=0,g=1,p=1,v=1,_=0,I="",y=i,R=s,T=r,A=I;p;)switch(d=_,_=Ut()){case 40:if(d!=108&&qe(A,h-1)==58){Ns(A+=ne(Ha(_),"&","&\f"),"&\f",Gm(l?a[l-1]:0))!=-1&&(v=-1);break}case 34:case 39:case 91:A+=Ha(_);break;case 9:case 10:case 13:case 32:A+=fI(d);break;case 92:A+=dI(Fs()-1,7);continue;case 47:switch(er()){case 42:case 47:yi(yI(pI(Ut(),Fs()),e,n,u),u);break;default:A+="/"}break;case 123*g:a[l++]=Qt(A)*v;case 125*g:case 59:case 0:switch(_){case 0:case 125:p=0;case 59+c:v==-1&&(A=ne(A,/\f/g,"")),m>0&&Qt(A)-h&&yi(m>32?Qh(A+";",r,n,h-1,u):Qh(ne(A," ","")+";",r,n,h-2,u),u);break;case 59:A+=";";default:if(yi(T=Kh(A,e,n,l,c,i,a,I,y=[],R=[],h,s),s),_===123)if(c===0)Vs(A,e,T,T,y,s,h,a,R);else switch(f===99&&qe(A,3)===110?100:f){case 100:case 108:case 109:case 115:Vs(t,T,T,r&&yi(Kh(t,T,T,0,0,i,a,I,i,y=[],h,R),R),i,R,h,a,r?y:R);break;default:Vs(A,T,T,T,[""],R,0,a,R)}}l=c=m=0,g=v=1,I=A="",h=o;break;case 58:h=1+Qt(A),m=d;default:if(g<1){if(_==123)--g;else if(_==125&&g++==0&&lI()==125)continue}switch(A+=ec(_),_*g){case 38:v=c>0?1:(A+="\f",-1);break;case 44:a[l++]=(Qt(A)-1)*v,v=1;break;case 64:er()===45&&(A+=Ha(Ut())),f=er(),c=h=Qt(I=A+=mI(Fs())),_++;break;case 45:d===45&&Qt(A)==2&&(g=0)}}return s}function Kh(t,e,n,r,i,s,o,a,u,l,c,h){for(var f=i-1,m=i===0?s:[""],d=Qm(m),g=0,p=0,v=0;g<r;++g)for(var _=0,I=Br(t,f+1,f=Gm(p=o[g])),y=t;_<d;++_)(y=Km(p>0?m[_]+" "+I:ne(I,/&\f/g,m[_])))&&(u[v++]=y);return na(t,e,n,i===0?ea:a,u,l,c,h)}function yI(t,e,n,r){return na(t,e,n,qm,ec(uI()),Br(t,2,-2),0,r)}function Qh(t,e,n,r,i){return na(t,e,n,Zl,Br(t,0,r),Br(t,r+1,-1),r,i)}function Ym(t,e,n){switch(oI(t,e)){case 5103:return de+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return de+t+t;case 4789:return Si+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return de+t+Si+t+Te+t+t;case 5936:switch(qe(t,e+11)){case 114:return de+t+Te+ne(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return de+t+Te+ne(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return de+t+Te+ne(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return de+t+Te+t+t;case 6165:return de+t+Te+"flex-"+t+t;case 5187:return de+t+ne(t,/(\w+).+(:[^]+)/,de+"box-$1$2"+Te+"flex-$1$2")+t;case 5443:return de+t+Te+"flex-item-"+ne(t,/flex-|-self/g,"")+(an(t,/flex-|baseline/)?"":Te+"grid-row-"+ne(t,/flex-|-self/g,""))+t;case 4675:return de+t+Te+"flex-line-pack"+ne(t,/align-content|flex-|-self/g,"")+t;case 5548:return de+t+Te+ne(t,"shrink","negative")+t;case 5292:return de+t+Te+ne(t,"basis","preferred-size")+t;case 6060:return de+"box-"+ne(t,"-grow","")+de+t+Te+ne(t,"grow","positive")+t;case 4554:return de+ne(t,/([^-])(transform)/g,"$1"+de+"$2")+t;case 6187:return ne(ne(ne(t,/(zoom-|grab)/,de+"$1"),/(image-set)/,de+"$1"),t,"")+t;case 5495:case 3959:return ne(t,/(image-set\([^]*)/,de+"$1$`$1");case 4968:return ne(ne(t,/(.+:)(flex-)?(.*)/,de+"box-pack:$3"+Te+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+de+t+t;case 4200:if(!an(t,/flex-|baseline/))return Te+"grid-column-align"+Br(t,e)+t;break;case 2592:case 3360:return Te+ne(t,"template-","")+t;case 4384:case 3616:return n&&n.some(function(r,i){return e=i,an(r.props,/grid-\w+-end/)})?~Ns(t+(n=n[e].value),"span",0)?t:Te+ne(t,"-start","")+t+Te+"grid-row-span:"+(~Ns(n,"span",0)?an(n,/\d+/):+an(n,/\d+/)-+an(t,/\d+/))+";":Te+ne(t,"-start","")+t;case 4896:case 4128:return n&&n.some(function(r){return an(r.props,/grid-\w+-start/)})?t:Te+ne(ne(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return ne(t,/(.+)-inline(.+)/,de+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Qt(t)-1-e>6)switch(qe(t,e+1)){case 109:if(qe(t,e+4)!==45)break;case 102:return ne(t,/(.+:)(.+)-([^]+)/,"$1"+de+"$2-$3$1"+Si+(qe(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Ns(t,"stretch",0)?Ym(ne(t,"stretch","fill-available"),e,n)+t:t}break;case 5152:case 5920:return ne(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,i,s,o,a,u,l){return Te+i+":"+s+l+(o?Te+i+"-span:"+(a?u:+u-+s)+l:"")+t});case 4949:if(qe(t,e+6)===121)return ne(t,":",":"+de)+t;break;case 6444:switch(qe(t,qe(t,14)===45?18:11)){case 120:return ne(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+de+(qe(t,14)===45?"inline-":"")+"box$3$1"+de+"$2$3$1"+Te+"$2box$3")+t;case 100:return ne(t,":",":"+Te)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return ne(t,"scroll-","scroll-snap-")+t}return t}function yo(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function vI(t,e,n,r){switch(t.type){case sI:if(t.children.length)break;case iI:case Zl:return t.return=t.return||t.value;case qm:return"";case Wm:return t.return=t.value+"{"+yo(t.children,r)+"}";case ea:if(!Qt(t.value=t.props.join(",")))return""}return Qt(n=yo(t.children,r))?t.return=t.value+"{"+n+"}":""}function _I(t){var e=Qm(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function EI(t){return function(e){e.root||(e=e.return)&&t(e)}}function wI(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case Zl:t.return=Ym(t.value,t.length,n);return;case Wm:return yo([_n(t,{value:ne(t.value,"@","@"+de)})],r);case ea:if(t.length)return aI(n=t.props,function(i){switch(an(i,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Ar(_n(t,{props:[ne(i,/:(read-\w+)/,":"+Si+"$1")]})),Ar(_n(t,{props:[i]})),ju(t,{props:Gh(n,r)});break;case"::placeholder":Ar(_n(t,{props:[ne(i,/:(plac\w+)/,":"+de+"input-$1")]})),Ar(_n(t,{props:[ne(i,/:(plac\w+)/,":"+Si+"$1")]})),Ar(_n(t,{props:[ne(i,/:(plac\w+)/,Te+"input-$1")]})),Ar(_n(t,{props:[i]})),ju(t,{props:Gh(n,r)});break}return""})}}var bI={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Hr=typeof process<"u"&&process.env!==void 0&&({}.REACT_APP_SC_ATTR||{}.SC_ATTR)||"data-styled",Jm="active",Zm="data-styled-version",ia="6.1.6",tc=`/*!sc*/
`,nc=typeof window<"u"&&"HTMLElement"in window,TI=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&process.env!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==""?{}.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&{}.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&process.env!==void 0&&{}.SC_DISABLE_SPEEDY!==void 0&&{}.SC_DISABLE_SPEEDY!==""&&{}.SC_DISABLE_SPEEDY!=="false"&&{}.SC_DISABLE_SPEEDY),sa=Object.freeze([]),qr=Object.freeze({});function AI(t,e,n){return n===void 0&&(n=qr),t.theme!==n.theme&&t.theme||e||n.theme}var eg=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),II=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,SI=/(^-|-$)/g;function Xh(t){return t.replace(II,"-").replace(SI,"")}var RI=/(a)(d)/gi,Ps=52,Yh=function(t){return String.fromCharCode(t+(t>25?39:97))};function Hu(t){var e,n="";for(e=Math.abs(t);e>Ps;e=e/Ps|0)n=Yh(e%Ps)+n;return(Yh(e%Ps)+n).replace(RI,"$1-$2")}var qa,tg=5381,Or=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},ng=function(t){return Or(tg,t)};function rg(t){return Hu(ng(t)>>>0)}function CI(t){return t.displayName||t.name||"Component"}function Wa(t){return typeof t=="string"&&!0}var ig=typeof Symbol=="function"&&Symbol.for,sg=ig?Symbol.for("react.memo"):60115,PI=ig?Symbol.for("react.forward_ref"):60112,xI={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},OI={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},og={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},DI=((qa={})[PI]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},qa[sg]=og,qa);function Jh(t){return("type"in(e=t)&&e.type.$$typeof)===sg?og:"$$typeof"in t?DI[t.$$typeof]:xI;var e}var kI=Object.defineProperty,MI=Object.getOwnPropertyNames,Zh=Object.getOwnPropertySymbols,NI=Object.getOwnPropertyDescriptor,FI=Object.getPrototypeOf,ef=Object.prototype;function ag(t,e,n){if(typeof e!="string"){if(ef){var r=FI(e);r&&r!==ef&&ag(t,r,n)}var i=MI(e);Zh&&(i=i.concat(Zh(e)));for(var s=Jh(t),o=Jh(e),a=0;a<i.length;++a){var u=i[a];if(!(u in OI||n&&n[u]||o&&u in o||s&&u in s)){var l=NI(e,u);try{kI(t,u,l)}catch{}}}}return t}function Wr(t){return typeof t=="function"}function rc(t){return typeof t=="object"&&"styledComponentId"in t}function Kn(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function qu(t,e){if(t.length===0)return"";for(var n=t[0],r=1;r<t.length;r++)n+=e?e+t[r]:t[r];return n}function qi(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function Wu(t,e,n){if(n===void 0&&(n=!1),!n&&!qi(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)t[r]=Wu(t[r],e[r]);else if(qi(e))for(var r in e)t[r]=Wu(t[r],e[r]);return t}function ic(t,e){Object.defineProperty(t,"toString",{value:e})}function ls(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var VI=function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var n=0,r=0;r<e;r++)n+=this.groupSizes[r];return n},t.prototype.insertRules=function(e,n){if(e>=this.groupSizes.length){for(var r=this.groupSizes,i=r.length,s=i;e>=s;)if((s<<=1)<0)throw ls(16,"".concat(e));this.groupSizes=new Uint32Array(s),this.groupSizes.set(r),this.length=s;for(var o=i;o<s;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(e+1),u=(o=0,n.length);o<u;o++)this.tag.insertRule(a,n[o])&&(this.groupSizes[e]++,a++)},t.prototype.clearGroup=function(e){if(e<this.length){var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n;this.groupSizes[e]=0;for(var s=r;s<i;s++)this.tag.deleteRule(r)}},t.prototype.getGroup=function(e){var n="";if(e>=this.length||this.groupSizes[e]===0)return n;for(var r=this.groupSizes[e],i=this.indexOfGroup(e),s=i+r,o=i;o<s;o++)n+="".concat(this.tag.getRule(o)).concat(tc);return n},t}(),Ls=new Map,vo=new Map,$s=1,xs=function(t){if(Ls.has(t))return Ls.get(t);for(;vo.has($s);)$s++;var e=$s++;return Ls.set(t,e),vo.set(e,t),e},LI=function(t,e){$s=e+1,Ls.set(t,e),vo.set(e,t)},$I="style[".concat(Hr,"][").concat(Zm,'="').concat(ia,'"]'),UI=new RegExp("^".concat(Hr,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),jI=function(t,e,n){for(var r,i=n.split(","),s=0,o=i.length;s<o;s++)(r=i[s])&&t.registerName(e,r)},BI=function(t,e){for(var n,r=((n=e.textContent)!==null&&n!==void 0?n:"").split(tc),i=[],s=0,o=r.length;s<o;s++){var a=r[s].trim();if(a){var u=a.match(UI);if(u){var l=0|parseInt(u[1],10),c=u[2];l!==0&&(LI(c,l),jI(t,c,u[3]),t.getTag().insertRules(l,i)),i.length=0}else i.push(a)}}};function zI(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var ug=function(t){var e=document.head,n=t||e,r=document.createElement("style"),i=function(a){var u=Array.from(a.querySelectorAll("style[".concat(Hr,"]")));return u[u.length-1]}(n),s=i!==void 0?i.nextSibling:null;r.setAttribute(Hr,Jm),r.setAttribute(Zm,ia);var o=zI();return o&&r.setAttribute("nonce",o),n.insertBefore(r,s),r},HI=function(){function t(e){this.element=ug(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,i=0,s=r.length;i<s;i++){var o=r[i];if(o.ownerNode===n)return o}throw ls(17)}(this.element),this.length=0}return t.prototype.insertRule=function(e,n){try{return this.sheet.insertRule(n,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var n=this.sheet.cssRules[e];return n&&n.cssText?n.cssText:""},t}(),qI=function(){function t(e){this.element=ug(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,n){if(e<=this.length&&e>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t}(),WI=function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,n){return e<=this.length&&(this.rules.splice(e,0,n),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t}(),tf=nc,GI={isServer:!nc,useCSSOMInjection:!TI},lg=function(){function t(e,n,r){e===void 0&&(e=qr),n===void 0&&(n={});var i=this;this.options=mt(mt({},GI),e),this.gs=n,this.names=new Map(r),this.server=!!e.isServer,!this.server&&nc&&tf&&(tf=!1,function(s){for(var o=document.querySelectorAll($I),a=0,u=o.length;a<u;a++){var l=o[a];l&&l.getAttribute(Hr)!==Jm&&(BI(s,l),l.parentNode&&l.parentNode.removeChild(l))}}(this)),ic(this,function(){return function(s){for(var o=s.getTag(),a=o.length,u="",l=function(h){var f=function(v){return vo.get(v)}(h);if(f===void 0)return"continue";var m=s.names.get(f),d=o.getGroup(h);if(m===void 0||d.length===0)return"continue";var g="".concat(Hr,".g").concat(h,'[id="').concat(f,'"]'),p="";m!==void 0&&m.forEach(function(v){v.length>0&&(p+="".concat(v,","))}),u+="".concat(d).concat(g,'{content:"').concat(p,'"}').concat(tc)},c=0;c<a;c++)l(c);return u}(i)})}return t.registerId=function(e){return xs(e)},t.prototype.reconstructWithOptions=function(e,n){return n===void 0&&(n=!0),new t(mt(mt({},this.options),e),this.gs,n&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=function(n){var r=n.useCSSOMInjection,i=n.target;return n.isServer?new WI(i):r?new HI(i):new qI(i)}(this.options),new VI(e)));var e},t.prototype.hasNameForId=function(e,n){return this.names.has(e)&&this.names.get(e).has(n)},t.prototype.registerName=function(e,n){if(xs(e),this.names.has(e))this.names.get(e).add(n);else{var r=new Set;r.add(n),this.names.set(e,r)}},t.prototype.insertRules=function(e,n,r){this.registerName(e,n),this.getTag().insertRules(xs(e),r)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(xs(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t}(),KI=/&/g,QI=/^\s*\/\/.*$/gm;function cg(t,e){return t.map(function(n){return n.type==="rule"&&(n.value="".concat(e," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(e," ")),n.props=n.props.map(function(r){return"".concat(e," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=cg(n.children,e)),n})}function XI(t){var e,n,r,i=t===void 0?qr:t,s=i.options,o=s===void 0?qr:s,a=i.plugins,u=a===void 0?sa:a,l=function(f,m,d){return d.startsWith(n)&&d.endsWith(n)&&d.replaceAll(n,"").length>0?".".concat(e):f},c=u.slice();c.push(function(f){f.type===ea&&f.value.includes("&")&&(f.props[0]=f.props[0].replace(KI,n).replace(r,l))}),o.prefix&&c.push(wI),c.push(vI);var h=function(f,m,d,g){m===void 0&&(m=""),d===void 0&&(d=""),g===void 0&&(g="&"),e=g,n=m,r=new RegExp("\\".concat(n,"\\b"),"g");var p=f.replace(QI,""),v=gI(d||m?"".concat(d," ").concat(m," { ").concat(p," }"):p);o.namespace&&(v=cg(v,o.namespace));var _=[];return yo(v,_I(c.concat(EI(function(I){return _.push(I)})))),_};return h.hash=u.length?u.reduce(function(f,m){return m.name||ls(15),Or(f,m.name)},tg).toString():"",h}var YI=new lg,Gu=XI(),hg=Ri.createContext({shouldForwardProp:void 0,styleSheet:YI,stylis:Gu});hg.Consumer;Ri.createContext(void 0);function nf(){return D.useContext(hg)}var fg=function(){function t(e,n){var r=this;this.inject=function(i,s){s===void 0&&(s=Gu);var o=r.name+s.hash;i.hasNameForId(r.id,o)||i.insertRules(r.id,o,s(r.rules,o,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=n,ic(this,function(){throw ls(12,String(r.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=Gu),this.name+e.hash},t}(),JI=function(t){return t>="A"&&t<="Z"};function rf(t){for(var e="",n=0;n<t.length;n++){var r=t[n];if(n===1&&r==="-"&&t[0]==="-")return t;JI(r)?e+="-"+r.toLowerCase():e+=r}return e.startsWith("ms-")?"-"+e:e}var dg=function(t){return t==null||t===!1||t===""},pg=function(t){var e,n,r=[];for(var i in t){var s=t[i];t.hasOwnProperty(i)&&!dg(s)&&(Array.isArray(s)&&s.isCss||Wr(s)?r.push("".concat(rf(i),":"),s,";"):qi(s)?r.push.apply(r,Hi(Hi(["".concat(i," {")],pg(s),!1),["}"],!1)):r.push("".concat(rf(i),": ").concat((e=i,(n=s)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||e in bI||e.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function tr(t,e,n,r){if(dg(t))return[];if(rc(t))return[".".concat(t.styledComponentId)];if(Wr(t)){if(!Wr(s=t)||s.prototype&&s.prototype.isReactComponent||!e)return[t];var i=t(e);return tr(i,e,n,r)}var s;return t instanceof fg?n?(t.inject(n,r),[t.getName(r)]):[t]:qi(t)?pg(t):Array.isArray(t)?Array.prototype.concat.apply(sa,t.map(function(o){return tr(o,e,n,r)})):[t.toString()]}function ZI(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(Wr(n)&&!rc(n))return!1}return!0}var eS=ng(ia),tS=function(){function t(e,n,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&ZI(e),this.componentId=n,this.baseHash=Or(eS,n),this.baseStyle=r,lg.registerId(n)}return t.prototype.generateAndInjectStyles=function(e,n,r){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))i=Kn(i,this.staticRulesId);else{var s=qu(tr(this.rules,e,n,r)),o=Hu(Or(this.baseHash,s)>>>0);if(!n.hasNameForId(this.componentId,o)){var a=r(s,".".concat(o),void 0,this.componentId);n.insertRules(this.componentId,o,a)}i=Kn(i,o),this.staticRulesId=o}else{for(var u=Or(this.baseHash,r.hash),l="",c=0;c<this.rules.length;c++){var h=this.rules[c];if(typeof h=="string")l+=h;else if(h){var f=qu(tr(h,e,n,r));u=Or(u,f+c),l+=f}}if(l){var m=Hu(u>>>0);n.hasNameForId(this.componentId,m)||n.insertRules(this.componentId,m,r(l,".".concat(m),void 0,this.componentId)),i=Kn(i,m)}}return i},t}(),mg=Ri.createContext(void 0);mg.Consumer;var Ga={};function nS(t,e,n){var r=rc(t),i=t,s=!Wa(t),o=e.attrs,a=o===void 0?sa:o,u=e.componentId,l=u===void 0?function(y,R){var T=typeof y!="string"?"sc":Xh(y);Ga[T]=(Ga[T]||0)+1;var A="".concat(T,"-").concat(rg(ia+T+Ga[T]));return R?"".concat(R,"-").concat(A):A}(e.displayName,e.parentComponentId):u,c=e.displayName,h=c===void 0?function(y){return Wa(y)?"styled.".concat(y):"Styled(".concat(CI(y),")")}(t):c,f=e.displayName&&e.componentId?"".concat(Xh(e.displayName),"-").concat(e.componentId):e.componentId||l,m=r&&i.attrs?i.attrs.concat(a).filter(Boolean):a,d=e.shouldForwardProp;if(r&&i.shouldForwardProp){var g=i.shouldForwardProp;if(e.shouldForwardProp){var p=e.shouldForwardProp;d=function(y,R){return g(y,R)&&p(y,R)}}else d=g}var v=new tS(n,f,r?i.componentStyle:void 0);function _(y,R){return function(T,A,L){var F=T.attrs,W=T.componentStyle,U=T.defaultProps,z=T.foldedComponentIds,ie=T.styledComponentId,he=T.target,pe=Ri.useContext(mg),ee=nf(),Z=T.shouldForwardProp||ee.shouldForwardProp,S=AI(A,pe,U)||qr,x=function(ve,Se,Ve){for(var Pe,Be=mt(mt({},Se),{className:void 0,theme:Ve}),nn=0;nn<ve.length;nn+=1){var xt=Wr(Pe=ve[nn])?Pe(Be):Pe;for(var nt in xt)Be[nt]=nt==="className"?Kn(Be[nt],xt[nt]):nt==="style"?mt(mt({},Be[nt]),xt[nt]):xt[nt]}return Se.className&&(Be.className=Kn(Be.className,Se.className)),Be}(F,A,S),V=x.as||he,Q={};for(var J in x)x[J]===void 0||J[0]==="$"||J==="as"||J==="theme"&&x.theme===S||(J==="forwardedAs"?Q.as=x.forwardedAs:Z&&!Z(J,V)||(Q[J]=x[J]));var be=function(ve,Se){var Ve=nf(),Pe=ve.generateAndInjectStyles(Se,Ve.styleSheet,Ve.stylis);return Pe}(W,x),te=Kn(z,ie);return be&&(te+=" "+be),x.className&&(te+=" "+x.className),Q[Wa(V)&&!eg.has(V)?"class":"className"]=te,Q.ref=L,D.createElement(V,Q)}(I,y,R)}_.displayName=h;var I=Ri.forwardRef(_);return I.attrs=m,I.componentStyle=v,I.displayName=h,I.shouldForwardProp=d,I.foldedComponentIds=r?Kn(i.foldedComponentIds,i.styledComponentId):"",I.styledComponentId=f,I.target=r?i.target:t,Object.defineProperty(I,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(y){this._foldedDefaultProps=r?function(R){for(var T=[],A=1;A<arguments.length;A++)T[A-1]=arguments[A];for(var L=0,F=T;L<F.length;L++)Wu(R,F[L],!0);return R}({},i.defaultProps,y):y}}),ic(I,function(){return".".concat(I.styledComponentId)}),s&&ag(I,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),I}function sf(t,e){for(var n=[t[0]],r=0,i=e.length;r<i;r+=1)n.push(e[r],t[r+1]);return n}var of=function(t){return Object.assign(t,{isCss:!0})};function gg(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Wr(t)||qi(t))return of(tr(sf(sa,Hi([t],e,!0))));var r=t;return e.length===0&&r.length===1&&typeof r[0]=="string"?tr(r):of(tr(sf(r,e)))}function Ku(t,e,n){if(n===void 0&&(n=qr),!e)throw ls(1,e);var r=function(i){for(var s=[],o=1;o<arguments.length;o++)s[o-1]=arguments[o];return t(e,n,gg.apply(void 0,Hi([i],s,!1)))};return r.attrs=function(i){return Ku(t,e,mt(mt({},n),{attrs:Array.prototype.concat(n.attrs,i).filter(Boolean)}))},r.withConfig=function(i){return Ku(t,e,mt(mt({},n),i))},r}var yg=function(t){return Ku(nS,t)},rS=yg;eg.forEach(function(t){rS[t]=yg(t)});function mC(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=qu(gg.apply(void 0,Hi([t],e,!1))),i=rg(r);return new fg(i,r)}function vg(t,e){return function(){return t.apply(e,arguments)}}const{toString:iS}=Object.prototype,{getPrototypeOf:sc}=Object,{iterator:oa,toStringTag:_g}=Symbol,aa=(t=>e=>{const n=iS.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),zt=t=>(t=t.toLowerCase(),e=>aa(e)===t),ua=t=>e=>typeof e===t,{isArray:ei}=Array,Gr=ua("undefined");function cs(t){return t!==null&&!Gr(t)&&t.constructor!==null&&!Gr(t.constructor)&&yt(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Eg=zt("ArrayBuffer");function sS(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Eg(t.buffer),e}const oS=ua("string"),yt=ua("function"),wg=ua("number"),hs=t=>t!==null&&typeof t=="object",aS=t=>t===!0||t===!1,Us=t=>{if(aa(t)!=="object")return!1;const e=sc(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(_g in t)&&!(oa in t)},uS=t=>{if(!hs(t)||cs(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},lS=zt("Date"),cS=zt("File"),hS=zt("Blob"),fS=zt("FileList"),dS=t=>hs(t)&&yt(t.pipe),pS=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||yt(t.append)&&((e=aa(t))==="formdata"||e==="object"&&yt(t.toString)&&t.toString()==="[object FormData]"))},mS=zt("URLSearchParams"),[gS,yS,vS,_S]=["ReadableStream","Request","Response","Headers"].map(zt),ES=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function fs(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),ei(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{if(cs(t))return;const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(r=0;r<o;r++)a=s[r],e.call(null,t[a],a,t)}}function bg(t,e){if(cs(t))return null;e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const Qn=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Tg=t=>!Gr(t)&&t!==Qn;function Qu(){const{caseless:t,skipUndefined:e}=Tg(this)&&this||{},n={},r=(i,s)=>{const o=t&&bg(n,s)||s;Us(n[o])&&Us(i)?n[o]=Qu(n[o],i):Us(i)?n[o]=Qu({},i):ei(i)?n[o]=i.slice():(!e||!Gr(i))&&(n[o]=i)};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&fs(arguments[i],r);return n}const wS=(t,e,n,{allOwnKeys:r}={})=>(fs(e,(i,s)=>{n&&yt(i)?Object.defineProperty(t,s,{value:vg(i,n),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(t,s,{value:i,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:r}),t),bS=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),TS=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),Object.defineProperty(t.prototype,"constructor",{value:t,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},AS=(t,e,n,r)=>{let i,s,o;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&sc(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},IS=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},SS=t=>{if(!t)return null;if(ei(t))return t;let e=t.length;if(!wg(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},RS=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&sc(Uint8Array)),CS=(t,e)=>{const r=(t&&t[oa]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},PS=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},xS=zt("HTMLFormElement"),OS=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),af=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),DS=zt("RegExp"),Ag=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};fs(n,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(r[s]=o||i)}),Object.defineProperties(t,r)},kS=t=>{Ag(t,(e,n)=>{if(yt(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(yt(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},MS=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return ei(t)?r(t):r(String(t).split(e)),n},NS=()=>{},FS=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function VS(t){return!!(t&&yt(t.append)&&t[_g]==="FormData"&&t[oa])}const LS=t=>{const e=new Array(10),n=(r,i)=>{if(hs(r)){if(e.indexOf(r)>=0)return;if(cs(r))return r;if(!("toJSON"in r)){e[i]=r;const s=ei(r)?[]:{};return fs(r,(o,a)=>{const u=n(o,i+1);!Gr(u)&&(s[a]=u)}),e[i]=void 0,s}}return r};return n(t,0)},$S=zt("AsyncFunction"),US=t=>t&&(hs(t)||yt(t))&&yt(t.then)&&yt(t.catch),Ig=((t,e)=>t?setImmediate:e?((n,r)=>(Qn.addEventListener("message",({source:i,data:s})=>{i===Qn&&s===n&&r.length&&r.shift()()},!1),i=>{r.push(i),Qn.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",yt(Qn.postMessage)),jS=typeof queueMicrotask<"u"?queueMicrotask.bind(Qn):typeof process<"u"&&process.nextTick||Ig,BS=t=>t!=null&&yt(t[oa]),w={isArray:ei,isArrayBuffer:Eg,isBuffer:cs,isFormData:pS,isArrayBufferView:sS,isString:oS,isNumber:wg,isBoolean:aS,isObject:hs,isPlainObject:Us,isEmptyObject:uS,isReadableStream:gS,isRequest:yS,isResponse:vS,isHeaders:_S,isUndefined:Gr,isDate:lS,isFile:cS,isBlob:hS,isRegExp:DS,isFunction:yt,isStream:dS,isURLSearchParams:mS,isTypedArray:RS,isFileList:fS,forEach:fs,merge:Qu,extend:wS,trim:ES,stripBOM:bS,inherits:TS,toFlatObject:AS,kindOf:aa,kindOfTest:zt,endsWith:IS,toArray:SS,forEachEntry:CS,matchAll:PS,isHTMLForm:xS,hasOwnProperty:af,hasOwnProp:af,reduceDescriptors:Ag,freezeMethods:kS,toObjectSet:MS,toCamelCase:OS,noop:NS,toFiniteNumber:FS,findKey:bg,global:Qn,isContextDefined:Tg,isSpecCompliantForm:VS,toJSONObject:LS,isAsyncFn:$S,isThenable:US,setImmediate:Ig,asap:jS,isIterable:BS};class dt extends Error{static from(e,n,r,i,s,o){const a=new dt(e.message,n||e.code,r,i,s);return a.cause=e,a.name=e.name,o&&Object.assign(a,o),a}constructor(e,n,r,i,s){super(e),this.name="AxiosError",this.isAxiosError=!0,n&&(this.code=n),r&&(this.config=r),i&&(this.request=i),s&&(this.response=s,this.status=s.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:w.toJSONObject(this.config),code:this.code,status:this.status}}}dt.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";dt.ERR_BAD_OPTION="ERR_BAD_OPTION";dt.ECONNABORTED="ECONNABORTED";dt.ETIMEDOUT="ETIMEDOUT";dt.ERR_NETWORK="ERR_NETWORK";dt.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";dt.ERR_DEPRECATED="ERR_DEPRECATED";dt.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";dt.ERR_BAD_REQUEST="ERR_BAD_REQUEST";dt.ERR_CANCELED="ERR_CANCELED";dt.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";dt.ERR_INVALID_URL="ERR_INVALID_URL";const se=dt,zS=null;function Xu(t){return w.isPlainObject(t)||w.isArray(t)}function Sg(t){return w.endsWith(t,"[]")?t.slice(0,-2):t}function uf(t,e,n){return t?t.concat(e).map(function(i,s){return i=Sg(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function HS(t){return w.isArray(t)&&!t.some(Xu)}const qS=w.toFlatObject(w,{},null,function(e){return/^is[A-Z]/.test(e)});function la(t,e,n){if(!w.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=w.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,p){return!w.isUndefined(p[g])});const r=n.metaTokens,i=n.visitor||c,s=n.dots,o=n.indexes,u=(n.Blob||typeof Blob<"u"&&Blob)&&w.isSpecCompliantForm(e);if(!w.isFunction(i))throw new TypeError("visitor must be a function");function l(d){if(d===null)return"";if(w.isDate(d))return d.toISOString();if(w.isBoolean(d))return d.toString();if(!u&&w.isBlob(d))throw new se("Blob is not supported. Use a Buffer instead.");return w.isArrayBuffer(d)||w.isTypedArray(d)?u&&typeof Blob=="function"?new Blob([d]):Buffer.from(d):d}function c(d,g,p){let v=d;if(d&&!p&&typeof d=="object"){if(w.endsWith(g,"{}"))g=r?g:g.slice(0,-2),d=JSON.stringify(d);else if(w.isArray(d)&&HS(d)||(w.isFileList(d)||w.endsWith(g,"[]"))&&(v=w.toArray(d)))return g=Sg(g),v.forEach(function(I,y){!(w.isUndefined(I)||I===null)&&e.append(o===!0?uf([g],y,s):o===null?g:g+"[]",l(I))}),!1}return Xu(d)?!0:(e.append(uf(p,g,s),l(d)),!1)}const h=[],f=Object.assign(qS,{defaultVisitor:c,convertValue:l,isVisitable:Xu});function m(d,g){if(!w.isUndefined(d)){if(h.indexOf(d)!==-1)throw Error("Circular reference detected in "+g.join("."));h.push(d),w.forEach(d,function(v,_){(!(w.isUndefined(v)||v===null)&&i.call(e,v,w.isString(_)?_.trim():_,g,f))===!0&&m(v,g?g.concat(_):[_])}),h.pop()}}if(!w.isObject(t))throw new TypeError("data must be an object");return m(t),e}function lf(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function oc(t,e){this._pairs=[],t&&la(t,this,e)}const Rg=oc.prototype;Rg.append=function(e,n){this._pairs.push([e,n])};Rg.toString=function(e){const n=e?function(r){return e.call(this,r,lf)}:lf;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function WS(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Cg(t,e,n){if(!e)return t;const r=n&&n.encode||WS,i=w.isFunction(n)?{serialize:n}:n,s=i&&i.serialize;let o;if(s?o=s(e,i):o=w.isURLSearchParams(e)?e.toString():new oc(e,i).toString(r),o){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class GS{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){w.forEach(this.handlers,function(r){r!==null&&e(r)})}}const cf=GS,Pg={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},KS=typeof URLSearchParams<"u"?URLSearchParams:oc,QS=typeof FormData<"u"?FormData:null,XS=typeof Blob<"u"?Blob:null,YS={isBrowser:!0,classes:{URLSearchParams:KS,FormData:QS,Blob:XS},protocols:["http","https","file","blob","url","data"]},ac=typeof window<"u"&&typeof document<"u",Yu=typeof navigator=="object"&&navigator||void 0,JS=ac&&(!Yu||["ReactNative","NativeScript","NS"].indexOf(Yu.product)<0),ZS=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),eR=ac&&window.location.href||"http://localhost",tR=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ac,hasStandardBrowserEnv:JS,hasStandardBrowserWebWorkerEnv:ZS,navigator:Yu,origin:eR},Symbol.toStringTag,{value:"Module"})),ot={...tR,...YS};function nR(t,e){return la(t,new ot.classes.URLSearchParams,{visitor:function(n,r,i,s){return ot.isNode&&w.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...e})}function rR(t){return w.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function iR(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function xg(t){function e(n,r,i,s){let o=n[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),u=s>=n.length;return o=!o&&w.isArray(i)?i.length:o,u?(w.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!w.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],s)&&w.isArray(i[o])&&(i[o]=iR(i[o])),!a)}if(w.isFormData(t)&&w.isFunction(t.entries)){const n={};return w.forEachEntry(t,(r,i)=>{e(rR(r),i,n,0)}),n}return null}function sR(t,e,n){if(w.isString(t))try{return(e||JSON.parse)(t),w.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const uc={transitional:Pg,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=w.isObject(e);if(s&&w.isHTMLForm(e)&&(e=new FormData(e)),w.isFormData(e))return i?JSON.stringify(xg(e)):e;if(w.isArrayBuffer(e)||w.isBuffer(e)||w.isStream(e)||w.isFile(e)||w.isBlob(e)||w.isReadableStream(e))return e;if(w.isArrayBufferView(e))return e.buffer;if(w.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return nR(e,this.formSerializer).toString();if((a=w.isFileList(e))||r.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return la(a?{"files[]":e}:e,u&&new u,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),sR(e)):e}],transformResponse:[function(e){const n=this.transitional||uc.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(w.isResponse(e)||w.isReadableStream(e))return e;if(e&&w.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(a){if(o)throw a.name==="SyntaxError"?se.from(a,se.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ot.classes.FormData,Blob:ot.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};w.forEach(["delete","get","head","post","put","patch"],t=>{uc.headers[t]={}});const lc=uc,oR=w.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),aR=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&oR[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},hf=Symbol("internals");function di(t){return t&&String(t).trim().toLowerCase()}function js(t){return t===!1||t==null?t:w.isArray(t)?t.map(js):String(t)}function uR(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const lR=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Ka(t,e,n,r,i){if(w.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!w.isString(e)){if(w.isString(r))return e.indexOf(r)!==-1;if(w.isRegExp(r))return r.test(e)}}function cR(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function hR(t,e){const n=w.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}class ca{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(a,u,l){const c=di(u);if(!c)throw new Error("header name must be a non-empty string");const h=w.findKey(i,c);(!h||i[h]===void 0||l===!0||l===void 0&&i[h]!==!1)&&(i[h||u]=js(a))}const o=(a,u)=>w.forEach(a,(l,c)=>s(l,c,u));if(w.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(w.isString(e)&&(e=e.trim())&&!lR(e))o(aR(e),n);else if(w.isObject(e)&&w.isIterable(e)){let a={},u,l;for(const c of e){if(!w.isArray(c))throw TypeError("Object iterator must return a key-value pair");a[l=c[0]]=(u=a[l])?w.isArray(u)?[...u,c[1]]:[u,c[1]]:c[1]}o(a,n)}else e!=null&&s(n,e,r);return this}get(e,n){if(e=di(e),e){const r=w.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return uR(i);if(w.isFunction(n))return n.call(this,i,r);if(w.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=di(e),e){const r=w.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Ka(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(o){if(o=di(o),o){const a=w.findKey(r,o);a&&(!n||Ka(r,r[a],a,n))&&(delete r[a],i=!0)}}return w.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||Ka(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return w.forEach(this,(i,s)=>{const o=w.findKey(r,s);if(o){n[o]=js(i),delete n[s];return}const a=e?cR(s):String(s).trim();a!==s&&delete n[s],n[a]=js(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return w.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&w.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[hf]=this[hf]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=di(o);r[a]||(hR(i,o),r[a]=!0)}return w.isArray(e)?e.forEach(s):s(e),this}}ca.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);w.reduceDescriptors(ca.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});w.freezeMethods(ca);const jt=ca;function Qa(t,e){const n=this||lc,r=e||n,i=jt.from(r.headers);let s=r.data;return w.forEach(t,function(a){s=a.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function Og(t){return!!(t&&t.__CANCEL__)}class fR extends se{constructor(e,n,r){super(e??"canceled",se.ERR_CANCELED,n,r),this.name="CanceledError",this.__CANCEL__=!0}}const ds=fR;function Dg(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new se("Request failed with status code "+n.status,[se.ERR_BAD_REQUEST,se.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function dR(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function pR(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(u){const l=Date.now(),c=r[s];o||(o=l),n[i]=u,r[i]=l;let h=s,f=0;for(;h!==i;)f+=n[h++],h=h%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),l-o<e)return;const m=c&&l-c;return m?Math.round(f*1e3/m):void 0}}function mR(t,e){let n=0,r=1e3/e,i,s;const o=(l,c=Date.now())=>{n=c,i=null,s&&(clearTimeout(s),s=null),t(...l)};return[(...l)=>{const c=Date.now(),h=c-n;h>=r?o(l,c):(i=l,s||(s=setTimeout(()=>{s=null,o(i)},r-h)))},()=>i&&o(i)]}const _o=(t,e,n=3)=>{let r=0;const i=pR(50,250);return mR(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,u=o-r,l=i(u),c=o<=a;r=o;const h={loaded:o,total:a,progress:a?o/a:void 0,bytes:u,rate:l||void 0,estimated:l&&a&&c?(a-o)/l:void 0,event:s,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(h)},n)},ff=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},df=t=>(...e)=>w.asap(()=>t(...e)),gR=ot.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,ot.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(ot.origin),ot.navigator&&/(msie|trident)/i.test(ot.navigator.userAgent)):()=>!0,yR=ot.hasStandardBrowserEnv?{write(t,e,n,r,i,s,o){if(typeof document>"u")return;const a=[`${t}=${encodeURIComponent(e)}`];w.isNumber(n)&&a.push(`expires=${new Date(n).toUTCString()}`),w.isString(r)&&a.push(`path=${r}`),w.isString(i)&&a.push(`domain=${i}`),s===!0&&a.push("secure"),w.isString(o)&&a.push(`SameSite=${o}`),document.cookie=a.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function vR(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function _R(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function kg(t,e,n){let r=!vR(e);return t&&(r||n==!1)?_R(t,e):e}const pf=t=>t instanceof jt?{...t}:t;function cr(t,e){e=e||{};const n={};function r(l,c,h,f){return w.isPlainObject(l)&&w.isPlainObject(c)?w.merge.call({caseless:f},l,c):w.isPlainObject(c)?w.merge({},c):w.isArray(c)?c.slice():c}function i(l,c,h,f){if(w.isUndefined(c)){if(!w.isUndefined(l))return r(void 0,l,h,f)}else return r(l,c,h,f)}function s(l,c){if(!w.isUndefined(c))return r(void 0,c)}function o(l,c){if(w.isUndefined(c)){if(!w.isUndefined(l))return r(void 0,l)}else return r(void 0,c)}function a(l,c,h){if(h in e)return r(l,c);if(h in t)return r(void 0,l)}const u={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(l,c,h)=>i(pf(l),pf(c),h,!0)};return w.forEach(Object.keys({...t,...e}),function(c){const h=u[c]||i,f=h(t[c],e[c],c);w.isUndefined(f)&&h!==a||(n[c]=f)}),n}const Mg=t=>{const e=cr({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:a}=e;if(e.headers=o=jt.from(o),e.url=Cg(kg(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),w.isFormData(n)){if(ot.hasStandardBrowserEnv||ot.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(w.isFunction(n.getHeaders)){const u=n.getHeaders(),l=["content-type","content-length"];Object.entries(u).forEach(([c,h])=>{l.includes(c.toLowerCase())&&o.set(c,h)})}}if(ot.hasStandardBrowserEnv&&(r&&w.isFunction(r)&&(r=r(e)),r||r!==!1&&gR(e.url))){const u=i&&s&&yR.read(s);u&&o.set(i,u)}return e},ER=typeof XMLHttpRequest<"u",wR=ER&&function(t){return new Promise(function(n,r){const i=Mg(t);let s=i.data;const o=jt.from(i.headers).normalize();let{responseType:a,onUploadProgress:u,onDownloadProgress:l}=i,c,h,f,m,d;function g(){m&&m(),d&&d(),i.cancelToken&&i.cancelToken.unsubscribe(c),i.signal&&i.signal.removeEventListener("abort",c)}let p=new XMLHttpRequest;p.open(i.method.toUpperCase(),i.url,!0),p.timeout=i.timeout;function v(){if(!p)return;const I=jt.from("getAllResponseHeaders"in p&&p.getAllResponseHeaders()),R={data:!a||a==="text"||a==="json"?p.responseText:p.response,status:p.status,statusText:p.statusText,headers:I,config:t,request:p};Dg(function(A){n(A),g()},function(A){r(A),g()},R),p=null}"onloadend"in p?p.onloadend=v:p.onreadystatechange=function(){!p||p.readyState!==4||p.status===0&&!(p.responseURL&&p.responseURL.indexOf("file:")===0)||setTimeout(v)},p.onabort=function(){p&&(r(new se("Request aborted",se.ECONNABORTED,t,p)),p=null)},p.onerror=function(y){const R=y&&y.message?y.message:"Network Error",T=new se(R,se.ERR_NETWORK,t,p);T.event=y||null,r(T),p=null},p.ontimeout=function(){let y=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const R=i.transitional||Pg;i.timeoutErrorMessage&&(y=i.timeoutErrorMessage),r(new se(y,R.clarifyTimeoutError?se.ETIMEDOUT:se.ECONNABORTED,t,p)),p=null},s===void 0&&o.setContentType(null),"setRequestHeader"in p&&w.forEach(o.toJSON(),function(y,R){p.setRequestHeader(R,y)}),w.isUndefined(i.withCredentials)||(p.withCredentials=!!i.withCredentials),a&&a!=="json"&&(p.responseType=i.responseType),l&&([f,d]=_o(l,!0),p.addEventListener("progress",f)),u&&p.upload&&([h,m]=_o(u),p.upload.addEventListener("progress",h),p.upload.addEventListener("loadend",m)),(i.cancelToken||i.signal)&&(c=I=>{p&&(r(!I||I.type?new ds(null,t,p):I),p.abort(),p=null)},i.cancelToken&&i.cancelToken.subscribe(c),i.signal&&(i.signal.aborted?c():i.signal.addEventListener("abort",c)));const _=dR(i.url);if(_&&ot.protocols.indexOf(_)===-1){r(new se("Unsupported protocol "+_+":",se.ERR_BAD_REQUEST,t));return}p.send(s||null)})},bR=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const s=function(l){if(!i){i=!0,a();const c=l instanceof Error?l:this.reason;r.abort(c instanceof se?c:new ds(c instanceof Error?c.message:c))}};let o=e&&setTimeout(()=>{o=null,s(new se(`timeout of ${e}ms exceeded`,se.ETIMEDOUT))},e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(l=>{l.unsubscribe?l.unsubscribe(s):l.removeEventListener("abort",s)}),t=null)};t.forEach(l=>l.addEventListener("abort",s));const{signal:u}=r;return u.unsubscribe=()=>w.asap(a),u}},TR=bR,AR=function*(t,e){let n=t.byteLength;if(!e||n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},IR=async function*(t,e){for await(const n of SR(t))yield*AR(n,e)},SR=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},mf=(t,e,n,r)=>{const i=IR(t,e);let s=0,o,a=u=>{o||(o=!0,r&&r(u))};return new ReadableStream({async pull(u){try{const{done:l,value:c}=await i.next();if(l){a(),u.close();return}let h=c.byteLength;if(n){let f=s+=h;n(f)}u.enqueue(new Uint8Array(c))}catch(l){throw a(l),l}},cancel(u){return a(u),i.return()}},{highWaterMark:2})},gf=64*1024,{isFunction:Os}=w,RR=(({Request:t,Response:e})=>({Request:t,Response:e}))(w.global),{ReadableStream:yf,TextEncoder:vf}=w.global,_f=(t,...e)=>{try{return!!t(...e)}catch{return!1}},CR=t=>{t=w.merge.call({skipUndefined:!0},RR,t);const{fetch:e,Request:n,Response:r}=t,i=e?Os(e):typeof fetch=="function",s=Os(n),o=Os(r);if(!i)return!1;const a=i&&Os(yf),u=i&&(typeof vf=="function"?(d=>g=>d.encode(g))(new vf):async d=>new Uint8Array(await new n(d).arrayBuffer())),l=s&&a&&_f(()=>{let d=!1;const g=new n(ot.origin,{body:new yf,method:"POST",get duplex(){return d=!0,"half"}}).headers.has("Content-Type");return d&&!g}),c=o&&a&&_f(()=>w.isReadableStream(new r("").body)),h={stream:c&&(d=>d.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(d=>{!h[d]&&(h[d]=(g,p)=>{let v=g&&g[d];if(v)return v.call(g);throw new se(`Response type '${d}' is not supported`,se.ERR_NOT_SUPPORT,p)})});const f=async d=>{if(d==null)return 0;if(w.isBlob(d))return d.size;if(w.isSpecCompliantForm(d))return(await new n(ot.origin,{method:"POST",body:d}).arrayBuffer()).byteLength;if(w.isArrayBufferView(d)||w.isArrayBuffer(d))return d.byteLength;if(w.isURLSearchParams(d)&&(d=d+""),w.isString(d))return(await u(d)).byteLength},m=async(d,g)=>{const p=w.toFiniteNumber(d.getContentLength());return p??f(g)};return async d=>{let{url:g,method:p,data:v,signal:_,cancelToken:I,timeout:y,onDownloadProgress:R,onUploadProgress:T,responseType:A,headers:L,withCredentials:F="same-origin",fetchOptions:W}=Mg(d),U=e||fetch;A=A?(A+"").toLowerCase():"text";let z=TR([_,I&&I.toAbortSignal()],y),ie=null;const he=z&&z.unsubscribe&&(()=>{z.unsubscribe()});let pe;try{if(T&&l&&p!=="get"&&p!=="head"&&(pe=await m(L,v))!==0){let Q=new n(g,{method:"POST",body:v,duplex:"half"}),J;if(w.isFormData(v)&&(J=Q.headers.get("content-type"))&&L.setContentType(J),Q.body){const[be,te]=ff(pe,_o(df(T)));v=mf(Q.body,gf,be,te)}}w.isString(F)||(F=F?"include":"omit");const ee=s&&"credentials"in n.prototype,Z={...W,signal:z,method:p.toUpperCase(),headers:L.normalize().toJSON(),body:v,duplex:"half",credentials:ee?F:void 0};ie=s&&new n(g,Z);let S=await(s?U(ie,W):U(g,Z));const x=c&&(A==="stream"||A==="response");if(c&&(R||x&&he)){const Q={};["status","statusText","headers"].forEach(ve=>{Q[ve]=S[ve]});const J=w.toFiniteNumber(S.headers.get("content-length")),[be,te]=R&&ff(J,_o(df(R),!0))||[];S=new r(mf(S.body,gf,be,()=>{te&&te(),he&&he()}),Q)}A=A||"text";let V=await h[w.findKey(h,A)||"text"](S,d);return!x&&he&&he(),await new Promise((Q,J)=>{Dg(Q,J,{data:V,headers:jt.from(S.headers),status:S.status,statusText:S.statusText,config:d,request:ie})})}catch(ee){throw he&&he(),ee&&ee.name==="TypeError"&&/Load failed|fetch/i.test(ee.message)?Object.assign(new se("Network Error",se.ERR_NETWORK,d,ie),{cause:ee.cause||ee}):se.from(ee,ee&&ee.code,d,ie)}}},PR=new Map,Ng=t=>{let e=t&&t.env||{};const{fetch:n,Request:r,Response:i}=e,s=[r,i,n];let o=s.length,a=o,u,l,c=PR;for(;a--;)u=s[a],l=c.get(u),l===void 0&&c.set(u,l=a?new Map:CR(e)),c=l;return l};Ng();const cc={http:zS,xhr:wR,fetch:{get:Ng}};w.forEach(cc,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Ef=t=>`- ${t}`,xR=t=>w.isFunction(t)||t===null||t===!1;function OR(t,e){t=w.isArray(t)?t:[t];const{length:n}=t;let r,i;const s={};for(let o=0;o<n;o++){r=t[o];let a;if(i=r,!xR(r)&&(i=cc[(a=String(r)).toLowerCase()],i===void 0))throw new se(`Unknown adapter '${a}'`);if(i&&(w.isFunction(i)||(i=i.get(e))))break;s[a||"#"+o]=i}if(!i){const o=Object.entries(s).map(([u,l])=>`adapter ${u} `+(l===!1?"is not supported by the environment":"is not available in the build"));let a=n?o.length>1?`since :
`+o.map(Ef).join(`
`):" "+Ef(o[0]):"as no adapter specified";throw new se("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return i}const Fg={getAdapter:OR,adapters:cc};function Xa(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new ds(null,t)}function wf(t){return Xa(t),t.headers=jt.from(t.headers),t.data=Qa.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Fg.getAdapter(t.adapter||lc.adapter,t)(t).then(function(r){return Xa(t),r.data=Qa.call(t,t.transformResponse,r),r.headers=jt.from(r.headers),r},function(r){return Og(r)||(Xa(t),r&&r.response&&(r.response.data=Qa.call(t,t.transformResponse,r.response),r.response.headers=jt.from(r.response.headers))),Promise.reject(r)})}const Vg="1.13.4",ha={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{ha[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const bf={};ha.transitional=function(e,n,r){function i(s,o){return"[Axios v"+Vg+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(e===!1)throw new se(i(o," has been removed"+(n?" in "+n:"")),se.ERR_DEPRECATED);return n&&!bf[o]&&(bf[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,a):!0}};ha.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function DR(t,e,n){if(typeof t!="object")throw new se("options must be an object",se.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const a=t[s],u=a===void 0||o(a,s,t);if(u!==!0)throw new se("option "+s+" must be "+u,se.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new se("Unknown option "+s,se.ERR_BAD_OPTION)}}const Bs={assertOptions:DR,validators:ha},Gt=Bs.validators;class Eo{constructor(e){this.defaults=e||{},this.interceptors={request:new cf,response:new cf}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=cr(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&Bs.assertOptions(r,{silentJSONParsing:Gt.transitional(Gt.boolean),forcedJSONParsing:Gt.transitional(Gt.boolean),clarifyTimeoutError:Gt.transitional(Gt.boolean)},!1),i!=null&&(w.isFunction(i)?n.paramsSerializer={serialize:i}:Bs.assertOptions(i,{encode:Gt.function,serialize:Gt.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Bs.assertOptions(n,{baseUrl:Gt.spelling("baseURL"),withXsrfToken:Gt.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&w.merge(s.common,s[n.method]);s&&w.forEach(["delete","get","head","post","put","patch","common"],d=>{delete s[d]}),n.headers=jt.concat(o,s);const a=[];let u=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(n)===!1||(u=u&&g.synchronous,a.unshift(g.fulfilled,g.rejected))});const l=[];this.interceptors.response.forEach(function(g){l.push(g.fulfilled,g.rejected)});let c,h=0,f;if(!u){const d=[wf.bind(this),void 0];for(d.unshift(...a),d.push(...l),f=d.length,c=Promise.resolve(n);h<f;)c=c.then(d[h++],d[h++]);return c}f=a.length;let m=n;for(;h<f;){const d=a[h++],g=a[h++];try{m=d(m)}catch(p){g.call(this,p);break}}try{c=wf.call(this,m)}catch(d){return Promise.reject(d)}for(h=0,f=l.length;h<f;)c=c.then(l[h++],l[h++]);return c}getUri(e){e=cr(this.defaults,e);const n=kg(e.baseURL,e.url,e.allowAbsoluteUrls);return Cg(n,e.params,e.paramsSerializer)}}w.forEach(["delete","get","head","options"],function(e){Eo.prototype[e]=function(n,r){return this.request(cr(r||{},{method:e,url:n,data:(r||{}).data}))}});w.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,a){return this.request(cr(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Eo.prototype[e]=n(),Eo.prototype[e+"Form"]=n(!0)});const zs=Eo;class hc{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,a){r.reason||(r.reason=new ds(s,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new hc(function(i){e=i}),cancel:e}}}const kR=hc;function MR(t){return function(n){return t.apply(null,n)}}function NR(t){return w.isObject(t)&&t.isAxiosError===!0}const Ju={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Ju).forEach(([t,e])=>{Ju[e]=t});const FR=Ju;function Lg(t){const e=new zs(t),n=vg(zs.prototype.request,e);return w.extend(n,zs.prototype,e,{allOwnKeys:!0}),w.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return Lg(cr(t,i))},n}const Ue=Lg(lc);Ue.Axios=zs;Ue.CanceledError=ds;Ue.CancelToken=kR;Ue.isCancel=Og;Ue.VERSION=Vg;Ue.toFormData=la;Ue.AxiosError=se;Ue.Cancel=Ue.CanceledError;Ue.all=function(e){return Promise.all(e)};Ue.spread=MR;Ue.isAxiosError=NR;Ue.mergeConfig=cr;Ue.AxiosHeaders=jt;Ue.formToJSON=t=>xg(w.isHTMLForm(t)?new FormData(t):t);Ue.getAdapter=Fg.getAdapter;Ue.HttpStatusCode=FR;Ue.default=Ue;const gC=Ue;var VR="Expected a function",Tf=0/0,LR="[object Symbol]",$R=/^\s+|\s+$/g,UR=/^[-+]0x[0-9a-f]+$/i,jR=/^0b[01]+$/i,BR=/^0o[0-7]+$/i,zR=parseInt,HR=typeof En=="object"&&En&&En.Object===Object&&En,qR=typeof self=="object"&&self&&self.Object===Object&&self,WR=HR||qR||Function("return this")(),GR=Object.prototype,KR=GR.toString,QR=Math.max,XR=Math.min,Ya=function(){return WR.Date.now()};function YR(t,e,n){var r,i,s,o,a,u,l=0,c=!1,h=!1,f=!0;if(typeof t!="function")throw new TypeError(VR);e=Af(e)||0,Zu(n)&&(c=!!n.leading,h="maxWait"in n,s=h?QR(Af(n.maxWait)||0,e):s,f="trailing"in n?!!n.trailing:f);function m(T){var A=r,L=i;return r=i=void 0,l=T,o=t.apply(L,A),o}function d(T){return l=T,a=setTimeout(v,e),c?m(T):o}function g(T){var A=T-u,L=T-l,F=e-A;return h?XR(F,s-L):F}function p(T){var A=T-u,L=T-l;return u===void 0||A>=e||A<0||h&&L>=s}function v(){var T=Ya();if(p(T))return _(T);a=setTimeout(v,g(T))}function _(T){return a=void 0,f&&r?m(T):(r=i=void 0,o)}function I(){a!==void 0&&clearTimeout(a),l=0,r=u=i=a=void 0}function y(){return a===void 0?o:_(Ya())}function R(){var T=Ya(),A=p(T);if(r=arguments,i=this,u=T,A){if(a===void 0)return d(u);if(h)return a=setTimeout(v,e),m(u)}return a===void 0&&(a=setTimeout(v,e)),o}return R.cancel=I,R.flush=y,R}function Zu(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function JR(t){return!!t&&typeof t=="object"}function ZR(t){return typeof t=="symbol"||JR(t)&&KR.call(t)==LR}function Af(t){if(typeof t=="number")return t;if(ZR(t))return Tf;if(Zu(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Zu(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace($R,"");var n=jR.test(t);return n||BR.test(t)?zR(t.slice(2),n?2:8):UR.test(t)?Tf:+t}var yC=YR,$g=function(){if(typeof Map<"u")return Map;function t(e,n){var r=-1;return e.some(function(i,s){return i[0]===n?(r=s,!0):!1}),r}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(n){var r=t(this.__entries__,n),i=this.__entries__[r];return i&&i[1]},e.prototype.set=function(n,r){var i=t(this.__entries__,n);~i?this.__entries__[i][1]=r:this.__entries__.push([n,r])},e.prototype.delete=function(n){var r=this.__entries__,i=t(r,n);~i&&r.splice(i,1)},e.prototype.has=function(n){return!!~t(this.__entries__,n)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(n,r){r===void 0&&(r=null);for(var i=0,s=this.__entries__;i<s.length;i++){var o=s[i];n.call(r,o[1],o[0])}},e}()}(),el=typeof window<"u"&&typeof document<"u"&&window.document===document,wo=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),e1=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(wo):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}}(),t1=2;function n1(t,e){var n=!1,r=!1,i=0;function s(){n&&(n=!1,t()),r&&a()}function o(){e1(s)}function a(){var u=Date.now();if(n){if(u-i<t1)return;r=!0}else n=!0,r=!1,setTimeout(o,e);i=u}return a}var r1=20,i1=["top","right","bottom","left","width","height","size","weight"],s1=typeof MutationObserver<"u",o1=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=n1(this.refresh.bind(this),r1)}return t.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},t.prototype.removeObserver=function(e){var n=this.observers_,r=n.indexOf(e);~r&&n.splice(r,1),!n.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},t.prototype.updateObservers_=function(){var e=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return e.forEach(function(n){return n.broadcastActive()}),e.length>0},t.prototype.connect_=function(){!el||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),s1?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){!el||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(e){var n=e.propertyName,r=n===void 0?"":n,i=i1.some(function(s){return!!~r.indexOf(s)});i&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),Ug=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t},Kr=function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||wo},jg=fa(0,0,0,0);function bo(t){return parseFloat(t)||0}function If(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce(function(r,i){var s=t["border-"+i+"-width"];return r+bo(s)},0)}function a1(t){for(var e=["top","right","bottom","left"],n={},r=0,i=e;r<i.length;r++){var s=i[r],o=t["padding-"+s];n[s]=bo(o)}return n}function u1(t){var e=t.getBBox();return fa(0,0,e.width,e.height)}function l1(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return jg;var r=Kr(t).getComputedStyle(t),i=a1(r),s=i.left+i.right,o=i.top+i.bottom,a=bo(r.width),u=bo(r.height);if(r.boxSizing==="border-box"&&(Math.round(a+s)!==e&&(a-=If(r,"left","right")+s),Math.round(u+o)!==n&&(u-=If(r,"top","bottom")+o)),!h1(t)){var l=Math.round(a+s)-e,c=Math.round(u+o)-n;Math.abs(l)!==1&&(a-=l),Math.abs(c)!==1&&(u-=c)}return fa(i.left,i.top,a,u)}var c1=function(){return typeof SVGGraphicsElement<"u"?function(t){return t instanceof Kr(t).SVGGraphicsElement}:function(t){return t instanceof Kr(t).SVGElement&&typeof t.getBBox=="function"}}();function h1(t){return t===Kr(t).document.documentElement}function f1(t){return el?c1(t)?u1(t):l1(t):jg}function d1(t){var e=t.x,n=t.y,r=t.width,i=t.height,s=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,o=Object.create(s.prototype);return Ug(o,{x:e,y:n,width:r,height:i,top:n,right:e+r,bottom:i+n,left:e}),o}function fa(t,e,n,r){return{x:t,y:e,width:n,height:r}}var p1=function(){function t(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=fa(0,0,0,0),this.target=e}return t.prototype.isActive=function(){var e=f1(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},t}(),m1=function(){function t(e,n){var r=d1(n);Ug(this,{target:e,contentRect:r})}return t}(),g1=function(){function t(e,n,r){if(this.activeObservations_=[],this.observations_=new $g,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=n,this.callbackCtx_=r}return t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Kr(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)||(n.set(e,new p1(e)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Kr(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)&&(n.delete(e),n.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&e.activeObservations_.push(n)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,n=this.activeObservations_.map(function(r){return new m1(r.target,r.broadcastRect())});this.callback_.call(e,n,e),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),Bg=typeof WeakMap<"u"?new WeakMap:new $g,zg=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=o1.getInstance(),r=new g1(e,n,this);Bg.set(this,r)}return t}();["observe","unobserve","disconnect"].forEach(function(t){zg.prototype[t]=function(){var e;return(e=Bg.get(this))[t].apply(e,arguments)}});var y1=function(){return typeof wo.ResizeObserver<"u"?wo.ResizeObserver:zg}();const v1=Object.freeze(Object.defineProperty({__proto__:null,default:y1},Symbol.toStringTag,{value:"Module"})),vC=Yg(v1);var _1=function(t){return t.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()}).toLowerCase()},E1=_1,w1=E1,b1=function(t){var e=/[height|width]$/;return e.test(t)},Sf=function(t){var e="",n=Object.keys(t);return n.forEach(function(r,i){var s=t[r];r=w1(r),b1(r)&&typeof s=="number"&&(s=s+"px"),s===!0?e+=r:s===!1?e+="not "+r:e+="("+r+": "+s+")",i<n.length-1&&(e+=" and ")}),e},T1=function(t){var e="";return typeof t=="string"?t:t instanceof Array?(t.forEach(function(n,r){e+=Sf(n),r<t.length-1&&(e+=", ")}),e):Sf(t)},_C=T1,Ja,Rf;function A1(){if(Rf)return Ja;Rf=1;function t(e){this.options=e,!e.deferSetup&&this.setup()}return t.prototype={constructor:t,setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(e){return this.options===e||this.options.match===e}},Ja=t,Ja}var Za,Cf;function Hg(){if(Cf)return Za;Cf=1;function t(r,i){var s=0,o=r.length,a;for(s;s<o&&(a=i(r[s],s),a!==!1);s++);}function e(r){return Object.prototype.toString.apply(r)==="[object Array]"}function n(r){return typeof r=="function"}return Za={isFunction:n,isArray:e,each:t},Za}var eu,Pf;function I1(){if(Pf)return eu;Pf=1;var t=A1(),e=Hg().each;function n(r,i){this.query=r,this.isUnconditional=i,this.handlers=[],this.mql=window.matchMedia(r);var s=this;this.listener=function(o){s.mql=o.currentTarget||o,s.assess()},this.mql.addListener(this.listener)}return n.prototype={constuctor:n,addHandler:function(r){var i=new t(r);this.handlers.push(i),this.matches()&&i.on()},removeHandler:function(r){var i=this.handlers;e(i,function(s,o){if(s.equals(r))return s.destroy(),!i.splice(o,1)})},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){e(this.handlers,function(r){r.destroy()}),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var r=this.matches()?"on":"off";e(this.handlers,function(i){i[r]()})}},eu=n,eu}var tu,xf;function S1(){if(xf)return tu;xf=1;var t=I1(),e=Hg(),n=e.each,r=e.isFunction,i=e.isArray;function s(){if(!window.matchMedia)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!window.matchMedia("only all").matches}return s.prototype={constructor:s,register:function(o,a,u){var l=this.queries,c=u&&this.browserIsIncapable;return l[o]||(l[o]=new t(o,c)),r(a)&&(a={match:a}),i(a)||(a=[a]),n(a,function(h){r(h)&&(h={match:h}),l[o].addHandler(h)}),this},unregister:function(o,a){var u=this.queries[o];return u&&(a?u.removeHandler(a):(u.clear(),delete this.queries[o])),this}},tu=s,tu}var nu,Of;function EC(){if(Of)return nu;Of=1;var t=S1();return nu=new t,nu}var qg="Expected a function",Df=0/0,R1="[object Symbol]",C1=/^\s+|\s+$/g,P1=/^[-+]0x[0-9a-f]+$/i,x1=/^0b[01]+$/i,O1=/^0o[0-7]+$/i,D1=parseInt,k1=typeof En=="object"&&En&&En.Object===Object&&En,M1=typeof self=="object"&&self&&self.Object===Object&&self,N1=k1||M1||Function("return this")(),F1=Object.prototype,V1=F1.toString,L1=Math.max,$1=Math.min,ru=function(){return N1.Date.now()};function U1(t,e,n){var r,i,s,o,a,u,l=0,c=!1,h=!1,f=!0;if(typeof t!="function")throw new TypeError(qg);e=kf(e)||0,To(n)&&(c=!!n.leading,h="maxWait"in n,s=h?L1(kf(n.maxWait)||0,e):s,f="trailing"in n?!!n.trailing:f);function m(T){var A=r,L=i;return r=i=void 0,l=T,o=t.apply(L,A),o}function d(T){return l=T,a=setTimeout(v,e),c?m(T):o}function g(T){var A=T-u,L=T-l,F=e-A;return h?$1(F,s-L):F}function p(T){var A=T-u,L=T-l;return u===void 0||A>=e||A<0||h&&L>=s}function v(){var T=ru();if(p(T))return _(T);a=setTimeout(v,g(T))}function _(T){return a=void 0,f&&r?m(T):(r=i=void 0,o)}function I(){a!==void 0&&clearTimeout(a),l=0,r=u=i=a=void 0}function y(){return a===void 0?o:_(ru())}function R(){var T=ru(),A=p(T);if(r=arguments,i=this,u=T,A){if(a===void 0)return d(u);if(h)return a=setTimeout(v,e),m(u)}return a===void 0&&(a=setTimeout(v,e)),o}return R.cancel=I,R.flush=y,R}function j1(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(qg);return To(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),U1(t,e,{leading:r,maxWait:e,trailing:i})}function To(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function B1(t){return!!t&&typeof t=="object"}function z1(t){return typeof t=="symbol"||B1(t)&&V1.call(t)==R1}function kf(t){if(typeof t=="number")return t;if(z1(t))return Df;if(To(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=To(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(C1,"");var n=x1.test(t);return n||O1.test(t)?D1(t.slice(2),n?2:8):P1.test(t)?Df:+t}var wC=j1,Wg={exports:{}},H1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",q1=H1,W1=q1;function Gg(){}function Kg(){}Kg.resetWarningCache=Gg;var G1=function(){function t(r,i,s,o,a,u){if(u!==W1){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Kg,resetWarningCache:Gg};return n.PropTypes=n,n};Wg.exports=G1();var bC=Wg.exports;export{ze as A,vC as B,EC as C,_C as D,Uf as E,wC as F,bC as G,gC as H,kv as I,bv as J,J1 as K,sC as L,rC as M,ed as N,Av as O,t0 as P,Z1 as Q,iC as R,pC as S,EA as _,$f as a,Ao as b,Ty as c,Wi as d,Y1 as e,X1 as f,Mf as g,oC as h,we as i,vi as j,aC as k,cC as l,pi as m,mo as n,fC as o,hr as p,uC as q,_y as r,Q1 as s,hC as t,lC as u,dC as v,rS as w,mC as x,FA as y,yC as z};
